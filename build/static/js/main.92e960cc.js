/*! For license information please see main.92e960cc.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!N.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(o,t,i,"",function(e){return e})):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(a=e[c],c);l+=I(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=s+C(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(E);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,k=null,_=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function j(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?S():(N=!1,k=null)}}else N=!1}if("function"===typeof w)S=function(){w(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=j,S=function(){R.postMessage(null)}}else S=function(){v(j,0)};function P(e){k=e,N||(N=!0,S())}function D(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,D(x,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,P(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case N:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ne=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Ee(e.stateNode,e.type,t))}}function _e(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Ce(e,t,n)}finally{je=!1,(null!==Se||null!==Ne)&&(Ie(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Oe(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,Le=e}};function ze(e,t,n,r,i,s,o,a,l){Me=!1,Le=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,Nt,kt,_t,Tt=!1,Ct=[],It=null,jt=null,At=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=wi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function zt(){Tt=!1,null!==It&&Ut(It)&&(It=null),null!==jt&&Ut(jt)&&(jt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(Vt),Pt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==jt&&Bt(jt,e),null!==At&&Bt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=1,Qt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Gt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=4,Qt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Qt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&Et(s),null===(s=Xt(e,t,n,r))&&Wr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=wi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function sn(){return!1}function on(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:sn,this.isPropagationStopped=sn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var an,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(un),hn=L({},un,{view:0,detail:0}),fn=on(hn),pn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=on(pn),gn=on(L({},pn,{dataTransfer:0})),vn=on(L({},hn,{relatedTarget:0})),yn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(wn),xn=on(L({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function _n(){return kn}var Tn=L({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),In=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!On||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Yn(e){Ur(e,0)}function Xn(e){if(G(xi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}Zn=er}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){Gn&&(Gn.detachEvent("onpropertychange",rr),Qn=Gn=null)}function rr(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];Kn(t,Qn,e,xe(e)),Ae(Yn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Qn=n,(Gn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dr(n,s);var o=dr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,wr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&cr(wr,r)||(wr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Nr={},kr={};function _r(e){if(Nr[e])return Nr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=_r("animationend"),Cr=_r("animationiteration"),Ir=_r("animationstart"),jr=_r("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Vr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=wi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ae(function(){var r=s,i=xe(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Tr:case Cr:case Ir:l=yn;break;case jr:l=An;break;case"scroll":l=fn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!wi(c)&&!c[mi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?wi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:xi(l),f=null==c?a:xi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,wi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,m=h;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)h=Qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==l&&Yr(o,a,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(a=r?xi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Wn(a))if(Jn)g=ar;else{g=sr;var v=ir}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(vr=v,yr=r,wr=null);break;case"focusout":wr=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else qn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==w?"onCompositionEnd"===w&&qn&&(y=tn()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(v=Gr(r,w)).length&&(w=new xn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Bn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&zn(e,t)?(e=tn(),en=Zt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Re(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift(Kr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(Kr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,si="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,pi="__reactProps$"+hi,mi="__reactContainer$"+hi,gi="__reactEvents$"+hi,vi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function wi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[fi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[pi]||null}var Si=[],Ni=-1;function ki(e){return{current:e}}function _i(e){0>Ni||(e.current=Si[Ni],Si[Ni]=null,Ni--)}function Ti(e,t){Ni++,Si[Ni]=e.current,e.current=t}var Ci={},Ii=ki(Ci),ji=ki(!1),Ai=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){_i(ji),_i(Ii)}function Oi(e,t,n){if(Ii.current!==Ci)throw Error(s(168));Ti(Ii,t),Ti(ji,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return L({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,e),Ti(ji,ji.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(ji),_i(Ii),Ti(Ii,e)):_i(ji),Ti(ji,n)}var Ui=null,Vi=!1,zi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,qi),i}finally{wt=t,zi=!1}}return null}var Hi=[],Wi=0,Ki=null,Gi=0,Qi=[],Yi=0,Xi=null,$i=1,Ji="";function Zi(e,t){Hi[Wi++]=Gi,Hi[Wi++]=Ki,Ki=e,Gi=t}function es(e,t,n){Qi[Yi++]=$i,Qi[Yi++]=Ji,Qi[Yi++]=Xi,Xi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else $i=1<<s|n<<i|r,Ji=e}function ts(e){null!==e.return&&(Zi(e,1),es(e,1,0))}function ns(e){for(;e===Ki;)Ki=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null;for(;e===Xi;)Xi=Qi[--Yi],Qi[Yi]=null,Ji=Qi[--Yi],Qi[Yi]=null,$i=Qi[--Yi],Qi[Yi]=null}var rs=null,is=null,ss=!1,os=null;function as(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,is=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,is=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(ss){var t=is;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(s(418));t=ui(n.nextSibling);var r=rs;t&&ls(e,t)?as(r,n):(e.flags=-4097&e.flags|2,ss=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function hs(e){if(e!==rs)return!1;if(!ss)return ds(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=is)){if(cs(e))throw fs(),Error(s(418));for(;t;)as(e,t),t=ui(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=rs?ui(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=is;e;)e=ui(e.nextSibling)}function ps(){is=rs=null,ss=!1}function ms(e){null===os?os=[e]:os.push(e)}var gs=b.ReactCurrentBatchConfig;function vs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ws(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ws(s)===t.type)?((r=i(t,n.props)).ref=vs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=vs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=vs(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),ss&&Zi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return ss&&Zi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ss&&Zi(i,m),c}function g(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),ss&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return ss&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),ss&&Zi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ws(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=vs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Oc(o.type,o.key,o.props,null,r.mode,l)).ref=vs(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(O(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var xs=bs(!0),Es=bs(!1),Ss=ki(null),Ns=null,ks=null,_s=null;function Ts(){_s=ks=Ns=null}function Cs(e){var t=Ss.current;_i(Ss),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Ns=e,_s=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Rs=null;function Ps(e){null===Rs?Rs=[e]:Rs.push(e)}function Ds(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},Ks=ki(Ws),Gs=ki(Ws),Qs=ki(Ws);function Ys(e){if(e===Ws)throw Error(s(174));return e}function Xs(e,t){switch(Ti(Qs,t),Ti(Gs,e),Ti(Ks,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ks),Ti(Ks,t)}function $s(){_i(Ks),_i(Gs),_i(Qs)}function Js(e){Ys(Qs.current);var t=Ys(Ks.current),n=le(t,e.type);t!==n&&(Ti(Gs,e),Ti(Ks,n))}function Zs(e){Gs.current===e&&(_i(Ks),_i(Gs))}var eo=ki(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,oo=0,ao=null,lo=null,co=null,uo=!1,ho=!1,fo=0,po=0;function mo(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function vo(e,t,n,r,i,o){if(oo=o,ao=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?ea:ta,e=n(r,i),ho){o=0;do{if(ho=!1,fo=0,25<=o)throw Error(s(301));o+=1,co=lo=null,t.updateQueue=null,io.current=na,e=n(r,i)}while(ho)}if(io.current=Zo,t=null!==lo&&null!==lo.next,oo=0,co=lo=ao=null,uo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==fo;return fo=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?ao.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===lo){var e=ao.alternate;e=null!==e?e.memoizedState:null}else e=lo.next;var t=null===co?ao.memoizedState:co.next;if(null!==t)co=t,lo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(lo=e).memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},null===co?ao.memoizedState=co=e:co=co.next=e}return co}function xo(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=lo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((oo&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ao.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,lr(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ao.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);lr(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function ko(e,t){var n=ao,r=bo(),i=t(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Lo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ro(9,To.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(s(349));0!==(30&oo)||_o(n,t,i)}return i}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ao.updateQueue)?(t={lastEffect:null,stores:null},ao.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&jo(e)}function Co(e,t,n){return n(function(){Io(t)&&jo(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function jo(e){var t=Os(e,1);null!==t&&rc(t,e,1,-1)}function Ao(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,ao,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ao.updateQueue)?(t={lastEffect:null,stores:null},ao.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Do(e,t,n,r){var i=wo();ao.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==lo){var o=lo.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=Ro(t,n,s,r))}ao.flags|=e,i.memoizedState=Ro(1|t,n,s,r)}function Mo(e,t){return Do(8390656,8,e,t)}function Lo(e,t){return Oo(2048,8,e,t)}function Fo(e,t){return Oo(4,2,e,t)}function Uo(e,t){return Oo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Vo.bind(null,t,e),n)}function Bo(){}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&oo)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),ao.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ko(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{wt=n,so.transition=r}}function Go(){return bo().memoizedState}function Qo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))$o(t,n);else if(null!==(n=Ds(e,t,n,r))){rc(n,e,r,tc()),Jo(n,t,r)}}function Yo(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))$o(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ds(e,t,i,r))&&(rc(n,e,r,i=tc()),Jo(n,t,r))}}function Xo(e){var t=e.alternate;return e===ao||null!==t&&t===ao}function $o(e,t){ho=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zo={readContext:As,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},ea={readContext:As,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qo.bind(null,ao,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ko.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ao,i=wo();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===jl)throw Error(s(349));0!==(30&oo)||_o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=jl.identifierPrefix;if(ss){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=fo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ta={readContext:As,useCallback:qo,useContext:As,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Ho,useReducer:Eo,useRef:Po,useState:function(){return Eo(xo)},useDebugValue:Bo,useDeferredValue:function(e){return Wo(bo(),lo.memoizedState,e)},useTransition:function(){return[Eo(xo)[0],bo().memoizedState]},useMutableSource:No,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1},na={readContext:As,useCallback:qo,useContext:As,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Ho,useReducer:So,useRef:Po,useState:function(){return So(xo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===lo?t.memoizedState=e:Wo(t,lo.memoizedState,e)},useTransition:function(){return[So(xo)[0],bo().memoizedState]},useMutableSource:No,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(rc(t,e,r,n),zs(t,e,r))}};function oa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function aa(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Pi(t)?Ai:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function la(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Pi(t)?Ai:Ii.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ia(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&sa.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),ha(0,t)},n}function ma(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?Es(t,null,n,r):xs(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return js(t,i),r=vo(e,t,n,r,s,i),n=yo(),null===e||ba?(ss&&n&&ts(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Na(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Dl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Dl,Pl),Pl|=r;return xa(e,t,i,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var s=Pi(n)?Ai:Ii.current;return s=Ri(t,s),js(t,i),n=vo(e,t,n,r,s,i),r=yo(),null===e||ba?(ss&&r&&ts(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ca(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(js(t,i),null===t.stateNode)Ha(e,t),aa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Ri(t,c=Pi(n)?Ai:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&la(t,o,r,c),Ms=!1;var h=t.memoizedState;o.state=h,qs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ji.current||Ms?("function"===typeof u&&(ia(t,n,u,r),l=t.memoizedState),(a=Ms||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ra(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Ri(t,l=Pi(n)?Ai:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&la(t,o,r,l),Ms=!1,h=t.memoizedState,o.state=h,qs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||ji.current||Ms?("function"===typeof f&&(ia(t,n,f,r),p=t.memoizedState),(c=Ms||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){_a(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wa(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,a,s)):xa(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xs(e,t.containerInfo)}function Aa(e,t,n,r,i){return ps(),ms(i),t.flags|=256,xa(e,t,n,r),t.child}var Ra,Pa,Da,Oa,Ma={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=eo.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(eo,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=jl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(e,i),rc(r,e,i,-1))}return gc(),Va(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,is=ui(i.nextSibling),rs=t,ss=!0,os=null,null!==e&&(Qi[Yi++]=$i,Qi[Yi++]=Ji,Qi[Yi++]=Xi,$i=e.id,Ji=e.overflow,Xi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ms(r),xs(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ga(t),null;case 3:return r=t.stateNode,$s(),_i(ji),_i(Ii),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==os&&(ac(os),os=null))),Pa(e,t),Ga(t),null;case 5:Zs(t);var i=Ys(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=Ys(Ks.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[pi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Qs.current),Ys(Ks.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ga(t),null;case 13:if(_i(eo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))fs(),ps(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[fi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==os&&(ac(os),os=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return $s(),Pa(e,t),null===e&&qr(t.stateNode.containerInfo),Ga(t),null;case 10:return Cs(t.type._context),Ga(t),null;case 19:if(_i(eo),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=to(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ss)return Ga(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=eo.current,Ti(eo,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ns(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),_i(ji),_i(Ii),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(_i(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(eo),null;case 4:return $s(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ys(Ks.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,$a=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[gi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),qt(e)):ci(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach(function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(o,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||d,gl(t,e),$a=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,Za=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(yg){kc(e,e.return,yg)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Xa;var c=$a;if(Xa=o,($a=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,Za=l):Sl(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Xa=a,$a=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):xl(e)}}function xl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ra(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(s(163))}$a||512&t.flags&&sl(t)}catch(xt){kc(t,t.return,xt)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(yg){kc(t,n,yg)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(yg){kc(t,i,yg)}}var s=t.return;try{sl(t)}catch(yg){kc(t,s,yg)}break;case 5:var o=t.return;try{sl(t)}catch(yg){kc(t,o,yg)}}}catch(yg){kc(t,t.return,yg)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Nl,kl=Math.ceil,_l=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Il=0,jl=null,Al=null,Rl=0,Pl=0,Dl=ki(0),Ol=0,Ml=null,Ll=0,Fl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Hl=null,Wl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Xl=0,$l=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Il)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==gs.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===jl||(e===jl&&(0===(2&Il)&&(Fl|=n),4===Ol&&lc(e,Rl)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(ql=$e()+500,Vi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===jl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai(function(){0===(6&Il)&&qi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Il;Il|=2;var o=mc();for(jl===e&&Rl===t||(Hl=null,ql=$e()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}Ts(),_l.current=o,Il=i,null!==Al?t=0:(jl=null,Rl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,zl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(Ec.bind(null,e,zl,Hl),t);break}Ec(e,zl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ii(Ec.bind(null,e,zl,Hl),r);break}Ec(e,zl,Hl);break;default:throw Error(s(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Il))throw Error(s(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Hl),ic(e,$e()),null}function uc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(ql=$e()+500,Vi&&qi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&Sc();var t=Il;Il|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0===(6&(Il=t))&&qi()}}function hc(){Pl=Dl.current,_i(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,si(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:$s(),_i(ji),_i(Ii),ro();break;case 5:Zs(r);break;case 4:$s();break;case 13:case 19:_i(eo);break;case 10:Cs(r.type._context);break;case 22:case 23:hc()}n=n.return}if(jl=e,Al=e=Dc(e.current,null),Rl=Pl=t,Ol=0,Ml=null,Ul=Fl=Ll=0,zl=Vl=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Rs=null}return e}function pc(e,t){for(;;){var n=Al;try{if(Ts(),io.current=Zo,uo){for(var r=ao.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(oo=0,co=lo=ao=null,ho=!1,fo=0,Tl.current=null,null===n||null===n.return){Ol=1,Ml=t,Al=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(ss&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ms(ua(c,l));break e}}o=c=ua(c,l),4!==Ol&&(Ol=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=_l.current;return _l.current=Zo,null===e?Zo:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===jl||0===(268435455&Ll)&&0===(268435455&Fl)||lc(jl,Rl)}function vc(e,t){var n=Il;Il|=2;var r=mc();for(jl===e&&Rl===t||(Hl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Ts(),Il=n,_l.current=r,null!==Al)throw Error(s(261));return jl=null,Rl=0,Ol}function yc(){for(;null!==Al;)bc(Al)}function wc(){for(;null!==Al&&!Ye();)bc(Al)}function bc(e){var t=Nl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,Tl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Pl)))return void(Al=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ol=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ol&&(Ol=5)}function Ec(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===jl&&(Al=jl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,jc(tt,function(){return Sc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=wt;wt=1;var l=Il;Il|=4,Tl.current=null,function(e,t){if(ti=Wt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Um){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ra(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Um){kc(t,t.return,Um)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),mr(ni),Wt=!!ti,ni=ti=null,e.current=n,wl(n,e,i),Xe(),Il=l,wt=a,Cl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Jl?$l++:($l=0,Jl=e):$l=0,qi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function Sc(){if(null!==Yl){var e=bt(Xl),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(ol(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){kc(l,l.return,E)}if(l===a){Za=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Za=x;break e}Za=l.return}}if(Il=i,qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function Nc(e,t,n){e=Vs(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Vs(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Rl&n)===n&&(4===Ol||3===Ol&&(130023424&Rl)===Rl&&500>$e()-Bl?fc(e,0):Ul|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Os(e,t))&&(vt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function jc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Mc(n.children,i,o,t);case N:a=8,i|=8;break;case k:return(e=Rc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case I:return(e=Rc(13,n,t,i)).elementType=I,e.lanes=o,e;case j:return(e=Rc(19,n,t,i)).elementType=j,e.lanes=o,e;case P:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case T:a=9;break e;case C:a=11;break e;case A:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=zc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=Us(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,o))&&(rc(e,i,o,s),zs(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:ja(t),ps();break;case 5:Js(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ti(eo,1&eo.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ti(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ss&&0!==(1048576&t.flags)&&es(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);js(t,n),i=vo(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=sa,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,ss&&o&&ts(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ra(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,ra(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 3:e:{if(ja(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),qs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(is=ui(t.stateNode.containerInfo.firstChild),rs=t,ss=!0,os=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Wa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ri(r,i)?a=null:null!==o&&ri(r,o)&&(t.flags|=32),_a(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fa(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ti(Ss,r._currentValue),r._currentValue=a,null!==o)if(lr(o.value,a)){if(o.children===i.children&&!ji.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Us(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,js(t,n),r=r(i=As(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=ra(r=t.type,t.pendingProps),Sa(e,t,r,i=ra(r.type,i),n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ra(r,i),Ha(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,js(t,n),aa(t,r,i),ca(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[mi]=o.current,qr(8===e.nodeType?e.parentNode:e),dc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[mi]=l.current,qr(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[mi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Il)&&(ql=$e()+500,qi()))}break;case 13:dc(function(){var t=Os(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=nc(e),n=Os(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},kt=function(){return wt},_t=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ie=dc;var tu={usingClientEntryPoint:!1,Events:[bi,xi,Ei,_e,Te,uc]},nu={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[mi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var d=n(43),h=n.t(d,2);let f=0;const p=new Map,m=e=>{if(p.has(e))return;const t=setTimeout(()=>{p.delete(e),w({type:"REMOVE_TOAST",toastId:e})},1e6);p.set(e,t)},g=(e,t)=>{switch(t.type){case"ADD_TOAST":return l(l({},e),{},{toasts:[t.toast,...e.toasts].slice(0,1)});case"UPDATE_TOAST":return l(l({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?l(l({},e),t.toast):e)});case"DISMISS_TOAST":{const{toastId:n}=t;return n?m(n):e.toasts.forEach(e=>{m(e.id)}),l(l({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?l(l({},e),{},{open:!1}):e)})}case"REMOVE_TOAST":return void 0===t.toastId?l(l({},e),{},{toasts:[]}):l(l({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)})}},v=[];let y={toasts:[]};function w(e){y=g(y,e),v.forEach(e=>{e(y)})}function b(e){let t=Object.assign({},(u(e),e));const n=(f=(f+1)%Number.MAX_SAFE_INTEGER,f.toString()),r=()=>w({type:"DISMISS_TOAST",toastId:n});return w({type:"ADD_TOAST",toast:l(l({},t),{},{id:n,open:!0,onOpenChange:e=>{e||r()}})}),{id:n,dismiss:r,update:e=>w({type:"UPDATE_TOAST",toast:l(l({},e),{},{id:n})})}}function x(){const[e,t]=d.useState(y);return d.useEffect(()=>(v.push(t),()=>{const e=v.indexOf(t);e>-1&&v.splice(e,1)}),[e]),l(l({},e),{},{toast:b,dismiss:e=>w({type:"DISMISS_TOAST",toastId:e})})}var E=n(950),S=n.t(E,2);function N(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}function k(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=k(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():k(t[e],null)}}}}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useCallback(_(...t),t)}function C(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I(e,t,n){C(e,t),t.set(e,n)}function j(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function A(e,t){return e.get(j(e,t))}function R(e,t,n){return e.set(j(e,t),n),n}var P=n(579);const D=["children"],O=["scope","children"];function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const r=()=>{const t=n.map(e=>d.createContext(e));return function(n){const r=(null===n||void 0===n?void 0:n[e])||t;return d.useMemo(()=>({["__scope".concat(e)]:l(l({},n),{},{[e]:r})}),[n,r])}};return r.scopeName=e,[function(t,r){const i=d.createContext(r),s=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o}=t,a=c(t,O),l=(null===r||void 0===r||null===(n=r[e])||void 0===n?void 0:n[s])||i,u=d.useMemo(()=>a,Object.values(a));return(0,P.jsx)(l.Provider,{value:u,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var a;const l=(null===o||void 0===o||null===(a=o[e])||void 0===a?void 0:a[s])||i,c=d.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},L(r,...t)]}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];if(1===t.length)return r;const i=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const n=e.reduce((e,n)=>{let{useScope:r,scopeName:i}=n;const s=r(t)["__scope".concat(i)];return l(l({},e),s)},{});return d.useMemo(()=>({["__scope".concat(r.scopeName)]:n}),[n])}};return i.scopeName=r.scopeName,i}const F=["children"],U=["children"];function V(e){const t=B(e),n=d.forwardRef((e,n)=>{const{children:r}=e,i=c(e,F),s=d.Children.toArray(r),o=s.find(K);if(o){const e=o.props.children,r=s.map(t=>t===o?d.Children.count(e)>1?d.Children.only(null):d.isValidElement(e)?e.props.children:null:t);return(0,P.jsx)(t,l(l({},i),{},{ref:n,children:d.isValidElement(e)?d.cloneElement(e,void 0,r):null}))}return(0,P.jsx)(t,l(l({},i),{},{ref:n,children:r}))});return n.displayName="".concat(e,".Slot"),n}var z=V("Slot");function B(e){const t=d.forwardRef((e,t)=>{const{children:n}=e,r=c(e,U);if(d.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n=l({},t);for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=function(){const e=s(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=l(l({},i),s):"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return l(l({},e),n)}(r,n.props);return n.type!==d.Fragment&&(i.ref=t?_(t,e):e),d.cloneElement(n,i)}return d.Children.count(n)>1?d.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var q=Symbol("radix.slottable");function H(e){const t=e=>{let{children:t}=e;return(0,P.jsx)(P.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=q,t}var W;function K(e){return d.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===q}const G=["scope","children"];function Q(e){const t=e+"CollectionProvider",[n,r]=M(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,r=d.useRef(null),s=d.useRef(new Map).current;return(0,P.jsx)(i,{scope:t,itemMap:s,collectionRef:r,children:n})};o.displayName=t;const a=e+"CollectionSlot",u=V(a),h=d.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=T(t,s(a,n).collectionRef);return(0,P.jsx)(u,{ref:i,children:r})});h.displayName=a;const f=e+"CollectionItemSlot",p="data-radix-collection-item",m=V(f),g=d.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=c(e,G),o=d.useRef(null),a=T(t,o),u=s(f,n);return d.useEffect(()=>(u.itemMap.set(o,l({ref:o},i)),()=>{u.itemMap.delete(o)})),(0,P.jsx)(m,l(l({},{[p]:""}),{},{ref:a,children:r}))});return g.displayName=f,[{Provider:o,Slot:h,ItemSlot:g},function(t){const n=s(e+"CollectionConsumer",t);return d.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var Y=new WeakMap;W=new WeakMap,Map;function X(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=$(t),i=r>=0?r:n+r;return i<0||i>=n?-1:i}(e,t);return-1===n?void 0:e[n]}function $(e){return e!==e||0===e?0:Math.trunc(e)}const J=["asChild"];var Z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=V("Primitive.".concat(t)),r=d.forwardRef((e,r)=>{const{asChild:i}=e,s=c(e,J),o=i?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,P.jsx)(o,l(l({},s),{},{ref:r}))});return r.displayName="Primitive.".concat(t),l(l({},e),{},{[t]:r})},{});function ee(e,t){e&&E.flushSync(()=>e.dispatchEvent(t))}function te(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)},[])}const ne=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var re,ie="dismissableLayer.update",se="dismissableLayer.pointerDownOutside",oe="dismissableLayer.focusOutside",ae=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),le=d.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:u}=e,h=c(e,ne),f=d.useContext(ae),[p,m]=d.useState(null),g=null!==(n=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,v]=d.useState({}),y=T(t,e=>m(e)),w=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(b),E=p?w.indexOf(p):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,k=E>=x,_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=te(e),r=d.useRef(!1),i=d.useRef(()=>{});return d.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){de(se,n,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...f.branches].some(e=>e.contains(t));k&&!n&&(null===s||void 0===s||s(e),null===a||void 0===a||a(e),e.defaultPrevented||null===u||void 0===u||u())},g),C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=te(e),r=d.useRef(!1);return d.useEffect(()=>{const e=e=>{if(e.target&&!r.current){de(oe,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...f.branches].some(e=>e.contains(t))||(null===o||void 0===o||o(e),null===a||void 0===a||a(e),e.defaultPrevented||null===u||void 0===u||u())},g);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=te(e);d.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{E===f.layers.size-1&&(null===i||void 0===i||i(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},g),d.useEffect(()=>{if(p)return r&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(re=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),ue(),()=>{r&&1===f.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=re)}},[p,g,r,f]),d.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),ue())},[p,f]),d.useEffect(()=>{const e=()=>v({});return document.addEventListener(ie,e),()=>document.removeEventListener(ie,e)},[]),(0,P.jsx)(Z.div,l(l({},h),{},{ref:y,style:l({pointerEvents:S?k?"auto":"none":void 0},e.style),onFocusCapture:N(e.onFocusCapture,C.onFocusCapture),onBlurCapture:N(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:N(e.onPointerDownCapture,_.onPointerDownCapture)}))});le.displayName="DismissableLayer";var ce=d.forwardRef((e,t)=>{const n=d.useContext(ae),r=d.useRef(null),i=T(t,r);return d.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,P.jsx)(Z.div,l(l({},e),{},{ref:i}))});function ue(){const e=new CustomEvent(ie);document.dispatchEvent(e)}function de(e,t,n,r){let{discrete:i}=r;const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?ee(s,o):s.dispatchEvent(o)}ce.displayName="DismissableLayerBranch";var he=le,fe=ce,pe=null!==globalThis&&void 0!==globalThis&&globalThis.document?d.useLayoutEffect:()=>{};const me=["container"];var ge=d.forwardRef((e,t)=>{var n;const{container:r}=e,i=c(e,me),[s,o]=d.useState(!1);pe(()=>o(!0),[]);const a=r||s&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return a?E.createPortal((0,P.jsx)(Z.div,l(l({},i),{},{ref:t})),a):null});ge.displayName="Portal";var ve=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=d.useState(),r=d.useRef(null),i=d.useRef(e),s=d.useRef("none"),o=e?"mounted":"unmounted",[a,l]=function(e,t){return d.useReducer((e,n)=>{const r=t[e][n];return null!==r&&void 0!==r?r:e},e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const e=ye(r.current);s.current="mounted"===a?e:"none"},[a]),pe(()=>{const t=r.current,n=i.current;if(n!==e){const r=s.current,o=ye(t);if(e)l("MOUNT");else if("none"===o||"none"===(null===t||void 0===t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,l]),pe(()=>{if(t){var e;let n;const o=null!==(e=t.ownerDocument.defaultView)&&void 0!==e?e:window,a=e=>{const s=ye(r.current).includes(e.animationName);if(e.target===t&&s&&(l("ANIMATION_END"),!i.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=o.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(s.current=ye(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{o.clearTimeout(n),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"===typeof n?n({present:r.isPresent}):d.Children.only(n),s=T(r.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||r.isPresent?d.cloneElement(i,{ref:s}):null};function ye(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}ve.displayName="Presence";var we=h[" useInsertionEffect ".trim().toString()]||pe;function be(e){let{prop:t,defaultProp:n,onChange:r=()=>{},caller:i}=e;const[s,o,a]=function(e){let{defaultProp:t,onChange:n}=e;const[r,i]=d.useState(t),s=d.useRef(r),o=d.useRef(n);return we(()=>{o.current=n},[n]),d.useEffect(()=>{var e;s.current!==r&&(null===(e=o.current)||void 0===e||e.call(o,r),s.current=r)},[r,s]),[r,i,o]}({defaultProp:n,onChange:r}),l=void 0!==t,c=l?t:s;{const e=d.useRef(void 0!==t);d.useEffect(()=>{const t=e.current;if(t!==l){const e=t?"controlled":"uncontrolled",n=l?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=l},[l,i])}const u=d.useCallback(e=>{if(l){const r=function(e){return"function"===typeof e}(e)?e(t):e;var n;if(r!==t)null===(n=a.current)||void 0===n||n.call(a,r)}else o(e)},[l,t,o,a]);return[c,u]}Symbol("RADIX:SYNC_STATE");var xe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ee=d.forwardRef((e,t)=>(0,P.jsx)(Z.span,l(l({},e),{},{ref:t,style:l(l({},xe),e.style)})));Ee.displayName="VisuallyHidden";var Se=Ee;const Ne=["__scopeToast","hotkey","label"],ke=["__scopeToast","onFocusFromOutsideViewport"],_e=["forceMount","open","defaultOpen","onOpenChange"],Te=["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"],Ce=["__scopeToast","children"],Ie=["__scopeToast"],je=["__scopeToast"],Ae=["altText"],Re=["__scopeToast"],Pe=["__scopeToast","altText"];var De="ToastProvider",[Oe,Me,Le]=Q("Toast"),[Fe,Ue]=M("Toast",[Le]),[Ve,ze]=Fe(De),Be=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[a,l]=d.useState(null),[c,u]=d.useState(0),h=d.useRef(!1),f=d.useRef(!1);return n.trim()||console.error("Invalid prop `label` supplied to `".concat(De,"`. Expected non-empty `string`.")),(0,P.jsx)(Oe.Provider,{scope:t,children:(0,P.jsx)(Ve,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:d.useCallback(()=>u(e=>e+1),[]),onToastRemove:d.useCallback(()=>u(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Be.displayName=De;var qe="ToastViewport",He=["F8"],We="toast.viewportPause",Ke="toast.viewportResume",Ge=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=He,label:i="Notifications ({hotkey})"}=e,s=c(e,Ne),o=ze(qe,n),a=Me(n),u=d.useRef(null),h=d.useRef(null),f=d.useRef(null),p=d.useRef(null),m=T(t,p,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;d.useEffect(()=>{const e=e=>{var t;0!==r.length&&r.every(t=>e[t]||e.code===t)&&(null===(t=p.current)||void 0===t||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),d.useEffect(()=>{const e=u.current,t=p.current;if(v&&e&&t){const n=()=>{if(!o.isClosePausedRef.current){const e=new CustomEvent(We);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},r=()=>{if(o.isClosePausedRef.current){const e=new CustomEvent(Ke);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},s=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",s),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}},[v,o.isClosePausedRef]);const y=d.useCallback(e=>{let{tabbingDirection:t}=e;const n=a().map(e=>{const n=e.ref.current,r=[n,...ht(n)];return"forwards"===t?r:r.reverse()});return("forwards"===t?n.reverse():n).flat()},[a]);return d.useEffect(()=>{const e=p.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,o=t.shiftKey;var r;if(t.target===e&&o)return void(null===(r=h.current)||void 0===r||r.focus());const a=y({tabbingDirection:o?"backwards":"forwards"}),l=a.findIndex(e=>e===n);var i,s;if(ft(a.slice(l+1)))t.preventDefault();else o?null===(i=h.current)||void 0===i||i.focus():null===(s=f.current)||void 0===s||s.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[a,y]),(0,P.jsxs)(fe,{ref:u,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&(0,P.jsx)(Ye,{ref:h,onFocusFromOutsideViewport:()=>{ft(y({tabbingDirection:"forwards"}))}}),(0,P.jsx)(Oe.Slot,{scope:n,children:(0,P.jsx)(Z.ol,l(l({tabIndex:-1},s),{},{ref:m}))}),v&&(0,P.jsx)(Ye,{ref:f,onFocusFromOutsideViewport:()=>{ft(y({tabbingDirection:"backwards"}))}})]})});Ge.displayName=qe;var Qe="ToastFocusProxy",Ye=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r}=e,i=c(e,ke),s=ze(Qe,n);return(0,P.jsx)(Ee,l(l({"aria-hidden":!0,tabIndex:0},i),{},{ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null!==(t=s.viewport)&&void 0!==t&&t.contains(n))&&r()}}))});Ye.displayName=Qe;var Xe="Toast",$e=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s}=e,o=c(e,_e),[a,u]=be({prop:r,defaultProp:null===i||void 0===i||i,onChange:s,caller:Xe});return(0,P.jsx)(ve,{present:n||a,children:(0,P.jsx)(et,l(l({open:a},o),{},{ref:t,onClose:()=>u(!1),onPause:te(e.onPause),onResume:te(e.onResume),onSwipeStart:N(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:N(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(n,"px"))}),onSwipeCancel:N(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:N(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(n,"px")),u(!1)})}))})});$e.displayName=Xe;var[Je,Ze]=Fe(Xe,{onClose(){}}),et=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:g}=e,v=c(e,Te),y=ze(Xe,n),[w,b]=d.useState(null),x=T(t,e=>b(e)),S=d.useRef(null),k=d.useRef(null),_=i||y.duration,C=d.useRef(0),I=d.useRef(_),j=d.useRef(0),{onToastAdd:A,onToastRemove:R}=y,D=te(()=>{var e;(null===w||void 0===w?void 0:w.contains(document.activeElement))&&(null===(e=y.viewport)||void 0===e||e.focus()),o()}),O=d.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(j.current),C.current=(new Date).getTime(),j.current=window.setTimeout(D,e))},[D]);d.useEffect(()=>{const e=y.viewport;if(e){const t=()=>{O(I.current),null===h||void 0===h||h()},n=()=>{const e=(new Date).getTime()-C.current;I.current=I.current-e,window.clearTimeout(j.current),null===u||void 0===u||u()};return e.addEventListener(We,n),e.addEventListener(Ke,t),()=>{e.removeEventListener(We,n),e.removeEventListener(Ke,t)}}},[y.viewport,_,u,h,O]),d.useEffect(()=>{s&&!y.isClosePausedRef.current&&O(_)},[s,_,y.isClosePausedRef,O]),d.useEffect(()=>(A(),()=>R()),[A,R]);const M=d.useMemo(()=>w?ct(w):null,[w]);return y.viewport?(0,P.jsxs)(P.Fragment,{children:[M&&(0,P.jsx)(tt,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:M}),(0,P.jsx)(Je,{scope:n,onClose:D,children:E.createPortal((0,P.jsx)(Oe.ItemSlot,{scope:n,children:(0,P.jsx)(he,{asChild:!0,onEscapeKeyDown:N(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,P.jsx)(Z.li,l(l({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection},v),{},{ref:x,style:l({userSelect:"none",touchAction:"none"},e.style),onKeyDown:N(e.onKeyDown,e=>{"Escape"===e.key&&(null===a||void 0===a||a(e.nativeEvent),e.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:N(e.onPointerDown,e=>{0===e.button&&(S.current={x:e.clientX,y:e.clientY})}),onPointerMove:N(e.onPointerMove,e=>{if(!S.current)return;const t=e.clientX-S.current.x,n=e.clientY-S.current.y,r=Boolean(k.current),i=["left","right"].includes(y.swipeDirection),s=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,o=i?s(0,t):0,a=i?0:s(0,n),l="touch"===e.pointerType?10:2,c={x:o,y:a},u={originalEvent:e,delta:c};r?(k.current=c,ut("toast.swipeMove",p,u,{discrete:!1})):dt(c,y.swipeDirection,l)?(k.current=c,ut("toast.swipeStart",f,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(S.current=null)}),onPointerUp:N(e.onPointerUp,e=>{const t=k.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),k.current=null,S.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};dt(t,y.swipeDirection,y.swipeThreshold)?ut("toast.swipeEnd",g,r,{discrete:!0}):ut("toast.swipeCancel",m,r,{discrete:!0}),n.addEventListener("click",e=>e.preventDefault(),{once:!0})}})}))})}),y.viewport)})]}):null}),tt=e=>{const{__scopeToast:t,children:n}=e,r=c(e,Ce),i=ze(Xe,t),[s,o]=d.useState(!1),[a,u]=d.useState(!1);return function(){const e=te(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});pe(()=>{let t=0,n=0;return t=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(n)}},[e])}(()=>o(!0)),d.useEffect(()=>{const e=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(e)},[]),a?null:(0,P.jsx)(ge,{asChild:!0,children:(0,P.jsx)(Ee,l(l({},r),{},{children:s&&(0,P.jsxs)(P.Fragment,{children:[i.label," ",n]})}))})},nt=d.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=c(e,Ie);return(0,P.jsx)(Z.div,l(l({},r),{},{ref:t}))});nt.displayName="ToastTitle";var rt=d.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=c(e,je);return(0,P.jsx)(Z.div,l(l({},r),{},{ref:t}))});rt.displayName="ToastDescription";var it="ToastAction",st=d.forwardRef((e,t)=>{const{altText:n}=e,r=c(e,Ae);return n.trim()?(0,P.jsx)(lt,{altText:n,asChild:!0,children:(0,P.jsx)(at,l(l({},r),{},{ref:t}))}):(console.error("Invalid prop `altText` supplied to `".concat(it,"`. Expected non-empty `string`.")),null)});st.displayName=it;var ot="ToastClose",at=d.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=c(e,Re),i=Ze(ot,n);return(0,P.jsx)(lt,{asChild:!0,children:(0,P.jsx)(Z.button,l(l({type:"button"},r),{},{ref:t,onClick:N(e.onClick,i.onClose)}))})});at.displayName=ot;var lt=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r}=e,i=c(e,Pe);return(0,P.jsx)(Z.div,l(l({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i),{},{ref:t}))});function ct(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...ct(e))}}),t}function ut(e,t,n,r){let{discrete:i}=r;const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?ee(s,o):s.dispatchEvent(o)}var dt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return"left"===t||"right"===t?s&&r>n:!s&&i>n};function ht(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ft(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var pt=Be,mt=Ge,gt=$e,vt=nt,yt=rt,wt=st,bt=at;function xt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=xt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=xt(e))&&(r&&(r+=" "),r+=t);return r}const St=["class","className"],Nt=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,kt=Et,_t=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return kt(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(e=>{const t=null===n||void 0===n?void 0:n[e],r=null===s||void 0===s?void 0:s[e];if(null===t)return null;const o=Nt(t)||Nt(r);return i[e][o]}),a=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),u=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r}=t,i=c(t,St);return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(l(l({},s),a)[t]):l(l({},s),a)[t]===n})?[...e,n,r]:e},[]);return kt(e,o,u,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)},Tt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Ct={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const It=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],jt=(0,d.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:u}=e,h=c(e,It);return(0,d.createElement)("svg",l(l({ref:t},Ct),{},{width:r,height:r,stroke:n,strokeWidth:s?24*Number(i)/Number(r):i,className:Tt("lucide",o)},h),[...u.map(e=>{let[t,n]=e;return(0,d.createElement)(t,n)}),...Array.isArray(a)?a:[a]])}),At=["className"],Rt=(e,t)=>{const n=(0,d.forwardRef)((n,r)=>{let{className:i}=n,s=c(n,At);return(0,d.createElement)(jt,l({ref:r,iconNode:t,className:Tt("lucide-".concat((o=e,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),i)},s));var o});return n.displayName="".concat(e),n},Pt=Rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dt=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),s=i?Dt(e.slice(1),i):void 0;if(s)return s;if(0===t.validators.length)return;const o=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===n?void 0:n.classGroupId},Ot=/^\[(.+)\]$/,Mt=e=>{if(Ot.test(e)){const t=Ot.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Lt=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return zt(Object.entries(e.classGroups),n).forEach(e=>{let[n,i]=e;Ft(i,r,n,t)}),r},Ft=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:Ut(t,e)).classGroupId=n)}if("function"===typeof e)return Vt(e)?void Ft(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[i,s]=e;Ft(s,Ut(t,i),n,r)})})},Ut=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Vt=e=>e.isThemeGetter,zt=(e,t)=>t?e.map(e=>{let[n,r]=e;return[n,r.map(e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[n,r]=e;return[t+n,r]})):e)]}):e,Bt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},qt=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],s=t.length,o=e=>{const n=[];let o,a=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===a){if(c===i&&(r||e.slice(d,d+s)===t)){n.push(e.slice(l,d)),l=d+s;continue}if("/"===c){o=d;continue}}"["===c?a++:"]"===c&&a--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:o&&o>l?o-l:void 0}};return n?e=>n({className:e,parseClassName:o}):o},Ht=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},Wt=e=>l({cache:Bt(e.cacheSize),parseClassName:qt(e)},(e=>{const t=Lt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Dt(n,t)||Mt(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),Kt=/\s+/;function Gt(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Qt(e))&&(r&&(r+=" "),r+=t);return r}const Qt=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Qt(e[r]))&&(n&&(n+=" "),n+=t);return n};function Yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,s,o,a=function(t){const r=n.reduce((e,t)=>t(e),e());return i=Wt(r),s=i.cache.get,o=i.cache.set,a=l,l(t)};function l(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(Kt);let a="";for(let l=o.length-1;l>=0;l-=1){const e=o[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=r(u),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=Ht(t).join(":"),m=c?p+"!":p,g=m+f;if(s.includes(g))continue;s.push(g);const v=i(f,h);for(let n=0;n<v.length;++n){const e=v[n];s.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,i);return o(e,n),n}return function(){return a(Gt.apply(null,arguments))}}const Xt=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},$t=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jt=/^\d+\/\d+$/,Zt=new Set(["px","full","screen"]),en=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,on=e=>ln(e)||Zt.has(e)||Jt.test(e),an=e=>xn(e,"length",En),ln=e=>Boolean(e)&&!Number.isNaN(Number(e)),cn=e=>xn(e,"number",ln),un=e=>Boolean(e)&&Number.isInteger(Number(e)),dn=e=>e.endsWith("%")&&ln(e.slice(0,-1)),hn=e=>$t.test(e),fn=e=>en.test(e),pn=new Set(["length","size","percentage"]),mn=e=>xn(e,pn,Sn),gn=e=>xn(e,"position",Sn),vn=new Set(["image","url"]),yn=e=>xn(e,vn,kn),wn=e=>xn(e,"",Nn),bn=()=>!0,xn=(e,t,n)=>{const r=$t.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},En=e=>tn.test(e)&&!nn.test(e),Sn=()=>!1,Nn=e=>rn.test(e),kn=e=>sn.test(e),_n=(Symbol.toStringTag,()=>{const e=Xt("colors"),t=Xt("spacing"),n=Xt("blur"),r=Xt("brightness"),i=Xt("borderColor"),s=Xt("borderRadius"),o=Xt("borderSpacing"),a=Xt("borderWidth"),l=Xt("contrast"),c=Xt("grayscale"),u=Xt("hueRotate"),d=Xt("invert"),h=Xt("gap"),f=Xt("gradientColorStops"),p=Xt("gradientColorStopPositions"),m=Xt("inset"),g=Xt("margin"),v=Xt("opacity"),y=Xt("padding"),w=Xt("saturate"),b=Xt("scale"),x=Xt("sepia"),E=Xt("skew"),S=Xt("space"),N=Xt("translate"),k=()=>["auto",hn,t],_=()=>[hn,t],T=()=>["",on,an],C=()=>["auto",ln,hn],I=()=>["","0",hn],j=()=>[ln,hn];return{cacheSize:500,separator:":",theme:{colors:[bn],spacing:[on,an],blur:["none","",fn,hn],brightness:j(),borderColor:[e],borderRadius:["none","","full",fn,hn],borderSpacing:_(),borderWidth:T(),contrast:j(),grayscale:I(),hueRotate:j(),invert:I(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[dn,an],inset:k(),margin:k(),opacity:j(),padding:_(),saturate:j(),scale:j(),sepia:I(),skew:j(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",hn]}],container:["container"],columns:[{columns:[fn]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",hn]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",un,hn]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",hn]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",un,hn]}],"grid-cols":[{"grid-cols":[bn]}],"col-start-end":[{col:["auto",{span:["full",un,hn]},hn]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[bn]}],"row-start-end":[{row:["auto",{span:[un,hn]},hn]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",hn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",hn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",hn,t]}],"min-w":[{"min-w":[hn,t,"min","max","fit"]}],"max-w":[{"max-w":[hn,t,"none","full","min","max","fit","prose",{screen:[fn]},fn]}],h:[{h:[hn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[hn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[hn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[hn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fn,an]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cn]}],"font-family":[{font:[bn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",hn]}],"line-clamp":[{"line-clamp":["none",ln,cn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",on,hn]}],"list-image":[{"list-image":["none",hn]}],"list-style-type":[{list:["none","disc","decimal",hn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",on,an]}],"underline-offset":[{"underline-offset":["auto",on,hn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",hn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",hn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",gn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yn]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[on,hn]}],"outline-w":[{outline:[on,an]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[on,an]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fn,wn]}],"shadow-color":[{shadow:[bn]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fn,hn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",hn]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",hn]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",hn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[un,hn]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",hn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",hn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",hn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[on,an,cn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),Tn=Yt(_n);function Cn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tn(Et(t))}const In=["className"],jn=["className","variant"],An=["className"],Rn=["className"],Pn=["className"],Dn=["className"],On=pt,Mn=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,In);return(0,P.jsx)(mt,l({ref:t,className:Cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n)},r))});Mn.displayName=mt.displayName;const Ln=_t("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Fn=d.forwardRef((e,t)=>{let{className:n,variant:r}=e,i=c(e,jn);return(0,P.jsx)(gt,l({ref:t,className:Cn(Ln({variant:r}),n)},i))});Fn.displayName=gt.displayName;d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,An);return(0,P.jsx)(wt,l({ref:t,className:Cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n)},r))}).displayName=wt.displayName;const Un=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,Rn);return(0,P.jsx)(bt,l(l({ref:t,className:Cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":""},r),{},{children:(0,P.jsx)(Pt,{className:"h-4 w-4"})}))});Un.displayName=bt.displayName;const Vn=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,Pn);return(0,P.jsx)(vt,l({ref:t,className:Cn("text-sm font-semibold",n)},r))});Vn.displayName=vt.displayName;const zn=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,Dn);return(0,P.jsx)(yt,l({ref:t,className:Cn("text-sm opacity-90",n)},r))});zn.displayName=yt.displayName;const Bn=["id","title","description","action"];function qn(){const{toasts:e}=x();return(0,P.jsxs)(On,{children:[e.map(function(e){let{id:t,title:n,description:r,action:i}=e,s=c(e,Bn);return(0,P.jsxs)(Fn,l(l({},s),{},{children:[(0,P.jsxs)("div",{className:"grid gap-1",children:[n&&(0,P.jsx)(Vn,{children:n}),r&&(0,P.jsx)(zn,{children:r})]}),i,(0,P.jsx)(Un,{})]}),t)}),(0,P.jsx)(Mn,{})]})}var Hn=["light","dark"],Wn="(prefers-color-scheme: dark)",Kn=d.createContext(void 0),Gn={setTheme:e=>{},themes:[]};d.memo(e=>{let{forcedTheme:t,storageKey:n,attribute:r,enableSystem:i,enableColorScheme:s,defaultTheme:o,value:a,attrs:l,nonce:c}=e,u="system"===o,h="class"===r?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(l.map(e=>"'".concat(e,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(r,"',s='setAttribute';"),f=s?Hn.includes(o)&&o?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(o,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=a?a[e]:e,o=t?e+"|| ''":"'".concat(i,"'"),l="";return s&&n&&!t&&Hn.includes(e)&&(l+="d.style.colorScheme = '".concat(e,"';")),"class"===r?l+=t||i?"c.add(".concat(o,")"):"null":i&&(l+="d[s](n,".concat(o,")")),l},m=t?"!function(){".concat(h).concat(p(t),"}()"):i?"!function(){try{".concat(h,"var e=localStorage.getItem('").concat(n,"');if('system'===e||(!e&&").concat(u,")){var t='").concat(Wn,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(p("dark"),"}else{").concat(p("light"),"}}else if(e){").concat(a?"var x=".concat(JSON.stringify(a),";"):"").concat(p(a?"x[e]":"e",!0),"}").concat(u?"":"else{"+p(o,!1,!1)+"}").concat(f,"}catch(e){}}()"):"!function(){try{".concat(h,"var e=localStorage.getItem('").concat(n,"');if(e){").concat(a?"var x=".concat(JSON.stringify(a),";"):"").concat(p(a?"x[e]":"e",!0),"}else{").concat(p(o,!1,!1),";}").concat(f,"}catch(t){}}();");return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});const Qn=["message"];var Yn=Array(12).fill(0),Xn=e=>{let{visible:t,className:n}=e;return d.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},d.createElement("div",{className:"sonner-spinner"},Yn.map((e,t)=>d.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},$n=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},d.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Jn=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},d.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Zn=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},d.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),er=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},d.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tr=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},d.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nr=1,rr=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n}=e,r=c(e,Qn),i="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:nr++,s=this.toasts.find(e=>e.id===i),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(t=>t.id===i?(this.publish(l(l(l({},t),e),{},{id:i,title:n})),l(l(l({},t),e),{},{id:i,dismissible:o,title:n})):t):this.addToast(l(l({title:n},r),{},{dismissible:o,id:i})),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create(l(l({},t),{},{message:e})),this.error=(e,t)=>this.create(l(l({},t),{},{message:e,type:"error"})),this.success=(e,t)=>this.create(l(l({},t),{},{type:"success",message:e})),this.info=(e,t)=>this.create(l(l({},t),{},{type:"info",message:e})),this.warning=(e,t)=>this.create(l(l({},t),{},{type:"warning",message:e})),this.loading=(e,t)=>this.create(l(l({},t),{},{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create(l(l({},t),{},{promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0})));let r,i=e instanceof Promise?e:e(),s=void 0!==n,o=i.then(async e=>{if(r=["resolve",e],d.isValidElement(e))s=!1,this.create({id:n,type:"default",message:e});else if(ir(e)&&!e.ok){s=!1;let r="function"==typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,i="function"==typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description;this.create({id:n,type:"error",message:r,description:i})}else if(void 0!==t.success){s=!1;let r="function"==typeof t.success?await t.success(e):t.success,i="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:r,description:i})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){s=!1;let r="function"==typeof t.error?await t.error(e):t.error,i="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:r,description:i})}}).finally(()=>{var e;s&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),a=()=>new Promise((e,t)=>o.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||nr++;return this.create(l({jsx:e(n),id:n},t)),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ir=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,sr=(e,t)=>{let n=(null==t?void 0:t.id)||nr++;return rr.addToast(l(l({title:e},t),{},{id:n})),n};Object.assign(sr,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:()=>rr.toasts,getToasts:()=>rr.getActiveToasts()});function or(e){return void 0!==e.label}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var ar=3,lr=14;function cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var ur=e=>{var t,n,r,i,s,o,a,c,u,h,f;let{invert:p,toast:m,unstyled:g,interacting:v,setHeights:y,visibleToasts:w,heights:b,index:x,toasts:E,expanded:S,removeToast:N,defaultRichColors:k,closeButton:_,style:T,cancelButtonStyle:C,actionButtonStyle:I,className:j="",descriptionClassName:A="",duration:R,position:P,gap:D,loadingIcon:O,expandByDefault:M,classNames:L,icons:F,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:V}=e,[z,B]=d.useState(null),[q,H]=d.useState(null),[W,K]=d.useState(!1),[G,Q]=d.useState(!1),[Y,X]=d.useState(!1),[$,J]=d.useState(!1),[Z,ee]=d.useState(!1),[te,ne]=d.useState(0),[re,ie]=d.useState(0),se=d.useRef(m.duration||R||4e3),oe=d.useRef(null),ae=d.useRef(null),le=0===x,ce=x+1<=w,ue=m.type,de=!1!==m.dismissible,he=m.className||"",fe=m.descriptionClassName||"",pe=d.useMemo(()=>b.findIndex(e=>e.toastId===m.id)||0,[b,m.id]),me=d.useMemo(()=>{var e;return null!=(e=m.closeButton)?e:_},[m.closeButton,_]),ge=d.useMemo(()=>m.duration||R||4e3,[m.duration,R]),ve=d.useRef(0),ye=d.useRef(0),we=d.useRef(0),be=d.useRef(null),[xe,Ee]=P.split("-"),Se=d.useMemo(()=>b.reduce((e,t,n)=>n>=pe?e:e+t.height,0),[b,pe]),Ne=(()=>{let[e,t]=d.useState(document.hidden);return d.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),ke=m.invert||p,_e="loading"===ue;ye.current=d.useMemo(()=>pe*D+Se,[pe,Se]),d.useEffect(()=>{se.current=ge},[ge]),d.useEffect(()=>{K(!0)},[]),d.useEffect(()=>{let e=ae.current;if(e){let t=e.getBoundingClientRect().height;return ie(t),y(e=>[{toastId:m.id,height:t,position:m.position},...e]),()=>y(e=>e.filter(e=>e.toastId!==m.id))}},[y,m.id]),d.useLayoutEffect(()=>{if(!W)return;let e=ae.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,ie(n),y(e=>e.find(e=>e.toastId===m.id)?e.map(e=>e.toastId===m.id?l(l({},e),{},{height:n}):e):[{toastId:m.id,height:n,position:m.position},...e])},[W,m.title,m.description,y,m.id]);let Te=d.useCallback(()=>{Q(!0),ne(ye.current),y(e=>e.filter(e=>e.toastId!==m.id)),setTimeout(()=>{N(m)},200)},[m,N,y,ye]);return d.useEffect(()=>{if(m.promise&&"loading"===ue||m.duration===1/0||"loading"===m.type)return;let e;return S||v||V&&Ne?(()=>{if(we.current<ve.current){let e=(new Date).getTime()-ve.current;se.current=se.current-e}we.current=(new Date).getTime()})():se.current!==1/0&&(ve.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=m.onAutoClose)||e.call(m,m),Te()},se.current)),()=>clearTimeout(e)},[S,v,m,ue,V,Ne,Te]),d.useEffect(()=>{m.delete&&Te()},[Te,m.delete]),d.createElement("li",{tabIndex:0,ref:ae,className:cr(j,he,null==L?void 0:L.toast,null==(t=null==m?void 0:m.classNames)?void 0:t.toast,null==L?void 0:L.default,null==L?void 0:L[ue],null==(n=null==m?void 0:m.classNames)?void 0:n[ue]),"data-sonner-toast":"","data-rich-colors":null!=(r=m.richColors)?r:k,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":Z,"data-removed":G,"data-visible":ce,"data-y-position":xe,"data-x-position":Ee,"data-index":x,"data-front":le,"data-swiping":Y,"data-dismissible":de,"data-type":ue,"data-invert":ke,"data-swipe-out":$,"data-swipe-direction":q,"data-expanded":!!(S||M&&W),style:l(l({"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":"".concat(G?te:ye.current,"px"),"--initial-height":M?"auto":"".concat(re,"px")},T),m.style),onDragEnd:()=>{X(!1),B(null),be.current=null},onPointerDown:e=>{_e||!de||(oe.current=new Date,ne(ye.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(X(!0),be.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if($||!de)return;be.current=null;let i=Number((null==(e=ae.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(t=ae.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),o=(new Date).getTime()-(null==(n=oe.current)?void 0:n.getTime()),a="x"===z?i:s,l=Math.abs(a)/o;if(Math.abs(a)>=20||l>.11)return ne(ye.current),null==(r=m.onDismiss)||r.call(m,m),H("x"===z?i>0?"right":"left":s>0?"down":"up"),Te(),J(!0),void ee(!1);X(!1),B(null)},onPointerMove:t=>{var n,r,i,s;if(!be.current||!de||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let o=t.clientY-be.current.y,a=t.clientX-be.current.x,l=null!=(r=e.swipeDirections)?r:function(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(P);!z&&(Math.abs(a)>1||Math.abs(o)>1)&&B(Math.abs(a)>Math.abs(o)?"x":"y");let c={x:0,y:0};"y"===z?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&o<0||l.includes("bottom")&&o>0)&&(c.y=o):"x"===z&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&a<0||l.includes("right")&&a>0)&&(c.x=a),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ee(!0),null==(i=ae.current)||i.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(s=ae.current)||s.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},me&&!m.jsx?d.createElement("button",{"aria-label":U,"data-disabled":_e,"data-close-button":!0,onClick:_e||!de?()=>{}:()=>{var e;Te(),null==(e=m.onDismiss)||e.call(m,m)},className:cr(null==L?void 0:L.closeButton,null==(i=null==m?void 0:m.classNames)?void 0:i.closeButton)},null!=(s=null==F?void 0:F.close)?s:tr):null,m.jsx||(0,d.isValidElement)(m.title)?m.jsx?m.jsx:"function"==typeof m.title?m.title():m.title:d.createElement(d.Fragment,null,ue||m.icon||m.promise?d.createElement("div",{"data-icon":"",className:cr(null==L?void 0:L.icon,null==(o=null==m?void 0:m.classNames)?void 0:o.icon)},m.promise||"loading"===m.type&&!m.icon?m.icon||function(){var e,t,n;return null!=F&&F.loading?d.createElement("div",{className:cr(null==L?void 0:L.loader,null==(e=null==m?void 0:m.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===ue},F.loading):O?d.createElement("div",{className:cr(null==L?void 0:L.loader,null==(t=null==m?void 0:m.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ue},O):d.createElement(Xn,{className:cr(null==L?void 0:L.loader,null==(n=null==m?void 0:m.classNames)?void 0:n.loader),visible:"loading"===ue})}():null,"loading"!==m.type?m.icon||(null==F?void 0:F[ue])||(e=>{switch(e){case"success":return $n;case"info":return Zn;case"warning":return Jn;case"error":return er;default:return null}})(ue):null):null,d.createElement("div",{"data-content":"",className:cr(null==L?void 0:L.content,null==(a=null==m?void 0:m.classNames)?void 0:a.content)},d.createElement("div",{"data-title":"",className:cr(null==L?void 0:L.title,null==(c=null==m?void 0:m.classNames)?void 0:c.title)},"function"==typeof m.title?m.title():m.title),m.description?d.createElement("div",{"data-description":"",className:cr(A,fe,null==L?void 0:L.description,null==(u=null==m?void 0:m.classNames)?void 0:u.description)},"function"==typeof m.description?m.description():m.description):null),(0,d.isValidElement)(m.cancel)?m.cancel:m.cancel&&or(m.cancel)?d.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:e=>{var t,n;or(m.cancel)&&de&&(null==(n=(t=m.cancel).onClick)||n.call(t,e),Te())},className:cr(null==L?void 0:L.cancelButton,null==(h=null==m?void 0:m.classNames)?void 0:h.cancelButton)},m.cancel.label):null,(0,d.isValidElement)(m.action)?m.action:m.action&&or(m.action)?d.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:e=>{var t,n;or(m.action)&&(null==(n=(t=m.action).onClick)||n.call(t,e),!e.defaultPrevented&&Te())},className:cr(null==L?void 0:L.actionButton,null==(f=null==m?void 0:m.classNames)?void 0:f.actionButton)},m.action.label):null))};function dr(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function hr(e,t){let n={};return[e,t].forEach((e,t)=>{let r=1===t,i=r?"--mobile-offset":"--offset",s=r?"16px":"32px";function o(e){["top","right","bottom","left"].forEach(t=>{n["".concat(i,"-").concat(t)]="number"==typeof e?"".concat(e,"px"):e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n["".concat(i,"-").concat(t)]=s:n["".concat(i,"-").concat(t)]="number"==typeof e[t]?"".concat(e[t],"px"):e[t]}):o(s)}),n}var fr=(0,d.forwardRef)(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:g=ar,toastOptions:v,dir:y=dr(),gap:w=lr,loadingIcon:b,icons:x,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N}=e,[k,_]=d.useState([]),T=d.useMemo(()=>Array.from(new Set([r].concat(k.filter(e=>e.position).map(e=>e.position)))),[k,r]),[C,I]=d.useState([]),[j,A]=d.useState(!1),[R,P]=d.useState(!1),[D,O]=d.useState("system"!==h?h:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=d.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=d.useRef(null),U=d.useRef(!1),V=d.useCallback(e=>{_(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||rr.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return d.useEffect(()=>rr.subscribe(e=>{e.dismiss?_(t=>t.map(t=>t.id===e.id?l(l({},t),{},{delete:!0}):t)):setTimeout(()=>{E.flushSync(()=>{_(t=>{let n=t.findIndex(t=>t.id===e.id);return-1!==n?[...t.slice(0,n),l(l({},t[n]),e),...t.slice(n+1)]:[e,...t]})})})}),[]),d.useEffect(()=>{if("system"!==h)return void O(h);if("system"===h&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;O(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{O(t?"dark":"light")}catch(n){console.error(n)}})}},[h]),d.useEffect(()=>{k.length<=1&&A(!1)},[k]),d.useEffect(()=>{let e=e=>{var t,n;i.every(t=>e[t]||e.code===t)&&(A(!0),null==(t=M.current)||t.focus()),"Escape"===e.code&&(document.activeElement===M.current||null!=(n=M.current)&&n.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),d.useEffect(()=>{if(M.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[M.current]),d.createElement("section",{ref:t,"aria-label":"".concat(S," ").concat(L),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((t,r)=>{var i;let[h,E]=t.split("-");return k.length?d.createElement("ol",{key:t,dir:"auto"===y?dr():y,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":h,"data-lifted":j&&k.length>1&&!s,"data-x-position":E,style:l(l({"--front-toast-height":"".concat((null==(i=C[0])?void 0:i.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(w,"px")},m),hr(c,u)),onBlur:e=>{U.current&&!e.currentTarget.contains(e.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||U.current||(U.current=!0,F.current=e.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onDragEnd:()=>A(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P(!0)},onPointerUp:()=>P(!1)},k.filter(e=>!e.position&&0===r||e.position===t).map((r,i)=>{var a,l;return d.createElement(ur,{key:r.id,icons:x,index:i,toast:r,defaultRichColors:f,duration:null!=(a=null==v?void 0:v.duration)?a:p,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(l=null==v?void 0:v.closeButton)?l:o,interacting:R,position:t,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,removeToast:V,toasts:k.filter(e=>e.position==r.position),heights:C.filter(e=>e.position==r.position),setHeights:I,expandByDefault:s,gap:w,loadingIcon:b,expanded:j,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const pr=e=>{let t=Object.assign({},(u(e),e));const{theme:n="system"}=(()=>{var e;return null!=(e=d.useContext(Kn))?e:Gn})();return(0,P.jsx)(fr,l({theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}}},t))};var mr=h[" useId ".trim().toString()]||(()=>{}),gr=0;function vr(e){const[t,n]=d.useState(mr());return pe(()=>{e||n(e=>null!==e&&void 0!==e?e:String(gr++))},[e]),e||(t?"radix-".concat(t):"")}const yr=["top","right","bottom","left"],wr=Math.min,br=Math.max,xr=Math.round,Er=Math.floor,Sr=e=>({x:e,y:e}),Nr={left:"right",right:"left",bottom:"top",top:"bottom"},kr={start:"end",end:"start"};function _r(e,t,n){return br(e,wr(t,n))}function Tr(e,t){return"function"===typeof e?e(t):e}function Cr(e){return e.split("-")[0]}function Ir(e){return e.split("-")[1]}function jr(e){return"x"===e?"y":"x"}function Ar(e){return"y"===e?"height":"width"}const Rr=new Set(["top","bottom"]);function Pr(e){return Rr.has(Cr(e))?"y":"x"}function Dr(e){return jr(Pr(e))}function Or(e){return e.replace(/start|end/g,e=>kr[e])}const Mr=["left","right"],Lr=["right","left"],Fr=["top","bottom"],Ur=["bottom","top"];function Vr(e,t,n,r){const i=Ir(e);let s=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Lr:Mr:t?Mr:Lr;case"left":case"right":return t?Fr:Ur;default:return[]}}(Cr(e),"start"===n,r);return i&&(s=s.map(e=>e+"-"+i),t&&(s=s.concat(s.map(Or)))),s}function zr(e){return e.replace(/left|right|bottom|top/g,e=>Nr[e])}function Br(e){return"number"!==typeof e?function(e){return l({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function qr(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}const Hr=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Wr=["strategy"],Kr=["mainAxis","crossAxis","limiter"],Gr=["apply"];function Qr(e,t,n){let{reference:r,floating:i}=e;const s=Pr(t),o=Dr(t),a=Ar(o),l=Cr(t),c="y"===s,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ir(t)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1)}return f}async function Yr(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Tr(t,e),p=Br(f),m=a[h?"floating"===d?"reference":"floating":d],g=qr(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(m)))||n?m:m.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),w=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},b=qr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/w.y,bottom:(b.bottom-g.bottom+p.bottom)/w.y,left:(g.left-b.left+p.left)/w.x,right:(b.right-g.right+p.right)/w.x}}function Xr(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $r(e){return yr.some(t=>e[t]>=0)}const Jr=new Set(["left","top"]);function Zr(){return"undefined"!==typeof window}function ei(e){return ri(e)?(e.nodeName||"").toLowerCase():"#document"}function ti(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ni(e){var t;return null==(t=(ri(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ri(e){return!!Zr()&&(e instanceof Node||e instanceof ti(e).Node)}function ii(e){return!!Zr()&&(e instanceof Element||e instanceof ti(e).Element)}function si(e){return!!Zr()&&(e instanceof HTMLElement||e instanceof ti(e).HTMLElement)}function oi(e){return!(!Zr()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof ti(e).ShadowRoot)}const ai=new Set(["inline","contents"]);function li(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=bi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ai.has(i)}const ci=new Set(["table","td","th"]);function ui(e){return ci.has(ei(e))}const di=[":popover-open",":modal"];function hi(e){return di.some(t=>{try{return e.matches(t)}catch(lv){return!1}})}const fi=["transform","translate","scale","rotate","perspective"],pi=["transform","translate","scale","rotate","perspective","filter"],mi=["paint","layout","strict","content"];function gi(e){const t=vi(),n=ii(e)?bi(e):e;return fi.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||pi.some(e=>(n.willChange||"").includes(e))||mi.some(e=>(n.contain||"").includes(e))}function vi(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const yi=new Set(["html","body","#document"]);function wi(e){return yi.has(ei(e))}function bi(e){return ti(e).getComputedStyle(e)}function xi(e){return ii(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ei(e){if("html"===ei(e))return e;const t=e.assignedSlot||e.parentNode||oi(e)&&e.host||ni(e);return oi(t)?t.host:t}function Si(e){const t=Ei(e);return wi(t)?e.ownerDocument?e.ownerDocument.body:e.body:si(t)&&li(t)?t:Si(t)}function Ni(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Si(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),o=ti(i);if(s){const e=ki(o);return t.concat(o,o.visualViewport||[],li(i)?i:[],e&&n?Ni(e):[])}return t.concat(i,Ni(i,[],n))}function ki(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _i(e){const t=bi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=si(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=xr(n)!==s||xr(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Ti(e){return ii(e)?e:e.contextElement}function Ci(e){const t=Ti(e);if(!si(t))return Sr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=_i(t);let o=(s?xr(n.width):n.width)/r,a=(s?xr(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const Ii=Sr(0);function ji(e){const t=ti(e);return vi()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ii}function Ai(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=Ti(e);let o=Sr(1);t&&(r?ii(r)&&(o=Ci(r)):o=Ci(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==ti(e))&&t}(s,n,r)?ji(s):Sr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const e=ti(s),t=r&&ii(r)?ti(r):r;let n=e,i=ki(n);for(;i&&r&&t!==n;){const e=Ci(i),t=i.getBoundingClientRect(),r=bi(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=s,c+=o,n=ti(i),i=ki(n)}}return qr({width:u,height:d,x:l,y:c})}function Ri(e,t){const n=xi(e).scrollLeft;return t?t.left+n:Ai(ni(e)).left+n}function Pi(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Ri(e,r)),y:r.top+t.scrollTop}}const Di=new Set(["absolute","fixed"]);function Oi(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=ti(e),r=ni(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const e=vi();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=ni(e),n=xi(e),r=e.ownerDocument.body,i=br(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=br(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ri(e);const a=-n.scrollTop;return"rtl"===bi(r).direction&&(o+=br(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}(ni(e));else if(ii(t))r=function(e,t){const n=Ai(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=si(e)?Ci(e):Sr(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:i*s.x,y:r*s.y}}(t,n);else{const n=ji(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return qr(r)}function Mi(e,t){const n=Ei(e);return!(n===t||!ii(n)||wi(n))&&("fixed"===bi(n).position||Mi(n,t))}function Li(e,t,n){const r=si(t),i=ni(t),s="fixed"===n,o=Ai(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Sr(0);function c(){l.x=Ri(i)}if(r||!r&&!s)if(("body"!==ei(t)||li(i))&&(a=xi(t)),r){const e=Ai(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();s&&!r&&i&&c();const u=!i||r||s?Sr(0):Pi(i,a);return{x:o.left+a.scrollLeft-l.x-u.x,y:o.top+a.scrollTop-l.y-u.y,width:o.width,height:o.height}}function Fi(e){return"static"===bi(e).position}function Ui(e,t){if(!si(e)||"fixed"===bi(e).position)return null;if(t)return t(e);let n=e.offsetParent;return ni(e)===n&&(n=n.ownerDocument.body),n}function Vi(e,t){const n=ti(e);if(hi(e))return n;if(!si(e)){let t=Ei(e);for(;t&&!wi(t);){if(ii(t)&&!Fi(t))return t;t=Ei(t)}return n}let r=Ui(e,t);for(;r&&ui(r)&&Fi(r);)r=Ui(r,t);return r&&wi(r)&&Fi(r)&&!gi(r)?n:r||function(e){let t=Ei(e);for(;si(t)&&!wi(t);){if(gi(t))return t;if(hi(t))return null;t=Ei(t)}return null}(e)||n}const zi={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s="fixed"===i,o=ni(r),a=!!t&&hi(t.floating);if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Sr(1);const u=Sr(0),d=si(r);if((d||!d&&!s)&&(("body"!==ei(r)||li(o))&&(l=xi(r)),si(r))){const e=Ai(r);c=Ci(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!o||d||s?Sr(0):Pi(o,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:ni,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[..."clippingAncestors"===n?hi(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Ni(e,[],!1).filter(e=>ii(e)&&"body"!==ei(e)),i=null;const s="fixed"===bi(e).position;let o=s?Ei(e):e;for(;ii(o)&&!wi(o);){const t=bi(o),n=gi(o);n||"fixed"!==t.position||(i=null),(s?!n&&!i:!n&&"static"===t.position&&i&&Di.has(i.position)||li(o)&&!n&&Mi(e,o))?r=r.filter(e=>e!==o):i=t,o=Ei(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=s[0],a=s.reduce((e,n)=>{const r=Oi(t,n,i);return e.top=br(r.top,e.top),e.right=wr(r.right,e.right),e.bottom=wr(r.bottom,e.bottom),e.left=br(r.left,e.left),e},Oi(t,o,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Vi,getElementRects:async function(e){const t=this.getOffsetParent||Vi,n=this.getDimensions,r=await n(e.floating);return{reference:Li(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=_i(e);return{width:t,height:n}},getScale:Ci,isElement:ii,isRTL:function(e){return"rtl"===bi(e).direction}};function Bi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qi(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,u=Ti(e),d=i||s?[...u?Ni(u):[],...Ni(t)]:[];d.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)});const h=u&&a?function(e,t){let n,r=null;const i=ni(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(a,c){void 0===a&&(a=!1),void 0===c&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||t(),!f||!p)return;const m={rootMargin:-Er(h)+"px "+-Er(i.clientWidth-(d+f))+"px "+-Er(i.clientHeight-(h+p))+"px "+-Er(d)+"px",threshold:br(0,wr(1,c))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||Bi(u,e.getBoundingClientRect())||o(),g=!1}try{r=new IntersectionObserver(v,l(l({},m),{},{root:i.ownerDocument}))}catch(lv){r=new IntersectionObserver(v,m)}r.observe(e)}(!0),s}(u,n):null;let f,p=-1,m=null;o&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g=c?Ai(e):null;return c&&function t(){const r=Ai(e);g&&!Bi(g,r)&&n();g=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(f)}}const Hi=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,c=await async function(e,t){const{placement:n,platform:r,elements:i}=e,s=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=Cr(n),a=Ir(n),l="y"===Pr(n),c=Jr.has(o)?-1:1,u=s&&l?-1:1,d=Tr(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"===typeof p&&(f="end"===a?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return o===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:l(l({},c),{},{placement:o})}}}},Wi=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,s=Tr(e,t),{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=s,d=c(s,Kr),h={x:n,y:r},f=await Yr(t,d),p=Pr(Cr(i)),m=jr(p);let g=h[m],v=h[p];if(o){const e="y"===m?"bottom":"right";g=_r(g+f["y"===m?"top":"left"],g,g-f[e])}if(a){const e="y"===p?"bottom":"right";v=_r(v+f["y"===p?"top":"left"],v,v-f[e])}const y=u.fn(l(l({},t),{},{[m]:g,[p]:v}));return l(l({},y),{},{data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[p]:a}}})}}},Ki=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,d=Tr(e,t),{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=d,y=c(d,Hr);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const w=Cr(i),b=Pr(a),x=Cr(a)===a,E=await(null==l.isRTL?void 0:l.isRTL(u.floating)),S=p||(x||!v?[zr(a)]:function(e){const t=zr(e);return[Or(e),t,Or(t)]}(a)),N="none"!==g;!p&&N&&S.push(...Vr(a,v,g,E));const k=[a,...S],_=await Yr(t,y),T=[];let C=(null==(r=s.flip)?void 0:r.overflows)||[];if(h&&T.push(_[w]),f){const e=function(e,t,n){void 0===n&&(n=!1);const r=Ir(e),i=Dr(e),s=Ar(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=zr(o)),[o,zr(o)]}(i,o,E);T.push(_[e[0]],_[e[1]])}if(C=[...C,{placement:i,overflows:T}],!T.every(e=>e<=0)){var I,j;const e=((null==(I=s.flip)?void 0:I.index)||0)+1,t=k[e];if(t){if(!("alignment"===f&&b!==Pr(t))||C.every(e=>e.overflows[0]>0&&Pr(e.placement)===b))return{data:{index:e,overflows:C},reset:{placement:t}}}let n=null==(j=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:j.placement;if(!n)switch(m){case"bestFit":{var A;const e=null==(A=C.filter(e=>{if(N){const t=Pr(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:A[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},Gi=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,u=Tr(e,t),{apply:d=()=>{}}=u,h=c(u,Gr),f=await Yr(t,h),p=Cr(i),m=Ir(i),g="y"===Pr(i),{width:v,height:y}=s.floating;let w,b;"top"===p||"bottom"===p?(w=p,b=m===(await(null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=p,w="end"===m?"top":"bottom");const x=y-f.top-f.bottom,E=v-f.left-f.right,S=wr(y-f[w],x),N=wr(v-f[b],E),k=!t.middlewareData.shift;let _=S,T=N;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(T=E),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(_=x),k&&!m){const e=br(f.left,0),t=br(f.right,0),n=br(f.top,0),r=br(f.bottom,0);g?T=v-2*(0!==e||0!==t?e+t:br(f.left,f.right)):_=y-2*(0!==n||0!==r?n+r:br(f.top,f.bottom))}await d(l(l({},t),{},{availableWidth:T,availableHeight:_}));const C=await o.getDimensions(a.floating);return v!==C.width||y!==C.height?{reset:{rects:!0}}:{}}}},Qi=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,r=Tr(e,t),{strategy:i="referenceHidden"}=r,s=c(r,Wr);switch(i){case"referenceHidden":{const e=Xr(await Yr(t,l(l({},s),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:$r(e)}}}case"escaped":{const e=Xr(await Yr(t,l(l({},s),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:$r(e)}}}default:return{}}}}},Yi=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=Tr(e,t)||{};if(null==u)return{};const h=Br(d),f={x:n,y:r},p=Dr(i),m=Ar(p),g=await o.getDimensions(u),v="y"===p,y=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",x=s.reference[m]+s.reference[p]-f[p]-s.floating[m],E=f[p]-s.reference[p],S=await(null==o.getOffsetParent?void 0:o.getOffsetParent(u));let N=S?S[b]:0;N&&await(null==o.isElement?void 0:o.isElement(S))||(N=a.floating[b]||s.floating[m]);const k=x/2-E/2,_=N/2-g[m]/2-1,T=wr(h[y],_),C=wr(h[w],_),I=T,j=N-g[m]-C,A=N/2-g[m]/2+k,R=_r(I,A,j),P=!c.arrow&&null!=Ir(i)&&A!==R&&s.reference[m]/2-(A<I?T:C)-g[m]/2<0,D=P?A<I?A-I:A-j:0;return{[p]:f[p]+D,data:l({[p]:R,centerOffset:A-R-D},P&&{alignmentOffset:D}),reset:P}}}),Xi=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Tr(e,t),d={x:n,y:r},h=Pr(i),f=jr(h);let p=d[f],m=d[h];const g=Tr(a,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:l({mainAxis:0,crossAxis:0},g);if(c){const e="y"===f?"height":"width",t=s.reference[f]-s.floating[e]+v.mainAxis,n=s.reference[f]+s.reference[e]-v.mainAxis;p<t?p=t:p>n&&(p=n)}if(u){var y,w;const e="y"===f?"width":"height",t=Jr.has(Cr(i)),n=s.reference[h]-s.floating[e]+(t&&(null==(y=o.offset)?void 0:y[h])||0)+(t?0:v.crossAxis),r=s.reference[h]+s.reference[e]+(t?0:(null==(w=o.offset)?void 0:w[h])||0)-(t?v.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[h]:m}}}},$i=(e,t,n)=>{const r=new Map,i=l({platform:zi},n),s=l(l({},i.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(null==o.isRTL?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=Qr(u,r,c),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:n,fn:s}=a[g],{x:v,y:y,data:w,reset:b}=await s({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=y?y:h,p=l(l({},p),{},{[n]:l(l({},p[n]),w)}),b&&m<=50&&(m++,"object"===typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:h}=Qr(u,f,c))),g=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}})(e,t,l(l({},i),{},{platform:s}))};var Ji="undefined"!==typeof document?d.useLayoutEffect:function(){};function Zi(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Zi(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!Zi(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function es(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ts(e,t){const n=es(e);return Math.round(t*n)/n}function ns(e){const t=d.useRef(e);return Ji(()=>{t.current=e}),t}const rs=(e,t)=>l(l({},Hi(e)),{},{options:[e,t]}),is=(e,t)=>l(l({},Wi(e)),{},{options:[e,t]}),ss=(e,t)=>l(l({},Xi(e)),{},{options:[e,t]}),os=(e,t)=>l(l({},Ki(e)),{},{options:[e,t]}),as=(e,t)=>l(l({},Gi(e)),{},{options:[e,t]}),ls=(e,t)=>l(l({},Qi(e)),{},{options:[e,t]}),cs=(e,t)=>l(l({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?Yi({element:n.current,padding:r}).fn(t):{}:n?Yi({element:n,padding:r}).fn(t):{};var i}}))(e)),{},{options:[e,t]}),us=["children","width","height"];var ds=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5}=e,s=c(e,us);return(0,P.jsx)(Z.svg,l(l({},s),{},{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,P.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});ds.displayName="Arrow";var hs=ds;const fs=["__scopePopper","virtualRef"],ps=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],ms=["__scopePopper"];var gs="Popper",[vs,ys]=M(gs),[ws,bs]=vs(gs),xs=e=>{const{__scopePopper:t,children:n}=e,[r,i]=d.useState(null);return(0,P.jsx)(ws,{scope:t,anchor:r,onAnchorChange:i,children:n})};xs.displayName=gs;var Es="PopperAnchor",Ss=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r}=e,i=c(e,fs),s=bs(Es,n),o=d.useRef(null),a=T(t,o);return d.useEffect(()=>{s.onAnchorChange((null===r||void 0===r?void 0:r.current)||o.current)}),r?null:(0,P.jsx)(Z.div,l(l({},i),{},{ref:a}))});Ss.displayName=Es;var Ns="PopperContent",[ks,_s]=vs(Ns),Ts=d.forwardRef((e,t)=>{var n,r,i,s,o,a,u,h;const{__scopePopper:f,side:p="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:w=!0,collisionBoundary:b=[],collisionPadding:x=0,sticky:S="partial",hideWhenDetached:N=!1,updatePositionStrategy:k="optimized",onPlaced:_}=e,C=c(e,ps),I=bs(Ns,f),[j,A]=d.useState(null),R=T(t,e=>A(e)),[D,O]=d.useState(null),M=function(e){const[t,n]=d.useState(void 0);return pe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,s;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,s=t.blockSize}else i=e.offsetWidth,s=e.offsetHeight;n({width:i,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(D),L=null!==(n=null===M||void 0===M?void 0:M.width)&&void 0!==n?n:0,F=null!==(r=null===M||void 0===M?void 0:M.height)&&void 0!==r?r:0,U=p+("center"!==g?"-"+g:""),V="number"===typeof x?x:l({top:0,right:0,bottom:0,left:0},x),z=Array.isArray(b)?b:[b],B=z.length>0,q={padding:V,boundary:z.filter(As),altBoundary:B},{refs:H,floatingStyles:W,placement:K,isPositioned:G,middlewareData:Q}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=d.useState(r);Zi(p,r)||m(r);const[g,v]=d.useState(null),[y,w]=d.useState(null),b=d.useCallback(e=>{e!==k.current&&(k.current=e,v(e))},[]),x=d.useCallback(e=>{e!==_.current&&(_.current=e,w(e))},[]),S=s||g,N=o||y,k=d.useRef(null),_=d.useRef(null),T=d.useRef(h),C=null!=c,I=ns(c),j=ns(i),A=ns(u),R=d.useCallback(()=>{if(!k.current||!_.current)return;const e={placement:t,strategy:n,middleware:p};j.current&&(e.platform=j.current),$i(k.current,_.current,e).then(e=>{const t=l(l({},e),{},{isPositioned:!1!==A.current});P.current&&!Zi(T.current,t)&&(T.current=t,E.flushSync(()=>{f(t)}))})},[p,t,n,j,A]);Ji(()=>{!1===u&&T.current.isPositioned&&(T.current.isPositioned=!1,f(e=>l(l({},e),{},{isPositioned:!1})))},[u]);const P=d.useRef(!1);Ji(()=>(P.current=!0,()=>{P.current=!1}),[]),Ji(()=>{if(S&&(k.current=S),N&&(_.current=N),S&&N){if(I.current)return I.current(S,N,R);R()}},[S,N,R,I,C]);const D=d.useMemo(()=>({reference:k,floating:_,setReference:b,setFloating:x}),[b,x]),O=d.useMemo(()=>({reference:S,floating:N}),[S,N]),M=d.useMemo(()=>{const e={position:n,left:0,top:0};if(!O.floating)return e;const t=ts(O.floating,h.x),r=ts(O.floating,h.y);return a?l(l({},e),{},{transform:"translate("+t+"px, "+r+"px)"},es(O.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,a,O.floating,h.x,h.y]);return d.useMemo(()=>l(l({},h),{},{update:R,refs:D,elements:O,floatingStyles:M}),[h,R,D,O,M])}({strategy:"fixed",placement:U,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qi(...t,{animationFrame:"always"===k})},elements:{reference:I.anchor},middleware:[rs({mainAxis:m+F,alignmentAxis:v}),w&&is(l({mainAxis:!0,crossAxis:!1,limiter:"partial"===S?ss():void 0},q)),w&&os(l({},q)),as(l(l({},q),{},{apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:s,height:o}=n.reference,a=t.floating.style;a.setProperty("--radix-popper-available-width","".concat(r,"px")),a.setProperty("--radix-popper-available-height","".concat(i,"px")),a.setProperty("--radix-popper-anchor-width","".concat(s,"px")),a.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}})),D&&cs({element:D,padding:y}),Rs({arrowWidth:L,arrowHeight:F}),N&&ls(l({strategy:"referenceHidden"},q))]}),[Y,X]=Ps(K),$=te(_);pe(()=>{G&&(null===$||void 0===$||$())},[G,$]);const J=null===(i=Q.arrow)||void 0===i?void 0:i.x,ee=null===(s=Q.arrow)||void 0===s?void 0:s.y,ne=0!==(null===(o=Q.arrow)||void 0===o?void 0:o.centerOffset),[re,ie]=d.useState();return pe(()=>{j&&ie(window.getComputedStyle(j).zIndex)},[j]),(0,P.jsx)("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:l(l({},W),{},{transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[null===(a=Q.transformOrigin)||void 0===a?void 0:a.x,null===(u=Q.transformOrigin)||void 0===u?void 0:u.y].join(" ")},(null===(h=Q.hide)||void 0===h?void 0:h.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,P.jsx)(ks,{scope:f,placedSide:Y,onArrowChange:O,arrowX:J,arrowY:ee,shouldHideArrow:ne,children:(0,P.jsx)(Z.div,l(l({"data-side":Y,"data-align":X},C),{},{ref:R,style:l(l({},C.style),{},{animation:G?void 0:"none"})}))})})});Ts.displayName=Ns;var Cs="PopperArrow",Is={top:"bottom",right:"left",bottom:"top",left:"right"},js=d.forwardRef(function(e,t){const{__scopePopper:n}=e,r=c(e,ms),i=_s(Cs,n),s=Is[i.placedSide];return(0,P.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,P.jsx)(hs,l(l({},r),{},{ref:t,style:l(l({},r.style),{},{display:"block"})}))})});function As(e){return null!==e}js.displayName=Cs;var Rs=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=Ps(a),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(r=null===(i=c.arrow)||void 0===i?void 0:i.x)&&void 0!==r?r:0)+d/2,v=(null!==(s=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==s?s:0)+h/2;let y="",w="";return"bottom"===f?(y=u?m:"".concat(g,"px"),w="".concat(-h,"px")):"top"===f?(y=u?m:"".concat(g,"px"),w="".concat(l.floating.height+h,"px")):"right"===f?(y="".concat(-h,"px"),w=u?m:"".concat(v,"px")):"left"===f&&(y="".concat(l.floating.width+h,"px"),w=u?m:"".concat(v,"px")),{data:{x:y,y:w}}}});function Ps(e){const[t,n="center"]=e.split("-");return[t,n]}var Ds=xs,Os=Ss,Ms=Ts,Ls=js;const Fs=["__scopeTooltip"],Us=["forceMount","side"],Vs=["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"],zs=["__scopeTooltip"];var[Bs,qs]=M("Tooltip",[ys]),Hs=ys(),Ws="TooltipProvider",Ks=700,Gs="tooltip.open",[Qs,Ys]=Bs(Ws),Xs=e=>{const{__scopeTooltip:t,delayDuration:n=Ks,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,o=d.useRef(!0),a=d.useRef(!1),l=d.useRef(0);return d.useEffect(()=>{const e=l.current;return()=>window.clearTimeout(e)},[]),(0,P.jsx)(Qs,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:d.useCallback(e=>{a.current=e},[]),disableHoverableContent:i,children:s})};Xs.displayName=Ws;var $s="Tooltip",[Js,Zs]=Bs($s),eo=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=e,c=Ys($s,e.__scopeTooltip),u=Hs(t),[h,f]=d.useState(null),p=vr(),m=d.useRef(0),g=null!==o&&void 0!==o?o:c.disableHoverableContent,v=null!==a&&void 0!==a?a:c.delayDuration,y=d.useRef(!1),[w,b]=be({prop:r,defaultProp:null!==i&&void 0!==i&&i,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(Gs))):c.onClose(),null===s||void 0===s||s(e)},caller:$s}),x=d.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),E=d.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),S=d.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),N=d.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},v)},[v,b]);return d.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),(0,P.jsx)(Ds,l(l({},u),{},{children:(0,P.jsx)(Js,{scope:t,contentId:p,open:w,stateAttribute:x,trigger:h,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayedRef.current?N():E()},[c.isOpenDelayedRef,N,E]),onTriggerLeave:d.useCallback(()=>{g?S():(window.clearTimeout(m.current),m.current=0)},[S,g]),onOpen:E,onClose:S,disableHoverableContent:g,children:n})}))};eo.displayName=$s;var to="TooltipTrigger",no=d.forwardRef((e,t)=>{const{__scopeTooltip:n}=e,r=c(e,Fs),i=Zs(to,n),s=Ys(to,n),o=Hs(n),a=T(t,d.useRef(null),i.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),f=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),(0,P.jsx)(Os,l(l({asChild:!0},o),{},{children:(0,P.jsx)(Z.button,l(l({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r),{},{ref:a,onPointerMove:N(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||s.isPointerInTransitRef.current||(i.onTriggerEnter(),h.current=!0))}),onPointerLeave:N(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:N(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:N(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:N(e.onBlur,i.onClose),onClick:N(e.onClick,i.onClose)}))}))});no.displayName=to;var ro="TooltipPortal",[io,so]=Bs(ro,{forceMount:void 0}),oo=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=Zs(ro,t);return(0,P.jsx)(io,{scope:t,forceMount:n,children:(0,P.jsx)(ve,{present:n||s.open,children:(0,P.jsx)(ge,{asChild:!0,container:i,children:r})})})};oo.displayName=ro;var ao="TooltipContent",lo=d.forwardRef((e,t)=>{const n=so(ao,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top"}=e,s=c(e,Us),o=Zs(ao,e.__scopeTooltip);return(0,P.jsx)(ve,{present:r||o.open,children:o.disableHoverableContent?(0,P.jsx)(po,l(l({side:i},s),{},{ref:t})):(0,P.jsx)(co,l(l({side:i},s),{},{ref:t}))})}),co=d.forwardRef((e,t)=>{const n=Zs(ao,e.__scopeTooltip),r=Ys(ao,e.__scopeTooltip),i=d.useRef(null),s=T(t,i),[o,a]=d.useState(null),{trigger:c,onClose:u}=n,h=i.current,{onPointerInTransitChange:f}=r,p=d.useCallback(()=>{a(null),f(!1)},[f]),m=d.useCallback((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect())),s=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;n.length>=2;){const e=n[n.length-1],r=n[n.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...i,...function(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}(t.getBoundingClientRect())]);a(s),f(!0)},[f]);return d.useEffect(()=>()=>p(),[p]),d.useEffect(()=>{if(c&&h){const e=e=>m(e,h),t=e=>m(e,c);return c.addEventListener("pointerleave",e),h.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),h.removeEventListener("pointerleave",t)}}},[c,h,m,p]),d.useEffect(()=>{if(o){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=(null===c||void 0===c?void 0:c.contains(t))||(null===h||void 0===h?void 0:h.contains(t)),i=!function(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const e=t[s],a=t[o],l=e.x,c=e.y,u=a.x,d=a.y;c>r!==d>r&&n<(u-l)*(r-c)/(d-c)+l&&(i=!i)}return i}(n,o);r?p():i&&(p(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,h,o,u,p]),(0,P.jsx)(po,l(l({},e),{},{ref:s}))}),[uo,ho]=Bs($s,{isInside:!1}),fo=H("TooltipContent"),po=d.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o}=e,a=c(e,Vs),u=Zs(ao,n),h=Hs(n),{onClose:f}=u;return d.useEffect(()=>(document.addEventListener(Gs,f),()=>document.removeEventListener(Gs,f)),[f]),d.useEffect(()=>{if(u.trigger){const e=e=>{const t=e.target;null!==t&&void 0!==t&&t.contains(u.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,f]),(0,P.jsx)(le,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:(0,P.jsxs)(Ms,l(l(l({"data-state":u.stateAttribute},h),a),{},{ref:t,style:l(l({},a.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[(0,P.jsx)(fo,{children:r}),(0,P.jsx)(uo,{scope:n,isInside:!0,children:(0,P.jsx)(Se,{id:u.contentId,role:"tooltip",children:i||r})})]}))})});lo.displayName=ao;var mo="TooltipArrow",go=d.forwardRef((e,t)=>{const{__scopeTooltip:n}=e,r=c(e,zs),i=Hs(n);return ho(mo,n).isInside?null:(0,P.jsx)(Ls,l(l(l({},i),r),{},{ref:t}))});go.displayName=mo;var vo=lo;const yo=["className","sideOffset"],wo=Xs;d.forwardRef((e,t)=>{let{className:n,sideOffset:r=4}=e,i=c(e,yo);return(0,P.jsx)(vo,l({ref:t,sideOffset:r,className:Cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},i))}).displayName=vo.displayName;var bo="undefined"===typeof window||"Deno"in globalThis;function xo(){}function Eo(e,t){return"function"===typeof e?e(t):e}function So(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o)if(r){if(t.queryHash!==ko(o,t.options))return!1}else if(!To(t.queryKey,o))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(s&&!s(t)))}function No(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(_o(t.options.mutationKey)!==_o(s))return!1}else if(!To(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function ko(e,t){return((null===t||void 0===t?void 0:t.queryKeyHashFn)||_o)(e)}function _o(e){return JSON.stringify(e,(e,t)=>jo(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function To(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(n=>To(e[n],t[n])))}function Co(e,t){if(e===t)return e;const n=Io(e)&&Io(t);if(n||jo(e)&&jo(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const r=n?u:s[u];(!n&&l.has(r)||n)&&void 0===e[r]&&void 0===t[r]?(a[r]=void 0,c++):(a[r]=Co(e[r],t[r]),a[r]===e[r]&&void 0!==e[r]&&c++)}return i===o&&c===i?e:a}return t}function Io(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jo(e){if(!Ao(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Ao(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Ao(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ro(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Co(e,t):t}function Po(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Do(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Oo=Symbol();function Mo(e,t){return!e.queryFn&&null!==t&&void 0!==t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Oo?e.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'")))}function Lo(e,t){C(e,t),t.add(e)}var Fo=e=>setTimeout(e,0);var Uo,Vo,zo,Bo,qo,Ho,Wo=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=Fo;const s=r=>{t?e.push(r):i(()=>{n(r)})};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return o},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s(()=>{e(...n)})},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),Ko=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Go=new(Uo=new WeakMap,Vo=new WeakMap,zo=new WeakMap,class extends Ko{constructor(){super(),I(this,Uo,void 0),I(this,Vo,void 0),I(this,zo,void 0),R(zo,this,e=>{if(!bo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){A(Vo,this)||this.setEventListener(A(zo,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=A(Vo,this))||void 0===e||e.call(this),R(Vo,this,void 0))}setEventListener(e){var t;R(zo,this,e),null===(t=A(Vo,this))||void 0===t||t.call(this),R(Vo,this,e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){A(Uo,this)!==e&&(R(Uo,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"===typeof A(Uo,this)?A(Uo,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),Qo=new(Bo=new WeakMap,qo=new WeakMap,Ho=new WeakMap,class extends Ko{constructor(){super(),I(this,Bo,!0),I(this,qo,void 0),I(this,Ho,void 0),R(Ho,this,e=>{if(!bo&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){A(qo,this)||this.setEventListener(A(Ho,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=A(qo,this))||void 0===e||e.call(this),R(qo,this,void 0))}setEventListener(e){var t;R(Ho,this,e),null===(t=A(qo,this))||void 0===t||t.call(this),R(qo,this,e(this.setOnline.bind(this)))}setOnline(e){A(Bo,this)!==e&&(R(Bo,this,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return A(Bo,this)}});function Yo(e){return Math.min(1e3*2**e,3e4)}function Xo(e){return"online"!==(null!==e&&void 0!==e?e:"online")||Qo.isOnline()}var $o,Jo=class extends Error{constructor(e){super("CancelledError"),this.revert=null===e||void 0===e?void 0:e.revert,this.silent=null===e||void 0===e?void 0:e.silent}};function Zo(e){return e instanceof Jo}function ea(e){let t,n=!1,r=0,i=!1;const s=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),o=()=>Go.isFocused()&&("always"===e.networkMode||Qo.isOnline())&&e.canRun(),a=()=>Xo(e.networkMode)&&e.canRun(),l=n=>{var r,o;i||(i=!0,null===(r=e.onSuccess)||void 0===r||r.call(e,n),null===(o=t)||void 0===o||o(),s.resolve(n))},c=n=>{var r,o;i||(i=!0,null===(r=e.onError)||void 0===r||r.call(e,n),null===(o=t)||void 0===o||o(),s.reject(n))},u=()=>new Promise(n=>{var r;t=e=>{(i||o())&&n(e)},null===(r=e.onPause)||void 0===r||r.call(e)}).then(()=>{var n;(t=void 0,i)||(null===(n=e.onContinue)||void 0===n||n.call(e))}),d=()=>{if(i)return;let t;const s=0===r?e.initialPromise:void 0;try{t=null!==s&&void 0!==s?s:e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch(t=>{var s,a,l;if(i)return;const h=null!==(s=e.retry)&&void 0!==s?s:bo?0:3,f=null!==(a=e.retryDelay)&&void 0!==a?a:Yo,p="function"===typeof f?f(r,t):f,m=!0===h||"number"===typeof h&&r<h||"function"===typeof h&&h(r,t);var g;!n&&m?(r++,null===(l=e.onFail)||void 0===l||l.call(e,r,t),(g=p,new Promise(e=>{setTimeout(e,g)})).then(()=>o()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:s,cancel:t=>{var n;i||(c(new Jo(t)),null===(n=e.abort)||void 0===n||n.call(e))},continue:()=>{var e;return null===(e=t)||void 0===e||e(),s},cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():u().then(d),s)}}var ta,na,ra,ia,sa,oa,aa,la,ca,ua=($o=new WeakMap,class{constructor(){I(this,$o,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.gcTime)&&e>=0&&e!==1/0&&R($o,this,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!==e&&void 0!==e?e:bo?1/0:3e5)}clearGcTimeout(){A($o,this)&&(clearTimeout(A($o,this)),R($o,this,void 0))}}),da=(ta=new WeakMap,na=new WeakMap,ra=new WeakMap,ia=new WeakMap,sa=new WeakMap,oa=new WeakMap,aa=new WeakMap,la=new WeakSet,class extends ua{constructor(e){var t;super(),Lo(this,la),I(this,ta,void 0),I(this,na,void 0),I(this,ra,void 0),I(this,ia,void 0),I(this,sa,void 0),I(this,oa,void 0),I(this,aa,void 0),R(aa,this,!1),R(oa,this,e.defaultOptions),this.setOptions(e.options),this.observers=[],R(ia,this,e.client),R(ra,this,A(ia,this).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,R(ta,this,function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!==r&&void 0!==r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=null!==(t=e.state)&&void 0!==t?t:A(ta,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=A(sa,this))||void 0===e?void 0:e.promise}setOptions(e){this.options=l(l({},A(oa,this)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||A(ra,this).remove(this)}setData(e,t){const n=Ro(this.state.data,e,this.options);return j(la,this,ha).call(this,{data:n,type:"success",dataUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,manual:null===t||void 0===t?void 0:t.manual}),n}setState(e,t){j(la,this,ha).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null===(t=A(sa,this))||void 0===t?void 0:t.promise;return null===(n=A(sa,this))||void 0===n||n.cancel(e),r?r.then(xo).catch(xo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(ta,this))}isActive(){return this.observers.some(e=>!1!==function(e,t){return"function"===typeof e?e(t):e}(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Oo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Eo(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=A(sa,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=A(sa,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),A(ra,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(A(sa,this)&&(A(aa,this)?A(sa,this).cancel({revert:!0}):A(sa,this).cancelRetry()),this.scheduleGc()),A(ra,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||j(la,this,ha).call(this,{type:"invalidate"})}fetch(e,t){var n,r;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&null!==t&&void 0!==t&&t.cancelRefetch)this.cancel({silent:!0});else if(A(sa,this))return A(sa,this).continueRetry(),A(sa,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const i=new AbortController,s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(R(aa,this,!0),i.signal)})},o=()=>{const e=Mo(this.options,t),n=(()=>{const e={client:A(ia,this),queryKey:this.queryKey,meta:this.meta};return s(e),e})();return R(aa,this,!1),this.options.persister?this.options.persister(e,n,this):e(n)},a=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:A(ia,this),state:this.state,fetchFn:o};return s(e),e})();var l;(null===(n=this.options.behavior)||void 0===n||n.onFetch(a,this),R(na,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(r=a.fetchOptions)||void 0===r?void 0:r.meta))&&j(la,this,ha).call(this,{type:"fetch",meta:null===(l=a.fetchOptions)||void 0===l?void 0:l.meta});const c=e=>{var t,n,r,i;(Zo(e)&&e.silent||j(la,this,ha).call(this,{type:"error",error:e}),Zo(e))||(null===(t=(n=A(ra,this).config).onError)||void 0===t||t.call(n,e,this),null===(r=(i=A(ra,this).config).onSettled)||void 0===r||r.call(i,this.state.data,e,this));this.scheduleGc()};return R(sa,this,ea({initialPromise:null===t||void 0===t?void 0:t.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:e=>{var t,n,r,i;if(void 0!==e){try{this.setData(e)}catch(s){return void c(s)}null===(t=(n=A(ra,this).config).onSuccess)||void 0===t||t.call(n,e,this),null===(r=(i=A(ra,this).config).onSettled)||void 0===r||r.call(i,e,this.state.error,this),this.scheduleGc()}else c(new Error("".concat(this.queryHash," data is undefined")))},onError:c,onFail:(e,t)=>{j(la,this,ha).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{j(la,this,ha).call(this,{type:"pause"})},onContinue:()=>{j(la,this,ha).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),A(sa,this).start()}});function ha(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return l(l({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return l(l({},t),{},{fetchStatus:"paused"});case"continue":return l(l({},t),{},{fetchStatus:"fetching"});case"fetch":return l(l(l({},t),function(e,t){return l({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xo(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}(t.data,this.options)),{},{fetchMeta:null!==(n=e.meta)&&void 0!==n?n:null});case"success":return R(na,this,void 0),l(l({},t),{},{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!==(r=e.dataUpdatedAt)&&void 0!==r?r:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const i=e.error;return Zo(i)&&i.revert&&A(na,this)?l(l({},A(na,this)),{},{fetchStatus:"idle"}):l(l({},t),{},{error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"});case"invalidate":return l(l({},t),{},{isInvalidated:!0});case"setState":return l(l({},t),e.state)}})(this.state),Wo.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),A(ra,this).notify({query:this,type:"updated",action:e})})}var fa,pa,ma,ga,va,ya,wa,ba=(ca=new WeakMap,class extends Ko{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),I(this,ca,void 0),this.config=e,R(ca,this,new Map)}build(e,t,n){var r;const i=t.queryKey,s=null!==(r=t.queryHash)&&void 0!==r?r:ko(i,t);let o=this.get(s);return o||(o=new da({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){A(ca,this).has(e.queryHash)||(A(ca,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=A(ca,this).get(e.queryHash);t&&(e.destroy(),t===e&&A(ca,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return A(ca,this).get(e)}getAll(){return[...A(ca,this).values()]}find(e){const t=l({exact:!0},e);return this.getAll().find(e=>So(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>So(e,t)):t}notify(e){Wo.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Wo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}}),xa=(fa=new WeakMap,pa=new WeakMap,ma=new WeakMap,ga=new WeakSet,class extends ua{constructor(e){super(),Lo(this,ga),I(this,fa,void 0),I(this,pa,void 0),I(this,ma,void 0),this.mutationId=e.mutationId,R(pa,this,e.mutationCache),R(fa,this,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){A(fa,this).includes(e)||(A(fa,this).push(e),this.clearGcTimeout(),A(pa,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){R(fa,this,A(fa,this).filter(t=>t!==e)),this.scheduleGc(),A(pa,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){A(fa,this).length||("pending"===this.state.status?this.scheduleGc():A(pa,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=A(ma,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;const n=()=>{j(ga,this,Ea).call(this,{type:"continue"})};R(ma,this,ea({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{j(ga,this,Ea).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{j(ga,this,Ea).call(this,{type:"pause"})},onContinue:n,retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(pa,this).canRun(this)}));const r="pending"===this.state.status,i=!A(ma,this).canStart();try{var s,o,a,l,c,u,d,h;if(r)n();else{var f,p,m,g;j(ga,this,Ea).call(this,{type:"pending",variables:e,isPaused:i}),await(null===(f=(p=A(pa,this).config).onMutate)||void 0===f?void 0:f.call(p,e,this));const t=await(null===(m=(g=this.options).onMutate)||void 0===m?void 0:m.call(g,e));t!==this.state.context&&j(ga,this,Ea).call(this,{type:"pending",context:t,variables:e,isPaused:i})}const t=await A(ma,this).start();return await(null===(s=(o=A(pa,this).config).onSuccess)||void 0===s?void 0:s.call(o,t,e,this.state.context,this)),await(null===(a=(l=this.options).onSuccess)||void 0===a?void 0:a.call(l,t,e,this.state.context)),await(null===(c=(u=A(pa,this).config).onSettled)||void 0===c?void 0:c.call(u,t,null,this.state.variables,this.state.context,this)),await(null===(d=(h=this.options).onSettled)||void 0===d?void 0:d.call(h,t,null,e,this.state.context)),j(ga,this,Ea).call(this,{type:"success",data:t}),t}catch(k){try{var v,y,w,b,x,E,S,N;throw await(null===(v=(y=A(pa,this).config).onError)||void 0===v?void 0:v.call(y,k,e,this.state.context,this)),await(null===(w=(b=this.options).onError)||void 0===w?void 0:w.call(b,k,e,this.state.context)),await(null===(x=(E=A(pa,this).config).onSettled)||void 0===x?void 0:x.call(E,void 0,k,this.state.variables,this.state.context,this)),await(null===(S=(N=this.options).onSettled)||void 0===S?void 0:S.call(N,void 0,k,e,this.state.context)),k}finally{j(ga,this,Ea).call(this,{type:"error",error:k})}}finally{A(pa,this).runNext(this)}}});function Ea(e){this.state=(t=>{switch(e.type){case"failed":return l(l({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return l(l({},t),{},{isPaused:!0});case"continue":return l(l({},t),{},{isPaused:!1});case"pending":return l(l({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return l(l({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return l(l({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),Wo.batch(()=>{A(fa,this).forEach(t=>{t.onMutationUpdate(e)}),A(pa,this).notify({mutation:this,type:"updated",action:e})})}var Sa,Na,ka,_a,Ta,Ca,Ia,ja,Aa=(va=new WeakMap,ya=new WeakMap,wa=new WeakMap,class extends Ko{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),I(this,va,void 0),I(this,ya,void 0),I(this,wa,void 0),this.config=e,R(va,this,new Set),R(ya,this,new Map),R(wa,this,0)}build(e,t,n){var r;const i=new xa({mutationCache:this,mutationId:R(wa,this,(r=A(wa,this),++r)),options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){A(va,this).add(e);const t=Ra(e);if("string"===typeof t){const n=A(ya,this).get(t);n?n.push(e):A(ya,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(A(va,this).delete(e)){const t=Ra(e);if("string"===typeof t){const n=A(ya,this).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&A(ya,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ra(e);if("string"===typeof t){const n=A(ya,this).get(t),r=null===n||void 0===n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=Ra(e);if("string"===typeof t){var n,r;const i=null===(n=A(ya,this).get(t))||void 0===n?void 0:n.find(t=>t!==e&&t.state.isPaused);return null!==(r=null===i||void 0===i?void 0:i.continue())&&void 0!==r?r:Promise.resolve()}return Promise.resolve()}clear(){Wo.batch(()=>{A(va,this).forEach(e=>{this.notify({type:"removed",mutation:e})}),A(va,this).clear(),A(ya,this).clear()})}getAll(){return Array.from(A(va,this))}find(e){const t=l({exact:!0},e);return this.getAll().find(e=>No(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>No(e,t))}notify(e){Wo.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Wo.batch(()=>Promise.all(e.map(e=>e.continue().catch(xo))))}});function Ra(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function Pa(e){return{onFetch:(t,n)=>{var r,i,s;const o=t.options,a=null===(r=t.fetchOptions)||void 0===r||null===(r=r.meta)||void 0===r||null===(r=r.fetchMore)||void 0===r?void 0:r.direction,l=(null===(i=t.state.data)||void 0===i?void 0:i.pages)||[],c=(null===(s=t.state.data)||void 0===s?void 0:s.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let n=!1;const r=Mo(t.options,t.fetchOptions),i=async(e,i,s)=>{if(n)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);const o=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:s?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),a=await r(o),{maxPages:l}=t.options,c=s?Do:Po;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,i,l)}};if(a&&l.length){const e="backward"===a,t={pages:l,pageParams:c},n=(e?Oa:Da)(o,t);u=await i(t,n,e)}else{const t=null!==e&&void 0!==e?e:l.length;do{var s;const e=0===d?null!==(s=c[0])&&void 0!==s?s:o.initialPageParam:Da(o,u);if(d>0&&null==e)break;u=await i(u,e),d++}while(d<t)}return u};t.options.persister?t.fetchFn=()=>{var e,r;return null===(e=(r=t.options).persister)||void 0===e?void 0:e.call(r,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Da(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Oa(e,t){var n;let{pages:r,pageParams:i}=t;return r.length>0?null===(n=e.getPreviousPageParam)||void 0===n?void 0:n.call(e,r[0],r,i[0],i):void 0}var Ma,La=(Sa=new WeakMap,Na=new WeakMap,ka=new WeakMap,_a=new WeakMap,Ta=new WeakMap,Ca=new WeakMap,Ia=new WeakMap,ja=new WeakMap,class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};I(this,Sa,void 0),I(this,Na,void 0),I(this,ka,void 0),I(this,_a,void 0),I(this,Ta,void 0),I(this,Ca,void 0),I(this,Ia,void 0),I(this,ja,void 0),R(Sa,this,e.queryCache||new ba),R(Na,this,e.mutationCache||new Aa),R(ka,this,e.defaultOptions||{}),R(_a,this,new Map),R(Ta,this,new Map),R(Ca,this,0)}mount(){var e;R(Ca,this,(e=A(Ca,this),e++,e)),1===A(Ca,this)&&(R(Ia,this,Go.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(Sa,this).onFocus())})),R(ja,this,Qo.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(Sa,this).onOnline())})))}unmount(){var e,t,n;R(Ca,this,(e=A(Ca,this),e--,e)),0===A(Ca,this)&&(null===(t=A(Ia,this))||void 0===t||t.call(this),R(Ia,this,void 0),null===(n=A(ja,this))||void 0===n||n.call(this),R(ja,this,void 0))}isFetching(e){return A(Sa,this).findAll(l(l({},e),{},{fetchStatus:"fetching"})).length}isMutating(e){return A(Na,this).findAll(l(l({},e),{},{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=A(Sa,this).get(n.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=A(Sa,this).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Eo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return A(Sa,this).findAll(e).map(e=>{let{queryKey:t,state:n}=e;return[t,n.data]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=A(Sa,this).get(r.queryHash),s=function(e,t){return"function"===typeof e?e(t):e}(t,null===i||void 0===i?void 0:i.state.data);if(void 0!==s)return A(Sa,this).build(this,r).setData(s,l(l({},n),{},{manual:!0}))}setQueriesData(e,t,n){return Wo.batch(()=>A(Sa,this).findAll(e).map(e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=A(Sa,this).get(n.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=A(Sa,this);Wo.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=A(Sa,this);return Wo.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(l({type:"active"},e),t)))}cancelQueries(e){const t=l({revert:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=Wo.batch(()=>A(Sa,this).findAll(e).map(e=>e.cancel(t)));return Promise.all(n).then(xo).catch(xo)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Wo.batch(()=>{var n,r;return A(Sa,this).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null===e||void 0===e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(l(l({},e),{},{type:null!==(n=null!==(r=null===e||void 0===e?void 0:e.refetchType)&&void 0!==r?r:null===e||void 0===e?void 0:e.type)&&void 0!==n?n:"active"}),t)})}refetchQueries(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=l(l({},n),{},{cancelRefetch:null===(t=n.cancelRefetch)||void 0===t||t}),i=Wo.batch(()=>A(Sa,this).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(xo)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(i).then(xo)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=A(Sa,this).build(this,t);return n.isStaleByTime(Eo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xo).catch(xo)}fetchInfiniteQuery(e){return e.behavior=Pa(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xo).catch(xo)}ensureInfiniteQueryData(e){return e.behavior=Pa(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qo.isOnline()?A(Na,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(Sa,this)}getMutationCache(){return A(Na,this)}getDefaultOptions(){return A(ka,this)}setDefaultOptions(e){R(ka,this,e)}setQueryDefaults(e,t){A(_a,this).set(_o(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(_a,this).values()],n={};return t.forEach(t=>{To(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){A(Ta,this).set(_o(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(Ta,this).values()],n={};return t.forEach(t=>{To(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=l(l(l(l({},A(ka,this).queries),this.getQueryDefaults(e.queryKey)),e),{},{_defaulted:!0});return t.queryHash||(t.queryHash=ko(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Oo&&(t.enabled=!1),t}defaultMutationOptions(e){return null!==e&&void 0!==e&&e._defaulted?e:l(l(l(l({},A(ka,this).mutations),(null===e||void 0===e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{},{_defaulted:!0})}clear(){A(Sa,this).clear(),A(Na,this).clear()}}),Fa=d.createContext(void 0),Ua=e=>{let{client:t,children:n}=e;return d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,P.jsx)(Fa.Provider,{value:t,children:n})};function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Ma||(Ma={}));const za="popstate";function Ba(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function qa(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Ha(e,t){return{usr:e.state,key:e.key,idx:t}}function Wa(e,t,n,r){return void 0===n&&(n=null),Va({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ga(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Ka(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ga(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Qa(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ma.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){a=Ma.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Ka(e);return n=n.replace(/ $/,"%20"),Ba(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(Va({},o.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(za,d),l=e,()=>{i.removeEventListener(za,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Ma.Push;let r=Wa(f.location,e,t);n&&n(r,e),c=u()+1;let d=Ha(r,c),h=f.createHref(r);try{o.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=Ma.Replace;let r=Wa(f.location,e,t);n&&n(r,e),c=u();let i=Ha(r,c),d=f.createHref(r);o.replaceState(i,"",d),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var Ya;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Ya||(Ya={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Xa(e,t,n){return void 0===n&&(n="/"),$a(e,t,n,!1)}function $a(e,t,n,r){let i=dl(("string"===typeof t?Ga(t):t).pathname||"/",n);if(null==i)return null;let s=Ja(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=ul(i);o=ll(s[a],e,r)}return o}function Ja(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Ba(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=gl([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(Ba(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Ja(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:al(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Za(e.path))i(e,t,r);else i(e,t)}),t}function Za(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=Za(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const el=/^:[\w-]+$/,tl=3,nl=2,rl=1,il=10,sl=-2,ol=e=>"*"===e;function al(e,t){let n=e.split("/"),r=n.length;return n.some(ol)&&(r+=sl),t&&(r+=nl),n.filter(e=>!ol(e)).reduce((e,t)=>e+(el.test(t)?tl:""===t?rl:il),r)}function ll(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=cl({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=cl({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:gl([s,u.pathname]),pathnameBase:vl(gl([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=gl([s,u.pathnameBase]))}return o}function cl(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);qa("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function ul(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return qa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function dl(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function hl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function fl(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function pl(e,t){let n=fl(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function ml(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Ga(e):(i=Va({},e),Ba(!i.pathname||!i.pathname.includes("?"),hl("?","pathname","search",i)),Ba(!i.pathname||!i.pathname.includes("#"),hl("#","pathname","hash",i)),Ba(!i.search||!i.search.includes("#"),hl("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Ga(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:yl(r),hash:wl(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const gl=e=>e.join("/").replace(/\/\/+/g,"/"),vl=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yl=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",wl=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function bl(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const xl=["post","put","patch","delete"],El=(new Set(xl),["get",...xl]);new Set(El),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}const Nl=d.createContext(null);const kl=d.createContext(null);const _l=d.createContext(null);const Tl=d.createContext(null);const Cl=d.createContext({outlet:null,matches:[],isDataRoute:!1});const Il=d.createContext(null);function jl(){return null!=d.useContext(Tl)}function Al(){return jl()||Ba(!1),d.useContext(Tl).location}function Rl(e){d.useContext(_l).static||d.useLayoutEffect(e)}function Pl(){let{isDataRoute:e}=d.useContext(Cl);return e?function(){let{router:e}=ql(zl.UseNavigateStable),t=Wl(Bl.UseNavigateStable),n=d.useRef(!1);Rl(()=>{n.current=!0});let r=d.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Sl({fromRouteId:t},i)))},[e,t]);return r}():function(){jl()||Ba(!1);let e=d.useContext(Nl),{basename:t,future:n,navigator:r}=d.useContext(_l),{matches:i}=d.useContext(Cl),{pathname:s}=Al(),o=JSON.stringify(pl(i,n.v7_relativeSplatPath)),a=d.useRef(!1);Rl(()=>{a.current=!0});let l=d.useCallback(function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof n)return void r.go(n);let l=ml(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:gl([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,o,s,e]);return l}()}function Dl(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=d.useContext(_l),{matches:i}=d.useContext(Cl),{pathname:s}=Al(),o=JSON.stringify(pl(i,r.v7_relativeSplatPath));return d.useMemo(()=>ml(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function Ol(e,t,n,r){jl()||Ba(!1);let{navigator:i}=d.useContext(_l),{matches:s}=d.useContext(Cl),o=s[s.length-1],a=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let c,u=Al();if(t){var h;let e="string"===typeof t?Ga(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||Ba(!1),c=e}else c=u;let f=c.pathname||"/",p=f;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=Xa(e,{pathname:p});let g=Vl(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:gl([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:gl([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return t&&g?d.createElement(Tl.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ma.Pop}},g):g}function Ml(){let e=function(){var e;let t=d.useContext(Il),n=Hl(Bl.UseRouteError),r=Wl(Bl.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=bl(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:i},n):null,null)}const Ll=d.createElement(Ml,null);class Fl extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?d.createElement(Cl.Provider,{value:this.props.routeContext},d.createElement(Il.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ul(e){let{routeContext:t,match:n,children:r}=e,i=d.useContext(Nl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Cl.Provider,{value:t},r)}function Vl(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));e>=0||Ba(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let e=o[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let s,u=!1,h=null,f=null;var p;n&&(s=a&&r.route.id?a[r.route.id]:void 0,h=r.route.errorElement||Ll,l&&(c<0&&0===i?(p="route-fallback",!1||Kl[p]||(Kl[p]=!0),u=!0,f=null):c===i&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=s?h:u?f:r.route.Component?d.createElement(r.route.Component,null):r.route.element?r.route.element:e,d.createElement(Ul,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?d.createElement(Fl,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var zl=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zl||{}),Bl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bl||{});function ql(e){let t=d.useContext(Nl);return t||Ba(!1),t}function Hl(e){let t=d.useContext(kl);return t||Ba(!1),t}function Wl(e){let t=function(){let e=d.useContext(Cl);return e||Ba(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Ba(!1),n.route.id}const Kl={};function Gl(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}h.startTransition;function Ql(e){let{to:t,replace:n,state:r,relative:i}=e;jl()||Ba(!1);let{future:s,static:o}=d.useContext(_l),{matches:a}=d.useContext(Cl),{pathname:l}=Al(),c=Pl(),u=ml(t,pl(a,s.v7_relativeSplatPath),l,"path"===i),h=JSON.stringify(u);return d.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Yl(e){Ba(!1)}function Xl(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ma.Pop,navigator:s,static:o=!1,future:a}=e;jl()&&Ba(!1);let l=t.replace(/^\/*/,"/"),c=d.useMemo(()=>({basename:l,navigator:s,static:o,future:Sl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);"string"===typeof r&&(r=Ga(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=d.useMemo(()=>{let e=dl(u,l);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:i}},[l,u,h,f,p,m,i]);return null==g?null:d.createElement(_l.Provider,{value:c},d.createElement(Tl.Provider,{children:n,value:g}))}function $l(e){let{children:t,location:n}=e;return Ol(Jl(t),n)}new Promise(()=>{});d.Component;function Jl(e,t){void 0===t&&(t=[]);let n=[];return d.Children.forEach(e,(e,r)=>{if(!d.isValidElement(e))return;let i=[...t,r];if(e.type===d.Fragment)return void n.push.apply(n,Jl(e.props.children,i));e.type!==Yl&&Ba(!1),e.props.index&&e.props.children&&Ba(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Jl(e.props.children,i)),n.push(s)}),n}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}function ec(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const tc=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(xP){}new Map;const nc=h.startTransition;S.flushSync,h.useId;function rc(e){let{basename:t,children:n,future:r,window:i}=e,s=d.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),Qa(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Wa("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:Ka(t)},null,e)}({window:i,v5Compat:!0}));let o=s.current,[a,l]=d.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=d.useCallback(e=>{c&&nc?nc(()=>l(e)):l(e)},[l,c]);return d.useLayoutEffect(()=>o.listen(u),[o,u]),d.useEffect(()=>Gl(r),[r]),d.createElement(Xl,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const ic="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,sc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oc=d.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=ec(e,tc),{basename:p}=d.useContext(_l),m=!1;if("string"===typeof c&&sc.test(c)&&(n=c,ic))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=dl(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(xP){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;jl()||Ba(!1);let{basename:r,navigator:i}=d.useContext(_l),{hash:s,pathname:o,search:a}=Dl(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:gl([r,o])),i.createHref({pathname:l,search:a,hash:s})}(c,{relative:i}),v=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=void 0===t?{}:t,l=Pl(),c=Al(),u=Dl(e,{relative:o});return d.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:Ka(c)===Ka(u);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,e,s,o,a])}(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});return d.createElement("a",Zl({},f,{href:n||g,onClick:m||s?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:l}))});var ac,lc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ac||(ac={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(lc||(lc={}));const cc=["className","variant","size","asChild"],uc=_t("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-6",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),dc=d.forwardRef((e,t)=>{let{className:n,variant:r,size:i,asChild:s=!1}=e,o=c(e,cc);const a=s?z:"button";return(0,P.jsx)(a,l({className:Cn(uc({variant:r,size:i,className:n})),ref:t},o))});dc.displayName="Button";const hc=["className"],fc=["className"],pc=["className","children"],mc=["className","children"],gc=["className","children"],vc=["className","children"],yc=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,hc);return(0,P.jsx)("div",l({ref:t,className:Cn("rounded-lg border bg-card text-card-foreground",n)},r))});yc.displayName="Card";const wc=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,fc);return(0,P.jsx)("div",l({ref:t,className:Cn("flex flex-col space-y-1.5 p-5",n)},r))});wc.displayName="CardHeader";const bc=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,pc);return(0,P.jsx)("h3",l(l({ref:t,className:Cn("text-lg font-medium leading-none tracking-tight",n)},i),{},{children:r}))});bc.displayName="CardTitle";const xc=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,mc);return(0,P.jsx)("p",l(l({ref:t,className:Cn("text-sm text-muted-foreground",n)},i),{},{children:r}))});xc.displayName="CardDescription";const Ec=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,gc);return(0,P.jsx)("div",l(l({ref:t,className:Cn("p-5 pt-0",n)},i),{},{children:r}))});Ec.displayName="CardContent";d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,vc);return(0,P.jsx)("div",l(l({ref:t,className:Cn("flex items-center p-5 pt-0",n)},i),{},{children:r}))}).displayName="CardFooter";const Sc=["className","variant"],Nc=_t("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function kc(e){let{className:t,variant:n}=e,r=c(e,Sc);return(0,P.jsx)("div",l({className:Cn(Nc({variant:n}),t)},r))}const _c=Rt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),Tc=Rt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Cc=Rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ic=Rt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),jc=Rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Ac=Rt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Rc=Rt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Pc=Rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Dc=Rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Oc=Rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Mc=Rt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Lc=Rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Fc=()=>(0,P.jsxs)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:[(0,P.jsx)("section",{className:"container px-4 pt-20 pb-16",children:(0,P.jsxs)("div",{className:"max-w-4xl mx-auto text-center animate-in fade-in duration-700",children:[(0,P.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,P.jsx)("img",{src:"/loanhub-logo.png",alt:"AdvanceMe",className:"h-16 w-16"}),(0,P.jsx)("h1",{className:"text-5xl md:text-6xl font-bold text-foreground bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"AdvanceMe"})]}),(0,P.jsxs)(kc,{className:"mb-4",variant:"secondary",children:[(0,P.jsx)(_c,{className:"h-3 w-3 mr-1"}),"Modern Loan Management Platform"]}),(0,P.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-6",children:"Streamline Your Loan Management"}),(0,P.jsx)("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Empower your organization with intelligent loan processing, flexible interest rates, and seamless employee management."}),(0,P.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[(0,P.jsx)(oc,{to:"/company/register",children:(0,P.jsxs)(dc,{size:"lg",className:"gap-2 group",children:[(0,P.jsx)(Tc,{className:"h-5 w-5"}),"Get Started as Company",(0,P.jsx)(Cc,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),(0,P.jsx)(oc,{to:"/employee/register",children:(0,P.jsxs)(dc,{size:"lg",variant:"outline",className:"gap-2",children:[(0,P.jsx)(Ic,{className:"h-5 w-5"}),"Join as Employee"]})})]}),(0,P.jsxs)("div",{className:"grid grid-cols-3 gap-8 max-w-2xl mx-auto pt-8 border-t",children:[(0,P.jsxs)("div",{className:"animate-in slide-in-from-bottom duration-700 delay-100",children:[(0,P.jsx)("div",{className:"text-3xl font-bold text-foreground",children:"100%"}),(0,P.jsx)("div",{className:"text-sm text-muted-foreground",children:"Secure"})]}),(0,P.jsxs)("div",{className:"animate-in slide-in-from-bottom duration-700 delay-200",children:[(0,P.jsx)("div",{className:"text-3xl font-bold text-foreground",children:"24/7"}),(0,P.jsx)("div",{className:"text-sm text-muted-foreground",children:"Available"})]}),(0,P.jsxs)("div",{className:"animate-in slide-in-from-bottom duration-700 delay-300",children:[(0,P.jsx)("div",{className:"text-3xl font-bold text-foreground",children:"Fast"}),(0,P.jsx)("div",{className:"text-sm text-muted-foreground",children:"Processing"})]})]})]})}),(0,P.jsx)("section",{className:"container px-4 py-16",children:(0,P.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,P.jsxs)("div",{className:"text-center mb-12 animate-in fade-in duration-700",children:[(0,P.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Powerful Features"}),(0,P.jsx)("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Everything you need to manage loans efficiently and effectively"})]}),(0,P.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,P.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-100",children:(0,P.jsxs)(wc,{children:[(0,P.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,P.jsx)(jc,{className:"h-6 w-6 text-primary"})}),(0,P.jsx)(bc,{children:"Role-Based Access"}),(0,P.jsx)(xc,{children:"Secure permissions for Admin, Manager, and HR roles with granular access control"})]})}),(0,P.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-200",children:(0,P.jsxs)(wc,{children:[(0,P.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,P.jsx)(Ac,{className:"h-6 w-6 text-primary"})}),(0,P.jsx)(bc,{children:"Flexible Interest Rates"}),(0,P.jsx)(xc,{children:"Set different rates for each repayment term - 3, 6, or 12 months"})]})}),(0,P.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-300",children:(0,P.jsxs)(wc,{children:[(0,P.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,P.jsx)(Rc,{className:"h-6 w-6 text-primary"})}),(0,P.jsx)(bc,{children:"Real-Time Calculations"}),(0,P.jsx)(xc,{children:"Instant loan calculations with interest, total amount, and monthly payments"})]})}),(0,P.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-100",children:(0,P.jsxs)(wc,{children:[(0,P.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,P.jsx)(Pc,{className:"h-6 w-6 text-primary"})}),(0,P.jsx)(bc,{children:"Loan Comments & Notes"}),(0,P.jsx)(xc,{children:"Add purpose descriptions, rejection reasons, and internal notes for better tracking"})]})}),(0,P.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-200",children:(0,P.jsxs)(wc,{children:[(0,P.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,P.jsx)(Dc,{className:"h-6 w-6 text-primary"})}),(0,P.jsx)(bc,{children:"Employee Management"}),(0,P.jsx)(xc,{children:"Search, filter, and manage your team with powerful tools and insights"})]})}),(0,P.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-300",children:(0,P.jsxs)(wc,{children:[(0,P.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,P.jsx)(Oc,{className:"h-6 w-6 text-primary"})}),(0,P.jsx)(bc,{children:"Fast Approval Process"}),(0,P.jsx)(xc,{children:"Streamlined workflow for quick loan reviews and instant notifications"})]})})]})]})}),(0,P.jsx)("section",{className:"container px-4 py-16",children:(0,P.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,P.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[(0,P.jsxs)("div",{className:"animate-in slide-in-from-left duration-700",children:[(0,P.jsx)(kc,{className:"mb-4",children:"For Companies"}),(0,P.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Manage Loans with Confidence"}),(0,P.jsxs)("div",{className:"space-y-4",children:[(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"font-semibold mb-1",children:"Complete Control"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set your own interest rates and approval workflows"})]})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"font-semibold mb-1",children:"Track Everything"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground",children:"Monitor all loans, employees, and financial metrics in one place"})]})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"font-semibold mb-1",children:"Save Time"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automated calculations and smart search features"})]})]})]}),(0,P.jsx)(oc,{to:"/company/register",className:"inline-block mt-6",children:(0,P.jsxs)(dc,{className:"gap-2",children:["Start Managing Loans",(0,P.jsx)(Cc,{className:"h-4 w-4"})]})})]}),(0,P.jsxs)("div",{className:"animate-in slide-in-from-right duration-700",children:[(0,P.jsx)(kc,{className:"mb-4",children:"For Employees"}),(0,P.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Get Loans Quickly & Easily"}),(0,P.jsxs)("div",{className:"space-y-4",children:[(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"font-semibold mb-1",children:"Transparent Pricing"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground",children:"See exact costs before requesting with real-time calculations"})]})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"font-semibold mb-1",children:"Flexible Terms"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose repayment terms that work for your budget"})]})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"font-semibold mb-1",children:"Track Status"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground",children:"View your loan history and status updates in real-time"})]})]})]}),(0,P.jsx)(oc,{to:"/employee/register",className:"inline-block mt-6",children:(0,P.jsxs)(dc,{className:"gap-2",children:["Request Your First Loan",(0,P.jsx)(Cc,{className:"h-4 w-4"})]})})]})]})})}),(0,P.jsx)("section",{className:"container px-4 py-16",children:(0,P.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,P.jsx)(yc,{className:"shadow-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20 animate-in fade-in duration-700",children:(0,P.jsxs)(Ec,{className:"p-12 text-center",children:[(0,P.jsx)(Lc,{className:"h-16 w-16 text-primary mx-auto mb-6"}),(0,P.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Ready to Get Started?"}),(0,P.jsx)("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join hundreds of companies and employees managing loans efficiently with our platform"}),(0,P.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,P.jsx)(oc,{to:"/company/login",children:(0,P.jsxs)(dc,{size:"lg",variant:"outline",className:"gap-2",children:[(0,P.jsx)(Tc,{className:"h-5 w-5"}),"Company Login"]})}),(0,P.jsx)(oc,{to:"/employee/login",children:(0,P.jsxs)(dc,{size:"lg",variant:"outline",className:"gap-2",children:[(0,P.jsx)(Ic,{className:"h-5 w-5"}),"Employee Login"]})})]})]})})})}),(0,P.jsx)("footer",{className:"container px-4 py-8 border-t",children:(0,P.jsxs)("div",{className:"max-w-6xl mx-auto text-center text-sm text-muted-foreground",children:[(0,P.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,P.jsx)("img",{src:"/loanhub-logo.png",alt:"AdvanceMe",className:"h-5 w-5"}),(0,P.jsx)("span",{className:"font-semibold text-foreground",children:"AdvanceMe"})]}),(0,P.jsx)("p",{children:"\xa9 2025 AdvanceMe. Built with modern technology for seamless loan processing."})]})})]}),Uc=()=>{const e=Al();return(0,d.useEffect)(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),(0,P.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center",style:{background:"var(--gradient-primary)"},children:(0,P.jsxs)("div",{className:"text-center space-y-6",children:[(0,P.jsx)("h1",{className:"text-6xl font-bold text-foreground",children:"404"}),(0,P.jsx)("p",{className:"text-xl text-muted-foreground",children:"Oops! Page not found"}),(0,P.jsx)(dc,{asChild:!0,size:"lg",children:(0,P.jsx)(oc,{to:"/",children:"Return to Home"})})]})})},Vc=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},zc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vc(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Bc;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qc=function(e){return function(e){const t=Vc(e);return zc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Hc=function(e){try{return zc.decodeString(e,!0)}catch(xP){console.error("base64Decode failed: ",xP)}return null};function Wc(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Kc=()=>{try{return Wc().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCmP1JpjnjF9BxH1kpUaXDJpY2WMi1zOMk",REACT_APP_FIREBASE_APP_ID:"1:403432314491:web:4068d5ffa73638b1e174de",REACT_APP_FIREBASE_AUTH_DOMAIN:"loan-manage-c2f66.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-F5K0Z6WNQV",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"403432314491",REACT_APP_FIREBASE_PROJECT_ID:"loan-manage-c2f66",REACT_APP_FIREBASE_STORAGE_BUCKET:"loan-manage-c2f66.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(xP){return}const t=e&&Hc(e[1]);return t&&JSON.parse(t)})()}catch(xP){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(xP))}},Gc=e=>{var t;return null===(t=Kc())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Qc=()=>{var e;return null===(e=Kc())||void 0===e?void 0:e.config},Yc=e=>{var t;return null===(t=Kc())||void 0===t?void 0:t["_".concat(e)]};class Xc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function $c(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Jc(e){return(await fetch(e,{credentials:"include"})).ok}const Zc={};let eu=!1;function tu(e,t){if("undefined"===typeof window||"undefined"===typeof document||!$c(window.location.host)||Zc[e]===t||Zc[e]||eu)return;function n(e){return"__firebase__banner__".concat(e)}Zc[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Zc))Zc[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{eu=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function nu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ru(){var e;const t=null===(e=Kc())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(xP){return!1}}function iu(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function su(){return!ru()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ou(){try{return"object"===typeof indexedDB}catch(xP){return!1}}function au(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class lu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,lu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(uu,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new lu(n,s,t)}}const uu=/\{\$([^}]+)}/g;function du(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(hu(n)&&hu(s)){if(!du(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hu(e){return null!==e&&"object"===typeof e}function fu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function mu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class gu{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vu),void 0===r.error&&(r.error=vu),void 0===r.complete&&(r.complete=vu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(xP){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(xP){"undefined"!==typeof console&&console.error&&console.error(xP)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vu(){}function yu(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function wu(e){return e&&e._delegate?e._delegate:e}class bu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xu="[DEFAULT]";class Eu{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xc;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(xP){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(xP){if(r)return null;throw xP}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xu})}catch(xP){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(xP){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===xu?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.component?this.component.multipleInstances?e:xu:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Su{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Eu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Nu=[];var ku;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ku||(ku={}));const _u={debug:ku.DEBUG,verbose:ku.VERBOSE,info:ku.INFO,warn:ku.WARN,error:ku.ERROR,silent:ku.SILENT},Tu=ku.INFO,Cu={[ku.DEBUG]:"log",[ku.VERBOSE]:"log",[ku.INFO]:"info",[ku.WARN]:"warn",[ku.ERROR]:"error"},Iu=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Cu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ju{constructor(e){this.name=e,this._logLevel=Tu,this._logHandler=Iu,this._userLogHandler=null,Nu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ku))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?_u[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.DEBUG,...t),this._logHandler(this,ku.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.VERBOSE,...t),this._logHandler(this,ku.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.INFO,...t),this._logHandler(this,ku.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.WARN,...t),this._logHandler(this,ku.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.ERROR,...t),this._logHandler(this,ku.ERROR,...t)}}let Au,Ru;const Pu=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Mu=new WeakMap,Lu=new WeakMap;let Fu={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Du.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ou.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zu(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Uu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ru||(Ru=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bu(this),n),zu(Pu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zu(e.apply(Bu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Bu(this),t,...r);return Ou.set(s,t.sort?t.sort():[t]),zu(s)}}function Vu(e){return"function"===typeof e?Uu(e):(e instanceof IDBTransaction&&function(e){if(Du.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Du.set(e,t)}(e),t=e,(Au||(Au=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Fu):e);var t}function zu(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(zu(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Pu.set(t,e)}).catch(()=>{}),Lu.set(t,e),t}(e);if(Mu.has(e))return Mu.get(e);const t=Vu(e);return t!==e&&(Mu.set(e,t),Lu.set(t,e)),t}const Bu=e=>Lu.get(e);function qu(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=zu(o);return r&&o.addEventListener("upgradeneeded",e=>{r(zu(o.result),e.oldVersion,e.newVersion,zu(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}const Hu=["get","getKey","getAll","getAllKeys","count"],Wu=["put","add","delete","clear"],Ku=new Map;function Gu(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ku.get(t))return Ku.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Wu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hu.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Ku.set(t,s),s}Fu=(e=>l(l({},e),{},{get:(t,n,r)=>Gu(t,n)||e.get(t,n,r),has:(t,n)=>!!Gu(t,n)||e.has(t,n)}))(Fu);class Qu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Yu="@firebase/app",Xu="0.14.4",$u=new ju("@firebase/app"),Ju="@firebase/app-compat",Zu="@firebase/analytics-compat",ed="@firebase/analytics",td="@firebase/app-check-compat",nd="@firebase/app-check",rd="@firebase/auth",id="@firebase/auth-compat",sd="@firebase/database",od="@firebase/data-connect",ad="@firebase/database-compat",ld="@firebase/functions",cd="@firebase/functions-compat",ud="@firebase/installations",dd="@firebase/installations-compat",hd="@firebase/messaging",fd="@firebase/messaging-compat",pd="@firebase/performance",md="@firebase/performance-compat",gd="@firebase/remote-config",vd="@firebase/remote-config-compat",yd="@firebase/storage",wd="@firebase/storage-compat",bd="@firebase/firestore",xd="@firebase/ai",Ed="@firebase/firestore-compat",Sd="firebase",Nd="[DEFAULT]",kd={[Yu]:"fire-core",[Ju]:"fire-core-compat",[ed]:"fire-analytics",[Zu]:"fire-analytics-compat",[nd]:"fire-app-check",[td]:"fire-app-check-compat",[rd]:"fire-auth",[id]:"fire-auth-compat",[sd]:"fire-rtdb",[od]:"fire-data-connect",[ad]:"fire-rtdb-compat",[ld]:"fire-fn",[cd]:"fire-fn-compat",[ud]:"fire-iid",[dd]:"fire-iid-compat",[hd]:"fire-fcm",[fd]:"fire-fcm-compat",[pd]:"fire-perf",[md]:"fire-perf-compat",[gd]:"fire-rc",[vd]:"fire-rc-compat",[yd]:"fire-gcs",[wd]:"fire-gcs-compat",[bd]:"fire-fst",[Ed]:"fire-fst-compat",[xd]:"fire-vertex","fire-js":"fire-js",[Sd]:"fire-js-all"},_d=new Map,Td=new Map,Cd=new Map;function Id(e,t){try{e.container.addComponent(t)}catch(xP){$u.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),xP)}}function jd(e){const t=e.name;if(Cd.has(t))return $u.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cd.set(t,e);for(const n of _d.values())Id(n,e);for(const n of Td.values())Id(n,e);return!0}function Ad(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Rd(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Pd=new cu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dd{constructor(e,t,n){this._isDeleted=!1,this._options=l({},e),this._config=l({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pd.create("app-deleted",{appName:this._name})}}const Od="12.4.0";function Md(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=l({name:Nd,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Pd.create("bad-app-name",{appName:String(i)});if(n||(n=Qc()),!n)throw Pd.create("no-options");const s=_d.get(i);if(s){if(du(n,s.options)&&du(r,s.config))return s;throw Pd.create("duplicate-app",{appName:i})}const o=new Su(i);for(const l of Cd.values())o.addComponent(l);const a=new Dd(n,r,o);return _d.set(i,a),a}function Ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nd;const t=_d.get(e);if(!t&&e===Nd&&Qc())return Md();if(!t)throw Pd.create("no-app",{appName:e});return t}function Fd(e,t,n){var r;let i=null!==(r=kd[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $u.warn(e.join(" "))}jd(new bu("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Ud="firebase-heartbeat-store";let Vd=null;function zd(){return Vd||(Vd=qu("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ud)}catch(xP){console.warn(xP)}}}).catch(e=>{throw Pd.create("idb-open",{originalErrorMessage:e.message})})),Vd}async function Bd(e,t){try{const n=(await zd()).transaction(Ud,"readwrite"),r=n.objectStore(Ud);await r.put(t,qd(e)),await n.done}catch(xP){if(xP instanceof lu)$u.warn(xP.message);else{const t=Pd.create("idb-set",{originalErrorMessage:null===xP||void 0===xP?void 0:xP.message});$u.warn(t.message)}}}function qd(e){return"".concat(e.name,"!").concat(e.options.appId)}class Hd{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Kd(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wd();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(xP){$u.warn(xP)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Wd(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Gd(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gd(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(xP){return $u.warn(xP),""}}}function Wd(){return(new Date).toISOString().substring(0,10)}class Kd{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ou()&&au().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await zd()).transaction(Ud),n=await t.objectStore(Ud).get(qd(e));return await t.done,n}catch(xP){if(xP instanceof lu)$u.warn(xP.message);else{const t=Pd.create("idb-get",{originalErrorMessage:null===xP||void 0===xP?void 0:xP.message});$u.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Bd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Bd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Gd(e){return qc(JSON.stringify({version:2,heartbeats:e})).length}var Qd;Qd="",jd(new bu("platform-logger",e=>new Qu(e),"PRIVATE")),jd(new bu("heartbeat",e=>new Hd(e),"PRIVATE")),Fd(Yu,Xu,Qd),Fd(Yu,Xu,"esm2020"),Fd("fire-js","");const Yd=["providerId"],Xd=["uid","auth","stsTokenManager"],$d=["providerId","signInMethod"];function Jd(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zd=Jd,eh=new cu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),th=new ju("@firebase/auth");function nh(e){if(th.logLevel<=ku.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];th.error("Auth (".concat(Od,"): ").concat(e),...n)}}function rh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ah(e,...n)}function ih(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ah(e,...n)}function sh(e,t,n){const r=l(l({},Zd()),{},{[t]:n});return new cu("auth","Firebase",r).create(t,{appName:e.name})}function oh(e){return sh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ah(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return eh.create(e,...n)}function lh(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ah(t,...r)}}function ch(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nh(t),new Error(t)}function uh(e,t){e||ch(t)}function dh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hh(){return"http:"===fh()||"https:"===fh()}function fh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ph{constructor(e,t){this.shortDelay=e,this.longDelay=t,uh(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nu())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hh()||iu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function mh(e,t){uh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class gh{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ch("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ch("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ch("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yh=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wh=new ph(3e4,6e4);function bh(e,t){return e.tenantId&&!t.tenantId?l(l({},t),{},{tenantId:e.tenantId}):t}async function xh(e,t,n,r){return Eh(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=fu(l({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c=l({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&$c(e.emulatorConfig.host)&&(c.credentials="include"),gh.fetch()(await Nh(e,e.config.apiHost,n,o),c)})}async function Eh(e,t,n){e._canInitEmulator=!1;const r=l(l({},vh),t);try{const t=new _h(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Th(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Th(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Th(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Th(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw sh(e,a,o);rh(e,a)}}catch(xP){if(xP instanceof lu)throw xP;rh(e,"network-request-failed",{message:String(xP)})}}async function Sh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await xh(e,t,n,r,i);return"mfaPendingCredential"in s&&rh(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Nh(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,o=s.config.emulator?mh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(yh.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function kh(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _h{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ih(this.auth,"network-request-failed")),wh.get())})}}function Th(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ih(e,t,r);return i.customData._tokenResponse=n,i}function Ch(e){return void 0!==e&&void 0!==e.enterprise}class Ih{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kh(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jh(e,t){return xh(e,"GET","/v2/recaptchaConfig",bh(e,t))}async function Ah(e,t){return xh(e,"POST","/v1/accounts:lookup",t)}function Rh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(xP){}}function Ph(e){return 1e3*Number(e)}function Dh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const e=Hc(n);return e?JSON.parse(e):(nh("Failed to decode base64 JWT payload"),null)}catch(xP){return nh("Caught error parsing JWT payload as JSON",null===xP||void 0===xP?void 0:xP.toString()),null}}function Oh(e){const t=Dh(e);return lh(t,"internal-error"),lh("undefined"!==typeof t.exp,"internal-error"),lh("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Mh(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(xP){throw xP instanceof lu&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(xP)&&e.auth.currentUser===e&&await e.auth.signOut(),xP}}class Lh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(xP){return void((null===xP||void 0===xP?void 0:xP.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Fh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Mh(e,Ah(n,{idToken:r}));lh(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?Vh(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fh(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Vh(e){return e.map(e=>{let{providerId:t}=e,n=c(e,Yd);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lh(e.idToken,"internal-error"),lh("undefined"!==typeof e.idToken,"internal-error"),lh("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Oh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lh(0!==e.length,"internal-error");const t=Oh(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(lh(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Eh(e,{},async()=>{const n=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Nh(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return e.emulatorConfig&&$c(e.emulatorConfig.host)&&(a.credentials="include"),gh.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new zh;return n&&(lh("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(lh("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(lh("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zh,this.toJSON())}_performRefresh(){return ch("not implemented")}}function Bh(e,t){lh("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class qh{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=c(e,Xd);this.providerId="firebase",this.proactiveRefresh=new Lh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Mh(this,this.stsTokenManager.getToken(this.auth,e));return lh(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wu(e),r=await n.getIdToken(t),i=Dh(r);lh(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rh(Ph(i.auth_time)),issuedAtTime:Rh(Ph(i.iat)),expirationTime:Rh(Ph(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=wu(e);await Uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(lh(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>l({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qh(l(l({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){lh(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Uh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rd(this.auth.app))return Promise.reject(oh(this.auth));const e=await this.getIdToken();return await Mh(this,async function(e,t){return xh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return l(l({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>l({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:b,isAnonymous:x,providerData:E,stsTokenManager:S}=t;lh(w&&S,e,"internal-error");const N=zh.fromJSON(this.name,S);lh("string"===typeof w,e,"internal-error"),Bh(d,e.name),Bh(h,e.name),lh("boolean"===typeof b,e,"internal-error"),lh("boolean"===typeof x,e,"internal-error"),Bh(f,e.name),Bh(p,e.name),Bh(m,e.name),Bh(g,e.name),Bh(v,e.name),Bh(y,e.name);const k=new qh({uid:w,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:N,createdAt:v,lastLoginAt:y});return E&&Array.isArray(E)&&(k.providerData=E.map(e=>l({},e))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new zh;r.updateFromServerResponse(t);const i=new qh({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Uh(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];lh(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Vh(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new zh;o.updateFromIdToken(n);const a=new qh({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Fh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const Hh=new Map;function Wh(e){uh(e instanceof Function,"Expected a class definition");let t=Hh.get(e);return t?(uh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hh.set(e,t),t)}class Kh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Kh.type="NONE";const Gh=Kh;function Qh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Yh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Qh(this.userKey,r.apiKey,i),this.fullPersistenceKey=Qh("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Ah(this.auth,{idToken:e}).catch(()=>{});return t?qh._fromGetAccountInfoResponse(this.auth,t,e):null}return qh._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Yh(Wh(Gh),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Wh(Gh);const s=Qh(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await Ah(e,{idToken:t}).catch(()=>{});if(!r)break;n=await qh._fromGetAccountInfoResponse(e,r,t)}else n=qh._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new Yh(i,e,n)):new Yh(i,e,n)}}function Xh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ef(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($h(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nf(t))return"Blackberry";if(rf(t))return"Webos";if(Jh(t))return"Safari";if((t.includes("chrome/")||Zh(t))&&!t.includes("edge/"))return"Chrome";if(tf(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function $h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/firefox\//i.test(e)}function Jh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/crios\//i.test(e)}function ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/iemobile/i.test(e)}function tf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/android/i.test(e)}function nf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/blackberry/i.test(e)}function rf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/webos/i.test(e)}function sf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function of(){return function(){const e=nu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function af(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return sf(e)||tf(e)||rf(e)||nf(e)||/windows phone/i.test(e)||ef(e)}function lf(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Xh(nu());break;case"Worker":t="".concat(Xh(nu()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Od,"/").concat(r)}class cf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(xP){r(xP)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(xP){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===xP||void 0===xP?void 0:xP.message})}}}class uf{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class df{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ff(this),this.idTokenSubscription=new ff(this),this.beforeStateQueue=new cf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wh(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Yh.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(xP){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ah(this,{idToken:e}),n=await qh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rd(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,s;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(s=n)||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==o||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(xP){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(xP))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return lh(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(xP){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(xP){if((null===xP||void 0===xP?void 0:xP.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rd(this.app))return Promise.reject(oh(this));const t=e?wu(e):null;return t&&lh(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&lh(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rd(this.app)?Promise.reject(oh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rd(this.app)?Promise.reject(oh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wh(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return xh(e,"GET","/v2/passwordPolicy",bh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new uf(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return xh(e,"POST","/v2/accounts:revokeToken",bh(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wh(e)||this._popupRedirectResolver;lh(t,this,"argument-error"),this.redirectPersistenceManager=await Yh.create(this,[Wh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(lh(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lh(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Rd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(th.logLevel<=ku.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];th.warn("Auth (".concat(Od,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function hf(e){return wu(e)}class ff{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new gu(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return lh(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mf(e){return pf.loadJS(e)}function gf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class vf{constructor(){this.enterprise=new yf}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yf{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wf="NO_RECAPTCHA";class bf{constructor(e){this.type="recaptcha-enterprise",this.auth=hf(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ch(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(wf)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new vf).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{jh(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Ih(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ch(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=pf.recaptchaEnterpriseScript;0!==t.length&&(t+=i),mf(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function xf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new bf(e);let o;if(i)o=wf;else try{o=await s.verify(n)}catch(c){o=await s.verify(n,!0)}const a=l({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ef(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await xf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await xf(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await xf(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await xf(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Sf(e){const t=hf(e),n=await jh(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ih(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new bf(t).verify()}}function Nf(e,t,n){const r=hf(e);lh(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=kf(t),{host:o,port:a}=function(e){const t=kf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:_f(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:_f(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return lh(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void lh(du(c,r.config.emulator)&&du(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,$c(o)?(Jc("".concat(s,"//").concat(o).concat(l)),tu("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kf(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _f(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Tf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ch("not implemented")}_getIdTokenResponse(e){return ch("not implemented")}_linkToIdToken(e,t){return ch("not implemented")}_getReauthenticationResolver(e){return ch("not implemented")}}async function Cf(e,t){return xh(e,"POST","/v1/accounts:signUp",t)}async function If(e,t){return Sh(e,"POST","/v1/accounts:signInWithPassword",bh(e,t))}class jf extends Tf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jf(e,t,"password")}static _fromEmailAndCode(e,t){return new jf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ef(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",If,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Sh(e,"POST","/v1/accounts:signInWithEmailLink",bh(e,t))}(e,{email:this._email,oobCode:this._password});default:rh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ef(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cf,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Sh(e,"POST","/v1/accounts:signInWithEmailLink",bh(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:rh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Af(e,t){return Sh(e,"POST","/v1/accounts:signInWithIdp",bh(e,t))}class Rf extends Tf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=c(t,$d);if(!n||!r)return null;const s=new Rf(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Af(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Af(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Af(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}}async function Pf(e,t){return xh(e,"POST","/v1/accounts:sendVerificationCode",bh(e,t))}const Df={USER_NOT_FOUND:"user-not-found"};class Of extends Tf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Of({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Of({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Sh(e,"POST","/v1/accounts:signInWithPhoneNumber",bh(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Sh(e,"POST","/v1/accounts:signInWithPhoneNumber",bh(e,t));if(n.temporaryProof)throw Th(e,"account-exists-with-different-credential",n);return n}(e,l({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Sh(e,"POST","/v1/accounts:signInWithPhoneNumber",bh(e,l(l({},t),{},{operation:"REAUTH"})),Df)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Of({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Mf{constructor(e){var t,n,r,i,s,o;const a=pu(mu(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);lh(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=pu(mu(e)).link,n=t?pu(mu(t)).deep_link_id:null,r=pu(mu(e)).deep_link_id;return(r?pu(mu(r)).link:null)||r||n||t||e}(e);try{return new Mf(t)}catch(n){return null}}}class Lf{constructor(){this.providerId=Lf.PROVIDER_ID}static credential(e,t){return jf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Mf.parseLink(t);return lh(n,"argument-error"),jf._fromEmailAndCode(e,n.code,n.tenantId)}}Lf.PROVIDER_ID="password",Lf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ff{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uf extends Ff{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vf extends Uf{constructor(){super("facebook.com")}static credential(e){return Rf._fromParams({providerId:Vf.PROVIDER_ID,signInMethod:Vf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vf.credentialFromTaggedObject(e)}static credentialFromError(e){return Vf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Vf.credential(t.oauthAccessToken)}catch(n){return null}}}Vf.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vf.PROVIDER_ID="facebook.com";class zf extends Uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rf._fromParams({providerId:zf.PROVIDER_ID,signInMethod:zf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zf.credentialFromTaggedObject(e)}static credentialFromError(e){return zf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zf.credential(n,r)}catch(i){return null}}}zf.GOOGLE_SIGN_IN_METHOD="google.com",zf.PROVIDER_ID="google.com";class Bf extends Uf{constructor(){super("github.com")}static credential(e){return Rf._fromParams({providerId:Bf.PROVIDER_ID,signInMethod:Bf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bf.credentialFromTaggedObject(e)}static credentialFromError(e){return Bf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bf.credential(t.oauthAccessToken)}catch(n){return null}}}Bf.GITHUB_SIGN_IN_METHOD="github.com",Bf.PROVIDER_ID="github.com";class qf extends Uf{constructor(){super("twitter.com")}static credential(e,t){return Rf._fromParams({providerId:qf.PROVIDER_ID,signInMethod:qf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qf.credentialFromTaggedObject(e)}static credentialFromError(e){return qf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return qf.credential(n,r)}catch(i){return null}}}async function Hf(e,t){return Sh(e,"POST","/v1/accounts:signUp",bh(e,t))}qf.TWITTER_SIGN_IN_METHOD="twitter.com",qf.PROVIDER_ID="twitter.com";class Wf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await qh._fromIdTokenResponse(e,n,r),s=Kf(n);return new Wf({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Kf(n);return new Wf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Kf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Gf extends lu{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Gf(e,t,n,r)}}function Qf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Gf._fromErrorAndOperation(e,n,t,r);throw n})}async function Yf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Mh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Wf._forOperation(e,"link",r)}async function Xf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Rd(r.app))return Promise.reject(oh(r));const i="reauthenticate";try{const s=await Mh(e,Qf(r,i,t,e),n);lh(s.idToken,r,"internal-error");const o=Dh(s.idToken);lh(o,r,"internal-error");const{sub:a}=o;return lh(e.uid===a,r,"user-mismatch"),Wf._forOperation(e,i,s)}catch(xP){throw(null===xP||void 0===xP?void 0:xP.code)==="auth/".concat("user-not-found")&&rh(r,"user-mismatch"),xP}}async function $f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Rd(e.app))return Promise.reject(oh(e));const r="signIn",i=await Qf(e,r,t),s=await Wf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Jf(e,t){return $f(hf(e),t)}async function Zf(e){const t=hf(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ep(e,t,n){if(Rd(e.app))return Promise.reject(oh(e));const r=hf(e),i=Ef(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hf,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Zf(e),t}),o=await Wf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function tp(e,t,n){return Rd(e.app)?Promise.reject(oh(e)):Jf(wu(e),Lf.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Zf(e),t})}function np(e,t,n,r){return wu(e).onAuthStateChanged(t,n,r)}function rp(e){return wu(e).signOut()}function ip(e,t){return xh(e,"POST","/v2/accounts/mfaEnrollment:start",bh(e,t))}new WeakMap;const sp="__sak";class op{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ap extends op{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=af(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);of()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ap.type="LOCAL";const lp=ap;function cp(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function up(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class dp{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=up(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return cp(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=up(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=up(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=cp(n);const i=setInterval(()=>{const e=cp(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}dp.type="COOKIE";class hp extends op{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hp.type="SESSION";const fp=hp;class pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new pp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pp.receivers=[];class gp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=mp("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function vp(){return window}function yp(){return"undefined"!==typeof vp().WorkerGlobalScope&&"function"===typeof vp().importScripts}const wp="firebaseLocalStorageDb",bp="firebaseLocalStorage",xp="fbase_key";class Ep{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sp(e,t){return e.transaction([bp],t?"readwrite":"readonly").objectStore(bp)}function Np(){const e=indexedDB.open(wp,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(bp,{keyPath:xp})}catch(xP){n(xP)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(bp)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(wp);return new Ep(e).toPromise()}(),t(await Np()))})})}async function kp(e,t,n){const r=Sp(e,!0).put({[xp]:t,value:n});return new Ep(r).toPromise()}function _p(e,t){const n=Sp(e,!0).delete(t);return new Ep(n).toPromise()}class Tp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Np()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(xP){if(t++>3)throw xP;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pp._getInstance(yp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new gp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await kp(e,sp,"1"),await _p(e,sp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kp(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Sp(e,!1).get(t),r=await new Ep(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_p(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Sp(e,!1).getAll();return new Ep(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Tp.type="LOCAL";const Cp=Tp;function Ip(e,t){return xh(e,"POST","/v2/accounts/mfaSignIn:start",bh(e,t))}gf("rcb"),new ph(3e4,6e4);const jp="recaptcha";async function Ap(e,t,n){if(!e._getRecaptchaConfig())try{await Sf(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){lh("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Ef(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===wf){lh((null===n||void 0===n?void 0:n.type)===jp,e,"argument-error");return ip(e,await Rp(e,t,n))}return ip(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;lh("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;lh(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ef(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===wf){lh((null===n||void 0===n?void 0:n.type)===jp,e,"argument-error");return Ip(e,await Rp(e,t,n))}return Ip(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ef(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===wf){lh((null===n||void 0===n?void 0:n.type)===jp,e,"argument-error");return Pf(e,await Rp(e,t,n))}return Pf(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Rp(e,t,n){lh(n.type===jp,e,"argument-error");const r=await n.verify();lh("string"===typeof r,e,"argument-error");const i=l({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Pp{constructor(e){this.providerId=Pp.PROVIDER_ID,this.auth=hf(e)}verifyPhoneNumber(e,t){return Ap(this.auth,e,wu(t))}static credential(e,t){return Of._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pp.credentialFromTaggedObject(t)}static credentialFromError(e){return Pp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Of._fromTokenResponse(n,r):null}}function Dp(e,t){return t?Wh(t):(lh(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pp.PROVIDER_ID="phone",Pp.PHONE_SIGN_IN_METHOD="phone";class Op extends Tf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Af(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Af(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Af(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mp(e){return $f(e.auth,new Op(e),e.bypassAuthState)}function Lp(e){const{auth:t,user:n}=e;return lh(n,t,"internal-error"),Xf(n,new Op(e),e.bypassAuthState)}async function Fp(e){const{auth:t,user:n}=e;return lh(n,t,"internal-error"),Yf(n,new Op(e),e.bypassAuthState)}class Up{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(xP){this.reject(xP)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(xP){this.reject(xP)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mp;case"linkViaPopup":case"linkViaRedirect":return Fp;case"reauthViaPopup":case"reauthViaRedirect":return Lp;default:rh(this.auth,"internal-error")}}resolve(e){uh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vp=new ph(2e3,1e4);class zp extends Up{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,zp.currentPopupAction&&zp.currentPopupAction.cancel(),zp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lh(e,this.auth,"internal-error"),e}async onExecution(){uh(1===this.filter.length,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ih(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ih(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ih(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Vp.get())};e()}}zp.currentPopupAction=null;const Bp=new Map;class qp extends Up{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Bp.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Kp(t),r=Wp(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(xP){e=()=>Promise.reject(xP)}Bp.set(this.auth._key(),e)}return this.bypassAuthState||Bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Hp(e,t){Bp.set(e._key(),t)}function Wp(e){return Wh(e._redirectPersistence)}function Kp(e){return Qh("pendingRedirect",e.config.apiKey,e.name)}async function Gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Rd(e.app))return Promise.reject(oh(e));const r=hf(e),i=Dp(r,t),s=new qp(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Qp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Xp(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ih(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yp(e))}saveEventToCache(e){this.cachedEventUids.add(Yp(e)),this.lastProcessedEventTime=Date.now()}}function Yp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Xp(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const $p=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jp=/^https?/;async function Zp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return xh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(em(r))return}catch(n){}rh(e,"unauthorized-domain")}function em(e){const t=dh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Jp.test(n))return!1;if($p.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tm=new ph(3e4,6e4);function nm(){const e=vp().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function rm(e){return new Promise((t,n)=>{var r,i;function s(){nm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nm(),n(ih(e,"network-request-failed"))},timeout:tm.get()})}if(null!==(r=vp().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=vp().gapi)||void 0===i||!i.load){const t=gf("iframefcb");return vp()[t]=()=>{gapi.load?s():n(ih(e,"network-request-failed"))},mf("".concat(pf.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw im=null,e})}let im=null;const sm=new ph(5e3,15e3),om={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},am=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lm(e){const t=e.config;lh(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?mh(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Od},i=am.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(fu(r).slice(1))}async function cm(e){const t=await function(e){return im=im||rm(e),im}(e),n=vp().gapi;return lh(n,e,"internal-error"),t.open({where:document.body,url:lm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:om,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ih(e,"network-request-failed"),s=vp().setTimeout(()=>{r(i)},sm.get());function o(){vp().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const um={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(xP){}}}function hm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=l(l({},um),{},{width:r.toString(),height:i.toString(),top:s,left:o}),u=nu().toLowerCase();n&&(a=Zh(u)?"_blank":n),$h(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return sf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new dm(null);const h=window.open(t||"",a,d);lh(h,e,"popup-blocked");try{h.focus()}catch(xP){}return new dm(h)}const fm="__/auth/handler",pm="emulator/auth/handler",mm=encodeURIComponent("fac");async function gm(e,t,n,r,i,s){lh(e.config.authDomain,e,"auth-domain-config-required"),lh(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Od,eventId:i};if(t instanceof Ff){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Uf){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(mm,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fm);return mh(t,pm)}(e),"?").concat(fu(a).slice(1)).concat(c)}const vm="webStorageSupport";const ym=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fp,this._completeRedirectFn=Gp,this._overrideRedirectResult=Hp}async _openPopup(e,t,n,r){var i;uh(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return hm(e,await gm(e,t,n,dh(),r),mp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vp().location.href=e}(await gm(e,t,n,dh(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(uh(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await cm(e),n=new Qp(e);return t.register("authEvent",t=>{lh(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vm,{type:vm},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[vm];void 0!==i&&t(!!i),rh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return af()||Jh()||sf()}};var wm="@firebase/auth",bm="1.11.0";class xm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lh(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Em=Yc("authIdTokenMaxAge")||300;let Sm=null;var Nm;pf={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ih("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Nm="Browser",jd(new bu("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;lh(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Nm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lf(Nm)},c=new df(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wh);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),jd(new bu("auth-internal",e=>(e=>new xm(e))(hf(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Fd(wm,bm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Nm)),Fd(wm,bm,"esm2020");var km,_m,Tm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Cm={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||c.l(e)>0;)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),o=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=s*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,_m=Cm.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=o(Math.pow(n,s)),i=i.j(s).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},km=Cm.Integer=r}).apply("undefined"!==typeof Tm?Tm:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Im,jm,Am,Rm,Pm,Dm,Om,Mm,Lm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fm={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Lm&&Lm];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=b;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,w=!1,b=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(E)}};function E(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}w=!1}function S(){this.u=this.u,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,N),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var C="closure_listenable_"+(1e6*Math.random()|0),I=0;function j(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++I,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function R(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}M.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=F(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new j(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),V={};function z(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)z(e,t[s],n,r,i);return null}return n=X(n),e&&e[C]?e.J(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[U]=l=new M(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=X(n),e&&e[C]?e.K(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=X(n),e&&e[C]?(e=e.i,(s=String(t).toString())in e.g&&((n=F(t=e.g[s],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[C])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(L(n,e),0==n.h&&(n.src=null,t[U]=null)):A(e)}}}function K(e){return e in V?V[e]:V[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[U])instanceof M?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){S.call(this),this.i=new M(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;O(t=new N(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&L(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,S),$.prototype[C]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ie(e){R(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,oe=s.JSON.parse,ae=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){N.call(this,"d")}function he(){N.call(this,"c")}u(de,N),u(he,N);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){N.call(this,fe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){N.call(this,fe.STAT_EVENT,e),this.stat=t}function we(e){const t=me();J(t,new ye(t,e))}function be(e,t){N.call(this,fe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Ee(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,N),fe.STAT_EVENT="statevent",u(ye,N),fe.Ja="timingevent",u(be,N),Ee.prototype.ua=function(){this.g=!1},Ee.prototype.info=function(){};var Ne,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ce(e){return encodeURIComponent(String(e))}function Ie(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ne=new Te;var Re={},Pe={};function De(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),wt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=z(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Le(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pe:(n=Number(t.substring(n,r)),isNaN(n)?Re:(r+=1)+n>t.length?Pe:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ve(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Xt(n),we(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!_(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ye(s,s.h),s.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),o.L){Xe(r.h,o);var a=o,c=r.O;c&&(a.H=c),a.D&&(Ve(a),Fe(a)),r.g=o}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}je.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ve(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,we(12),Be(this),ze(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Le(this,n),t==Pe){4==l&&(this.m=4,we(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==Re){this.m=4,we(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),qe(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,we(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,we(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else Se(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(_(e[r]))continue;var n=Ie(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Be(this),ze(this)}}}catch(yg){}},je.prototype.cancel=function(){this.K=!0,Be(this)},je.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),we(17)),Be(this),this.m=2,ze(this)):Ue(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,bt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),wt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ce(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,bt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function wt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function bt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function St(){this.g=new ae}function Nt(e){this.i=e.Sb||null,this.h=e.ab||!1}function kt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function _t(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ct(e)}function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return R(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=It(n),"string"===typeof e?null!=n&&Ce(n):it(e,t,n))}function At(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ce(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ce(n[t])),e.push(r)}}return this.i=e.join("&")},u(Nt,le),Nt.prototype.g=function(){return new kt(this.i,this.h)},u(kt,$),(e=kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ct(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_t(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):Ct(this),3==this.readyState&&_t(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(At,$);var Rt=/^https?$/i,Pt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Lt(e)}function Ot(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Mt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Rt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var o=Ft(e)>2?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.ca()+"]",Ot(e)}}finally{Lt(e)}}}function Lt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new je(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||x(),w||(y(),w=!0),b.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&jt(r,e.u,e.o),n=new je(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&R(e.H,function(e,n){it(t,n,e)}),e.l&&R({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var s=i[u].g;const n=i[u].map;if((s-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{s="req"+s+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}catch(c){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||x(),w||(y(),w=!0),b.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&jt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new be(r,n)),Wt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new Ee;if(s.Image){const r=new Image;r.onload=c(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Et,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ee;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else we(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new At(new Nt({ab:n})):new At(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!_(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=At.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ne.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Dt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Pt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Dt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Lt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mt(this):this.Xa())},e.Xa=function(){Mt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){we(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new je(this,this.j,e);let s=this.o;if(this.U&&(s?(s=P(s),O(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),s&&(this.R?t="headers="+Ce(It(s))+"&"+t:this.u&&jt(n,this.u,s)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),we(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,an),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Mm=Fm.createWebChannelTransport=function(){return new ln},Om=Fm.getStatEventTarget=function(){return me()},Dm=Fm.Event=fe,Pm=Fm.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Rm=Fm.ErrorCode=ke,_e.COMPLETE="complete",Am=Fm.EventType=_e,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,jm=Fm.WebChannel=ce,Fm.FetchXmlHttpFactory=Nt,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,Im=Fm.XhrIo=At}).apply("undefined"!==typeof Lm?Lm:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Um="@firebase/firestore",Vm="4.9.2";class zm{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zm.UNAUTHENTICATED=new zm(null),zm.GOOGLE_CREDENTIALS=new zm("google-credentials-uid"),zm.FIRST_PARTY=new zm("first-party-uid"),zm.MOCK_USER=new zm("mock-user");let Bm="12.3.0";const qm=new ju("@firebase/firestore");function Hm(){return qm.logLevel}function Wm(e){if(qm.logLevel<=ku.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qm);qm.debug("Firestore (".concat(Bm,"): ").concat(e),...i)}}function Km(e){if(qm.logLevel<=ku.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qm);qm.error("Firestore (".concat(Bm,"): ").concat(e),...i)}}function Gm(e){if(qm.logLevel<=ku.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qm);qm.warn("Firestore (".concat(Bm,"): ").concat(e),...i)}}function Qm(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ym(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Xm(e,r,n)}function Xm(e,t,n){let r="FIRESTORE (".concat(Bm,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Km(r),new Error(r)}function $m(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Xm(t,i,r)}function Jm(e,t){return e}const Zm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class eg extends lu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class tg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ng{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class rg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zm.UNAUTHENTICATED))}shutdown(){}}class ig{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sg{constructor(e){this.t=e,this.currentUser=zm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$m(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new tg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tg,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Wm("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Wm("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tg)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Wm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($m("string"==typeof t.accessToken,31837,{l:t}),new ng(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $m(null===e||"string"==typeof e,2055,{h:e}),new zm(e)}}class og{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=zm.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ag{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new og(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(zm.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cg{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rd(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$m(void 0===this.o,3512);const n=e=>{null!=e.error&&Wm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Wm("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Wm("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Wm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?($m("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new lg(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ug(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class dg{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ug(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function hg(e,t){return e<t?-1:e>t?1:0}function fg(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return gg(n)===gg(i)?hg(n,i):gg(n)?1:-1}return hg(e.length,t.length)}const pg=55296,mg=57343;function gg(e){const t=e.charCodeAt(0);return t>=pg&&t<=mg}function vg(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const yg="__name__";class wg{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ym(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ym(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===wg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wg?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=wg.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return hg(e.length,t.length)}static compareSegments(e,t){const n=wg.isNumericId(e),r=wg.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?wg.extractNumericId(e).compare(wg.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return km.fromString(e.substring(4,e.length-2))}}class bg extends wg{construct(e,t,n){return new bg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new eg(Zm.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new bg(e)}static emptyPath(){return new bg([])}}const xg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Eg extends wg{construct(e,t,n){return new Eg(e,t,n)}static isValidIdentifier(e){return xg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Eg.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===yg}static keyField(){return new Eg([yg])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new eg(Zm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new eg(Zm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new eg(Zm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new eg(Zm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Eg(t)}static emptyPath(){return new Eg([])}}class Sg{constructor(e){this.path=e}static fromPath(e){return new Sg(bg.fromString(e))}static fromName(e){return new Sg(bg.fromString(e).popFirst(5))}static empty(){return new Sg(bg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sg(new bg(e.slice()))}}function Ng(e,t,n){if(!n)throw new eg(Zm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function kg(e){if(!Sg.isDocumentKey(e))throw new eg(Zm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _g(e){if(Sg.isDocumentKey(e))throw new eg(Zm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Tg(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Cg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ym(12329,{type:typeof e})}function Ig(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new eg(Zm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cg(e);throw new eg(Zm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function jg(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ag(e,t){if(!Tg(e))throw new eg(Zm.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new eg(Zm.INVALID_ARGUMENT,n);return!0}const Rg=-62135596800,Pg=1e6;class Dg{static now(){return Dg.fromMillis(Date.now())}static fromDate(e){return Dg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Pg);return new Dg(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new eg(Zm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new eg(Zm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Rg)throw new eg(Zm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new eg(Zm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pg}_compareTo(e){return this.seconds===e.seconds?hg(this.nanoseconds,e.nanoseconds):hg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dg._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ag(e,Dg._jsonSchema))return new Dg(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dg._jsonSchemaVersion="firestore/timestamp/1.0",Dg._jsonSchema={type:jg("string",Dg._jsonSchemaVersion),seconds:jg("number"),nanoseconds:jg("number")};class Og{static fromTimestamp(e){return new Og(e)}static min(){return new Og(new Dg(0,0))}static max(){return new Og(new Dg(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mg=-1;class Lg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Lg.UNKNOWN_ID=-1;function Fg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Og.fromTimestamp(1e9===r?new Dg(n+1,0):new Dg(n,r));return new Vg(i,Sg.empty(),t)}function Ug(e){return new Vg(e.readTime,e.key,Mg)}class Vg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vg(Og.min(),Sg.empty(),Mg)}static max(){return new Vg(Og.max(),Sg.empty(),Mg)}}function zg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Sg.comparator(e.documentKey,t.documentKey),0!==n?n:hg(e.largestBatchId,t.largestBatchId))}const Bg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Hg(e){if(e.code!==Zm.FAILED_PRECONDITION||e.message!==Bg)throw e;Wm("LocalStore","Unexpectedly lost primary lease")}class Wg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ym(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wg((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Wg?t:Wg.resolve(t)}catch(e){return Wg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Wg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Wg.reject(t)}static resolve(e){return new Wg((t,n)=>{t(e)})}static reject(e){return new Wg((t,n)=>{n(e)})}static waitFor(e){return new Wg((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Wg.resolve(!1);for(const n of e)t=t.next(e=>e?Wg.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Wg((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Wg((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Kg(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gg(e){return"IndexedDbTransactionError"===e.name}class Qg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qg.ce=-1;const Yg=-1;function Xg(e){return null==e}function $g(e){return 0===e&&1/e==-1/0}function Jg(e){return"number"==typeof e&&Number.isInteger(e)&&!$g(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Zg="\x01";function ev(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=nv(t)),t=tv(e.get(n),t);return nv(t)}function tv(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Zg:n+="\x01\x11";break;default:n+=t}}return n}function nv(e){return e+Zg+"\x01"}const rv="remoteDocuments",iv="owner",sv="mutationQueues",ov="mutations";const av="documentMutations",lv="remoteDocumentsV14",cv="remoteDocumentGlobal",uv="targets",dv="targetDocuments",hv="targetGlobal",fv="collectionParents",pv="clientMetadata",mv="bundles",gv="namedQueries",vv="indexConfiguration",yv="indexState",wv="indexEntries",bv="documentOverlays",xv="globals",Ev=[sv,ov,av,rv,uv,iv,hv,dv,pv,cv,fv,mv,gv],Sv=[sv,ov,av,lv,uv,iv,hv,dv,pv,cv,fv,mv,gv,bv],Nv=Sv,kv=[...Nv,vv,yv,wv];function _v(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Iv{constructor(e,t){this.comparator=e,this.root=t||Av.EMPTY}insert(e,t){return new Iv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Av.BLACK,null,null))}remove(e){return new Iv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Av.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jv(this.root,e,this.comparator,!1)}getReverseIterator(){return new jv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jv(this.root,e,this.comparator,!0)}}class jv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Av{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Av.RED,this.left=null!=r?r:Av.EMPTY,this.right=null!=i?i:Av.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Av(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Av.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Av.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Av.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Av.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ym(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ym(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ym(27949);return e+(this.isRed()?0:1)}}Av.EMPTY=null,Av.RED=!0,Av.BLACK=!1,Av.EMPTY=new class{constructor(){this.size=0}get key(){throw Ym(57766)}get value(){throw Ym(16141)}get color(){throw Ym(16727)}get left(){throw Ym(29726)}get right(){throw Ym(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Av(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rv{constructor(e){this.comparator=e,this.data=new Iv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Rv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rv(this.comparator);return t.data=e,t}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dv{constructor(e){this.fields=e,e.sort(Eg.comparator)}static empty(){return new Dv([])}unionWith(e){let t=new Rv(Eg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vg(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ov extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ov("Invalid base64 string: "+e):e}}(e);return new Mv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Mv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mv.EMPTY_BYTE_STRING=new Mv("");const Lv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fv(e){if($m(!!e,39018),"string"==typeof e){let t=0;const n=Lv.exec(e);if($m(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Uv(e.seconds),nanos:Uv(e.nanos)}}function Uv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vv(e){return"string"==typeof e?Mv.fromBase64String(e):Mv.fromUint8Array(e)}const zv="server_timestamp",Bv="__type__",qv="__previous_value__",Hv="__local_write_time__";function Wv(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Bv])||void 0===t?void 0:t.stringValue)===zv}function Kv(e){const t=e.mapValue.fields[qv];return Wv(t)?Kv(t):t}function Gv(e){const t=Fv(e.mapValue.fields[Hv].timestampValue);return new Dg(t.seconds,t.nanos)}class Qv{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Yv="(default)";class Xv{constructor(e,t){this.projectId=e,this.database=t||Yv}static empty(){return new Xv("","")}get isDefaultDatabase(){return this.database===Yv}isEqual(e){return e instanceof Xv&&e.projectId===this.projectId&&e.database===this.database}}const $v="__type__",Jv="__max__",Zv={mapValue:{fields:{__type__:{stringValue:Jv}}}},ey="__vector__",ty="value";function ny(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wv(e)?4:wy(e)?9007199254740991:vy(e)?10:11:Ym(28295,{value:e})}function ry(e,t){if(e===t)return!0;const n=ny(e);if(n!==ny(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gv(e).isEqual(Gv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fv(e.timestampValue),r=Fv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vv(e.bytesValue).isEqual(Vv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uv(e.geoPointValue.latitude)===Uv(t.geoPointValue.latitude)&&Uv(e.geoPointValue.longitude)===Uv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uv(e.integerValue)===Uv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Uv(e.doubleValue),r=Uv(t.doubleValue);return n===r?$g(n)===$g(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vg(e.arrayValue.values||[],t.arrayValue.values||[],ry);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_v(n)!==_v(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ry(n[i],r[i])))return!1;return!0}(e,t);default:return Ym(52216,{left:e})}}function iy(e,t){return void 0!==(e.values||[]).find(e=>ry(e,t))}function sy(e,t){if(e===t)return 0;const n=ny(e),r=ny(t);if(n!==r)return hg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Uv(e.integerValue||e.doubleValue),r=Uv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oy(e.timestampValue,t.timestampValue);case 4:return oy(Gv(e),Gv(t));case 5:return fg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vv(e),r=Vv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=hg(n[i],r[i]);if(0!==e)return e}return hg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=hg(Uv(e.latitude),Uv(t.latitude));return 0!==n?n:hg(Uv(e.longitude),Uv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ay(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[ty])||void 0===n?void 0:n.arrayValue,c=null===(r=a[ty])||void 0===r?void 0:r.arrayValue,u=hg((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:ay(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Zv.mapValue&&t===Zv.mapValue)return 0;if(e===Zv.mapValue)return 1;if(t===Zv.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=fg(r[o],s[o]);if(0!==e)return e;const t=sy(n[r[o]],i[s[o]]);if(0!==t)return t}return hg(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ym(23264,{he:n})}}function oy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hg(e,t);const n=Fv(e),r=Fv(t),i=hg(n.seconds,r.seconds);return 0!==i?i:hg(n.nanos,r.nanos)}function ay(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=sy(n[i],r[i]);if(e)return e}return hg(n.length,r.length)}function ly(e){return cy(e)}function cy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Vv(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Sg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=cy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(cy(e.fields[i]));return n+"}"}(e.mapValue):Ym(61005,{value:e})}function uy(e){switch(ny(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kv(e);return t?16+uy(t):16;case 5:return 2*e.stringValue.length;case 6:return Vv(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+uy(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Tv(e.fields,(e,n)=>{t+=e.length+uy(n)}),t}(e.mapValue);default:throw Ym(13486,{value:e})}}function dy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function hy(e){return!!e&&"integerValue"in e}function fy(e){return!!e&&"arrayValue"in e}function py(e){return!!e&&"nullValue"in e}function my(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gy(e){return!!e&&"mapValue"in e}function vy(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[$v])||void 0===t?void 0:t.stringValue)===ey}function yy(e){if(e.geoPointValue)return{geoPointValue:l({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:l({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Tv(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=yy(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yy(e.arrayValue.values[n]);return t}return l({},e)}function wy(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Jv}class by{constructor(e){this.value=e}static empty(){return new by({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yy(t)}setAll(e){let t=Eg.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=yy(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());gy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ry(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];gy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Tv(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new by(yy(this.value))}}function xy(e){const t=[];return Tv(e.fields,(e,n)=>{const r=new Eg([e]);if(gy(n)){const e=xy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Dv(t)}class Ey{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ey(e,0,Og.min(),Og.min(),Og.min(),by.empty(),0)}static newFoundDocument(e,t,n,r){return new Ey(e,1,t,Og.min(),n,r,0)}static newNoDocument(e,t){return new Ey(e,2,t,Og.min(),Og.min(),by.empty(),0)}static newUnknownDocument(e,t){return new Ey(e,3,t,Og.min(),Og.min(),by.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Og.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=by.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=by.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Og.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ey&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ey(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Sy{constructor(e,t){this.position=e,this.inclusive=t}}function Ny(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Sg.comparator(Sg.fromName(o.referenceValue),n.key):sy(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ky(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ry(e.position[n],t.position[n]))return!1;return!0}class _y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ty(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Cy{}class Iy extends Cy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ly(e,t,n):"array-contains"===t?new zy(e,n):"in"===t?new By(e,n):"not-in"===t?new qy(e,n):"array-contains-any"===t?new Hy(e,n):new Iy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Fy(e,n):new Uy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(sy(t,this.value)):null!==t&&ny(this.value)===ny(t)&&this.matchesComparison(sy(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ym(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jy extends Cy{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new jy(e,t)}matches(e){return Ay(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ay(e){return"and"===e.op}function Ry(e){return Py(e)&&Ay(e)}function Py(e){for(const t of e.filters)if(t instanceof jy)return!1;return!0}function Dy(e){if(e instanceof Iy)return e.field.canonicalString()+e.op.toString()+ly(e.value);if(Ry(e))return e.filters.map(e=>Dy(e)).join(",");{const t=e.filters.map(e=>Dy(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Oy(e,t){return e instanceof Iy?function(e,t){return t instanceof Iy&&e.op===t.op&&e.field.isEqual(t.field)&&ry(e.value,t.value)}(e,t):e instanceof jy?function(e,t){return t instanceof jy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Oy(n,t.filters[r]),!0)}(e,t):void Ym(19439)}function My(e){return e instanceof Iy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ly(e.value))}(e):e instanceof jy?function(e){return e.op.toString()+" {"+e.getFilters().map(My).join(" ,")+"}"}(e):"Filter"}class Ly extends Iy{constructor(e,t,n){super(e,t,n),this.key=Sg.fromName(n.referenceValue)}matches(e){const t=Sg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fy extends Iy{constructor(e,t){super(e,"in",t),this.keys=Vy("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Uy extends Iy{constructor(e,t){super(e,"not-in",t),this.keys=Vy("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Sg.fromName(e.referenceValue))}class zy extends Iy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fy(t)&&iy(t.arrayValue,this.value)}}class By extends Iy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&iy(this.value.arrayValue,t)}}class qy extends Iy{constructor(e,t){super(e,"not-in",t)}matches(e){if(iy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!iy(this.value.arrayValue,t)}}class Hy extends Iy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>iy(this.value.arrayValue,e))}}class Wy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function Ky(e){return new Wy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Gy(e){const t=Jm(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Dy(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Xg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ly(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ly(e)).join(",")),t.Te=e}return t.Te}function Qy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ty(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Oy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ky(e.startAt,t.startAt)&&ky(e.endAt,t.endAt)}function Yy(e){return Sg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Xy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $y(e,t,n,r,i,s,o,a){return new Xy(e,t,n,r,i,s,o,a)}function Jy(e){return new Xy(e)}function Zy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ew(e){return null!==e.collectionGroup}function tw(e){const t=Jm(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Rv(Eg.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new _y(r,n))}),e.has(Eg.keyField().canonicalString())||t.Ie.push(new _y(Eg.keyField(),n))}return t.Ie}function nw(e){const t=Jm(e);return t.Ee||(t.Ee=rw(t,tw(e))),t.Ee}function rw(e,t){if("F"===e.limitType)return Ky(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new _y(e.field,t)});const n=e.endAt?new Sy(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sy(e.startAt.position,e.startAt.inclusive):null;return Ky(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function iw(e,t){const n=e.filters.concat([t]);return new Xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sw(e,t,n){return new Xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ow(e,t){return Qy(nw(e),nw(t))&&e.limitType===t.limitType}function aw(e){return"".concat(Gy(nw(e)),"|lt:").concat(e.limitType)}function lw(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>My(e)).join(", "),"]")),Xg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ly(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ly(e)).join(",")),"Target(".concat(t,")")}(nw(e)),"; limitType=").concat(e.limitType,")")}function cw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of tw(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ny(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,tw(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ny(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,tw(e),t))}(e,t)}function uw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dw(e){return(t,n)=>{let r=!1;for(const i of tw(e)){const e=hw(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function hw(e,t,n){const r=e.field.isKeyField()?Sg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?sy(r,i):Ym(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ym(19790,{direction:e.dir})}}class fw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Tv(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Cv(this.inner)}size(){return this.innerSize}}const pw=new Iv(Sg.comparator);function mw(){return pw}const gw=new Iv(Sg.comparator);function vw(){let e=gw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function yw(e){let t=gw;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ww(){return xw()}function bw(){return xw()}function xw(){return new fw(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ew=new Iv(Sg.comparator),Sw=new Rv(Sg.comparator);function Nw(){let e=Sw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const kw=new Rv(hg);function _w(){return kw}function Tw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(t)?"-0":t}}function Cw(e){return{integerValue:""+e}}function Iw(e,t){return Jg(t)?Cw(t):Tw(e,t)}class jw{constructor(){this._=void 0}}function Aw(e,t,n){return e instanceof Dw?function(e,t){const n={fields:{[Bv]:{stringValue:zv},[Hv]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Wv(t)&&(t=Kv(t)),t&&(n.fields[qv]=t),{mapValue:n}}(n,t):e instanceof Ow?Mw(e,t):e instanceof Lw?Fw(e,t):function(e,t){const n=Pw(e,t),r=Vw(n)+Vw(e.Ae);return hy(n)&&hy(e.Ae)?Cw(r):Tw(e.serializer,r)}(e,t)}function Rw(e,t,n){return e instanceof Ow?Mw(e,t):e instanceof Lw?Fw(e,t):n}function Pw(e,t){return e instanceof Uw?function(e){return hy(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Dw extends jw{}class Ow extends jw{constructor(e){super(),this.elements=e}}function Mw(e,t){const n=zw(t);for(const r of e.elements)n.some(e=>ry(e,r))||n.push(r);return{arrayValue:{values:n}}}class Lw extends jw{constructor(e){super(),this.elements=e}}function Fw(e,t){let n=zw(t);for(const r of e.elements)n=n.filter(e=>!ry(e,r));return{arrayValue:{values:n}}}class Uw extends jw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Vw(e){return Uv(e.integerValue||e.doubleValue)}function zw(e){return fy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Bw{constructor(e,t){this.version=e,this.transformResults=t}}class qw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qw}static exists(e){return new qw(void 0,e)}static updateTime(e){return new qw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ww{}function Kw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nb(e.key,qw.none()):new $w(e.key,e.data,qw.none());{const n=e.data,r=by.empty();let i=new Rv(Eg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Jw(e.key,r,new Dv(i.toArray()),qw.none())}}function Gw(e,t,n){e instanceof $w?function(e,t,n){const r=e.value.clone(),i=eb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jw?function(e,t,n){if(!Hw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=eb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qw(e,t,n,r){return e instanceof $w?function(e,t,n,r){if(!Hw(e.precondition,t))return n;const i=e.value.clone(),s=tb(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jw?function(e,t,n,r){if(!Hw(e.precondition,t))return n;const i=tb(e.fieldTransforms,r,t),s=t.data;return s.setAll(Zw(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Hw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Yw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Pw(r.transform,e||null);null!=i&&(null===n&&(n=by.empty()),n.set(r.field,i))}return n||null}function Xw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vg(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ow&&t instanceof Ow||e instanceof Lw&&t instanceof Lw?vg(e.elements,t.elements,ry):e instanceof Uw&&t instanceof Uw?ry(e.Ae,t.Ae):e instanceof Dw&&t instanceof Dw}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $w extends Ww{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jw extends Ww{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Zw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function eb(e,t,n){const r=new Map;$m(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Rw(o,a,n[i]))}return r}function tb(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Aw(e,s,t))}return r}class nb extends Ww{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rb extends Ww{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ib{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Gw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Qw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Qw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=bw();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Kw(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Og.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Nw())}isEqual(e){return this.batchId===e.batchId&&vg(this.mutations,e.mutations,(e,t)=>Xw(e,t))&&vg(this.baseMutations,e.baseMutations,(e,t)=>Xw(e,t))}}class sb{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){$m(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Ew;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new sb(e,t,n,r)}}class ob{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ab{constructor(e,t){this.count=e,this.unchangedNames=t}}var lb,cb;function ub(e){switch(e){case Zm.OK:return Ym(64938);case Zm.CANCELLED:case Zm.UNKNOWN:case Zm.DEADLINE_EXCEEDED:case Zm.RESOURCE_EXHAUSTED:case Zm.INTERNAL:case Zm.UNAVAILABLE:case Zm.UNAUTHENTICATED:return!1;case Zm.INVALID_ARGUMENT:case Zm.NOT_FOUND:case Zm.ALREADY_EXISTS:case Zm.PERMISSION_DENIED:case Zm.FAILED_PRECONDITION:case Zm.ABORTED:case Zm.OUT_OF_RANGE:case Zm.UNIMPLEMENTED:case Zm.DATA_LOSS:return!0;default:return Ym(15467,{code:e})}}function db(e){if(void 0===e)return Km("GRPC error has no .code"),Zm.UNKNOWN;switch(e){case lb.OK:return Zm.OK;case lb.CANCELLED:return Zm.CANCELLED;case lb.UNKNOWN:return Zm.UNKNOWN;case lb.DEADLINE_EXCEEDED:return Zm.DEADLINE_EXCEEDED;case lb.RESOURCE_EXHAUSTED:return Zm.RESOURCE_EXHAUSTED;case lb.INTERNAL:return Zm.INTERNAL;case lb.UNAVAILABLE:return Zm.UNAVAILABLE;case lb.UNAUTHENTICATED:return Zm.UNAUTHENTICATED;case lb.INVALID_ARGUMENT:return Zm.INVALID_ARGUMENT;case lb.NOT_FOUND:return Zm.NOT_FOUND;case lb.ALREADY_EXISTS:return Zm.ALREADY_EXISTS;case lb.PERMISSION_DENIED:return Zm.PERMISSION_DENIED;case lb.FAILED_PRECONDITION:return Zm.FAILED_PRECONDITION;case lb.ABORTED:return Zm.ABORTED;case lb.OUT_OF_RANGE:return Zm.OUT_OF_RANGE;case lb.UNIMPLEMENTED:return Zm.UNIMPLEMENTED;case lb.DATA_LOSS:return Zm.DATA_LOSS;default:return Ym(39323,{code:e})}}(cb=lb||(lb={}))[cb.OK=0]="OK",cb[cb.CANCELLED=1]="CANCELLED",cb[cb.UNKNOWN=2]="UNKNOWN",cb[cb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cb[cb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cb[cb.NOT_FOUND=5]="NOT_FOUND",cb[cb.ALREADY_EXISTS=6]="ALREADY_EXISTS",cb[cb.PERMISSION_DENIED=7]="PERMISSION_DENIED",cb[cb.UNAUTHENTICATED=16]="UNAUTHENTICATED",cb[cb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cb[cb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cb[cb.ABORTED=10]="ABORTED",cb[cb.OUT_OF_RANGE=11]="OUT_OF_RANGE",cb[cb.UNIMPLEMENTED=12]="UNIMPLEMENTED",cb[cb.INTERNAL=13]="INTERNAL",cb[cb.UNAVAILABLE=14]="UNAVAILABLE",cb[cb.DATA_LOSS=15]="DATA_LOSS";let hb=null;function fb(){return new TextEncoder}const pb=new km([4294967295,4294967295],0);function mb(e){const t=fb().encode(e),n=new _m;return n.update(t),new Uint8Array(n.digest())}function gb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new km([n,r],0),new km([i,s],0)]}class vb{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new yb("Invalid padding: ".concat(t));if(n<0)throw new yb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new yb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new yb("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=km.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(km.fromNumber(n)));return 1===r.compare(pb)&&(r=new km([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=mb(e),[n,r]=gb(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new vb(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=mb(e),[n,r]=gb(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class yb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wb{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,bb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new wb(Og.min(),r,new Iv(hg),mw(),Nw())}}class bb{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bb(n,t,Nw(),Nw(),Nw())}}class xb{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Eb{constructor(e,t){this.targetId=e,this.Ce=t}}class Sb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mv.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Nb{constructor(){this.ve=0,this.Fe=Tb(),this.Me=Mv.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nw(),t=Nw(),n=Nw();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ym(38017,{changeType:i})}}),new bb(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Tb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$m(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kb{constructor(e){this.Ge=e,this.ze=new Map,this.je=mw(),this.Je=_b(),this.He=_b(),this.Ye=new Iv(hg)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ym(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Yy(s))if(0===n){const e=new Sg(s.path);this.et(t,e,Ey.newNoDocument(e,Og.min()))}else $m(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=hb)||void 0===i||i.lt(function(e,t,n,r,i){var s,o,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(o=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Vv(n).toUint8Array()}catch(e){if(e instanceof Ov)return Gm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new vb(s,r,i)}catch(e){return Gm(e instanceof yb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Yy(i.target)){const t=new Sg(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ey.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Nw();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new wb(e,t,this.Ye,this.je,n);return this.je=mw(),this.Je=_b(),this.He=_b(),this.Ye=new Iv(hg),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Nb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Rv(hg),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Rv(hg),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Wm("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _b(){return new Iv(Sg.comparator)}function Tb(){return new Iv(Sg.comparator)}const Cb={asc:"ASCENDING",desc:"DESCENDING"},Ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jb={and:"AND",or:"OR"};class Ab{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rb(e,t){return e.useProto3Json||Xg(t)?t:{value:t}}function Pb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Db(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ob(e,t){return Pb(e,t.toTimestamp())}function Mb(e){return $m(!!e,49232),Og.fromTimestamp(function(e){const t=Fv(e);return new Dg(t.seconds,t.nanos)}(e))}function Lb(e,t){return Fb(e,t).canonicalString()}function Fb(e,t){const n=function(e){return new bg(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ub(e){const t=bg.fromString(e);return $m(sx(t),10190,{key:t.toString()}),t}function Vb(e,t){return Lb(e.databaseId,t.path)}function zb(e,t){const n=Ub(t);if(n.get(1)!==e.databaseId.projectId)throw new eg(Zm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new eg(Zm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sg(Wb(n))}function Bb(e,t){return Lb(e.databaseId,t)}function qb(e){const t=Ub(e);return 4===t.length?bg.emptyPath():Wb(t)}function Hb(e){return new bg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wb(e){return $m(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Kb(e,t,n){return{name:Vb(e,t),fields:n.value.mapValue.fields}}function Gb(e,t){let n;if(t instanceof $w)n={update:Kb(e,t.key,t.value)};else if(t instanceof nb)n={delete:Vb(e,t.key)};else if(t instanceof Jw)n={update:Kb(e,t.key,t.data),updateMask:ix(t.fieldMask)};else{if(!(t instanceof rb))return Ym(16599,{Vt:t.type});n={verify:Vb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Dw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ow)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uw)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Ym(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ob(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ym(27497)}(e,t.precondition)),n}function Qb(e,t){return{documents:[Bb(e,t.path)]}}function Yb(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Bb(e,i);const s=function(e){if(0!==e.length)return rx(jy.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:tx(e.field),direction:Jb(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Rb(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Xb(e){let t=qb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$m(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=$b(e);return t instanceof jy&&Ry(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new _y(nx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Xg(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Sy(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Sy(n,t)}(n.endAt)),$y(t,i,o,s,a,"F",l,c)}function $b(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nx(e.unaryFilter.field);return Iy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=nx(e.unaryFilter.field);return Iy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nx(e.unaryFilter.field);return Iy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=nx(e.unaryFilter.field);return Iy.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ym(61313);default:return Ym(60726)}}(e):void 0!==e.fieldFilter?function(e){return Iy.create(nx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ym(58110);default:return Ym(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return jy.create(e.compositeFilter.filters.map(e=>$b(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ym(1026)}}(e.compositeFilter.op))}(e):Ym(30097,{filter:e})}function Jb(e){return Cb[e]}function Zb(e){return Ib[e]}function ex(e){return jb[e]}function tx(e){return{fieldPath:e.canonicalString()}}function nx(e){return Eg.fromServerFormat(e.fieldPath)}function rx(e){return e instanceof Iy?function(e){if("=="===e.op){if(my(e.value))return{unaryFilter:{field:tx(e.field),op:"IS_NAN"}};if(py(e.value))return{unaryFilter:{field:tx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(my(e.value))return{unaryFilter:{field:tx(e.field),op:"IS_NOT_NAN"}};if(py(e.value))return{unaryFilter:{field:tx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tx(e.field),op:Zb(e.op),value:e.value}}}(e):e instanceof jy?function(e){const t=e.getFilters().map(e=>rx(e));return 1===t.length?t[0]:{compositeFilter:{op:ex(e.op),filters:t}}}(e):Ym(54877,{filter:e})}function ix(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function sx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ox{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Og.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Og.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mv.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new ox(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ox(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ox(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ox(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ax{constructor(e){this.yt=e}}function lx(e){const t=Xb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sw(t,t.limit,"L"):t}class cx{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Uv(e.integerValue));else if("doubleValue"in e){const n=Uv(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),$g(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Fv(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Vv(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?wy(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):vy(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ym(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=ty,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Uv(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Sg.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}cx.Kt=new cx;class ux{constructor(){this.Cn=new dx}addToCollectionParentIndex(e,t){return this.Cn.add(t),Wg.resolve()}getCollectionParents(e,t){return Wg.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Wg.resolve()}deleteFieldIndex(e,t){return Wg.resolve()}deleteAllFieldIndexes(e){return Wg.resolve()}createTargetIndexes(e,t){return Wg.resolve()}getDocumentsMatchingTarget(e,t){return Wg.resolve(null)}getIndexType(e,t){return Wg.resolve(0)}getFieldIndexes(e,t){return Wg.resolve([])}getNextCollectionGroupToUpdate(e){return Wg.resolve(null)}getMinOffset(e,t){return Wg.resolve(Vg.min())}getMinOffsetFromCollectionGroup(e,t){return Wg.resolve(Vg.min())}updateCollectionGroup(e,t,n){return Wg.resolve()}updateIndexEntries(e,t){return Wg.resolve()}}class dx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rv(bg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Rv(bg.comparator)).toArray()}}new Uint8Array(0);const hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fx=41943040;class px{static withCacheSize(e){return new px(e,px.DEFAULT_COLLECTION_PERCENTILE,px.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}px.DEFAULT_COLLECTION_PERCENTILE=10,px.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,px.DEFAULT=new px(fx,px.DEFAULT_COLLECTION_PERCENTILE,px.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),px.DISABLED=new px(-1,0,0);class mx{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mx(0)}static cr(){return new mx(-1)}}const gx="LruGarbageCollector",vx=1048576;function yx(e,t){let[n,r]=e,[i,s]=t;const o=hg(n,i);return 0===o?hg(r,s):o}class wx{constructor(e){this.Ir=e,this.buffer=new Rv(yx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();yx(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Wm(gx,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Gg(e)?Wm(gx,"Ignoring IndexedDB error during garbage collection: ",e):await Hg(e)}await this.Vr(3e5)})}}class xx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Wg.resolve(Qg.ce);const n=new wx(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wm("LruGarbageCollector","Garbage collection skipped; disabled"),Wg.resolve(hx)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Wm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),hx):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Wm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Hm()<=ku.DEBUG&&Wm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Wg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Ex(e,t){return new xx(e,t)}class Sx{constructor(){this.changes=new fw(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ey.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Qw(n.mutation,e,Dv.empty(),Dg.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Nw()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nw();const r=ww();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=vw();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ww();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Nw()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=mw();const s=xw(),o=xw();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Jw)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Qw(o.mutation,t,o.mutation.getFieldMask(),Dg.now())):s.set(t.key,Dv.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Nx(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=xw();let r=new Iv((e,t)=>e-t),i=Nw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Dv.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Nw()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=bw();l.forEach(e=>{if(!i.has(e)){const r=Kw(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Wg.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Sg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ew(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Wg.resolve(ww());let o=Mg,a=i;return s.next(t=>Wg.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Wg.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Nw())).next(e=>({batchId:o,changes:yw(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Sg(t)).next(e=>{let t=vw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=vw();return this.indexManager.getCollectionParents(e,i).next(o=>Wg.forEach(o,o=>{const a=function(e,t){return new Xy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ey.newInvalidDocument(r)))});let n=vw();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Qw(s.mutation,r,Dv.empty(),Dg.now()),cw(t,r)&&(n=n.insert(e,r))}),n})}}class _x{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Wg.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Mb(e.createTime)}}(t)),Wg.resolve()}getNamedQuery(e,t){return Wg.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:lx(e.bundledQuery),readTime:Mb(e.readTime)}}(t)),Wg.resolve()}}class Tx{constructor(){this.overlays=new Iv(Sg.comparator),this.qr=new Map}getOverlay(e,t){return Wg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ww();return Wg.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Wg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Wg.resolve()}getOverlaysForCollection(e,t,n){const r=ww(),i=t.length+1,s=new Sg(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Iv((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ww(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=ww(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Wg.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ob(t,n));let i=this.qr.get(t);void 0===i&&(i=Nw(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Cx{constructor(){this.sessionToken=Mv.EMPTY_BYTE_STRING}getSessionToken(e){return Wg.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Wg.resolve()}}class Ix{constructor(){this.Qr=new Rv(jx.$r),this.Ur=new Rv(jx.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new jx(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new jx(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Sg(new bg([])),n=new jx(t,e),r=new jx(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Sg(new bg([])),n=new jx(t,e),r=new jx(t,e+1);let i=Nw();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new jx(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jx{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Sg.comparator(e.key,t.key)||hg(e.Yr,t.Yr)}static Kr(e,t){return hg(e.Yr,t.Yr)||Sg.comparator(e.key,t.key)}}class Ax{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Rv(jx.$r)}checkEmpty(e){return Wg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ib(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Zr=this.Zr.add(new jx(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Wg.resolve(s)}lookupMutationBatch(e,t){return Wg.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Wg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Wg.resolve(0===this.mutationQueue.length?Yg:this.tr-1)}getAllMutationBatches(e){return Wg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jx(t,0),r=new jx(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Wg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Rv(hg);return t.forEach(e=>{const t=new jx(e,0),r=new jx(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Wg.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Sg.isDocumentKey(i)||(i=i.child(""));const s=new jx(new Sg(i),0);let o=new Rv(hg);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},s),Wg.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){$m(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Wg.forEach(t.mutations,r=>{const i=new jx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new jx(t,0),r=this.Zr.firstAfterOrEqual(n);return Wg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wg.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rx{constructor(e){this.ri=e,this.docs=new Iv(Sg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wg.resolve(n?n.document.mutableCopy():Ey.newInvalidDocument(t))}getEntries(e,t){let n=mw();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ey.newInvalidDocument(e))}),Wg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=mw();const s=t.path,o=new Sg(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||zg(Ug(o),n)<=0||(r.has(o.key)||cw(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Wg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ym(9500)}ii(e,t){return Wg.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Px(this)}getSize(e){return Wg.resolve(this.size)}}class Px extends Sx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Wg.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Dx{constructor(e){this.persistence=e,this.si=new fw(e=>Gy(e),Qy),this.lastRemoteSnapshotVersion=Og.min(),this.highestTargetId=0,this.oi=0,this._i=new Ix,this.targetCount=0,this.ai=mx.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Wg.resolve()}getLastRemoteSnapshotVersion(e){return Wg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wg.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Wg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Wg.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new mx(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Wg.resolve()}updateTargetData(e,t){return this.Pr(t),Wg.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Wg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Wg.waitFor(i).next(()=>r)}getTargetCount(e){return Wg.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Wg.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Wg.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Wg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Wg.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Wg.resolve(n)}containsKey(e,t){return Wg.resolve(this._i.containsKey(t))}}class Ox{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qg(0),this.li=!1,this.li=!0,this.hi=new Cx,this.referenceDelegate=e(this),this.Pi=new Dx(this),this.indexManager=new ux,this.remoteDocumentCache=function(e){return new Rx(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new ax(t),this.Ii=new _x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Ax(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Wm("MemoryPersistence","Starting transaction:",e);const r=new Mx(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Wg.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Mx extends qg{constructor(e){super(),this.currentSequenceNumber=e}}class Lx{constructor(e){this.persistence=e,this.Ri=new Ix,this.Vi=null}static mi(e){return new Lx(e)}get fi(){if(this.Vi)return this.Vi;throw Ym(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Wg.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Wg.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Wg.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wg.forEach(this.fi,n=>{const r=Sg.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Og.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Wg.or([()=>Wg.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Fx{constructor(e,t){this.persistence=e,this.pi=new fw(e=>ev(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Ex(this,t)}static mi(e,t){return new Fx(e,t)}Ei(){}di(e){return Wg.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Wg.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Wg.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Og.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Wg.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Wg.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Wg.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Wg.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uy(e.data.value)),t}br(e,t,n){return Wg.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Wg.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ux{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Nw(),r=Nw();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ux(e,t.fromCache,n,r)}}class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=su()?8:Kg(nu())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Vx;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Hm()<=ku.DEBUG&&Wm("QueryEngine","SDK will not create cache indexes for query:",lw(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Wg.resolve()):(Hm()<=ku.DEBUG&&Wm("QueryEngine","Query:",lw(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Hm()<=ku.DEBUG&&Wm("QueryEngine","The SDK decides to create cache indexes for query:",lw(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nw(t))):Wg.resolve())}ys(e,t){if(Zy(t))return Wg.resolve(null);let n=nw(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=sw(t,null,"F"),n=nw(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Nw(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,sw(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Zy(t)||r.isEqual(Og.min())?Wg.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?Wg.resolve(null):(Hm()<=ku.DEBUG&&Wm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lw(t)),this.vs(e,s,t,Fg(r,Mg)).next(e=>e))})}Ds(e,t){let n=new Rv(dw(e));return t.forEach((t,r)=>{cw(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Hm()<=ku.DEBUG&&Wm("QueryEngine","Using full collection scan to execute query:",lw(t)),this.ps.getDocumentsMatchingQuery(e,t,Vg.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Bx="LocalStore";class qx{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Iv(hg),this.xs=new fw(e=>Gy(e),Qy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Hx(e,t,n,r){return new qx(e,t,n,r)}async function Wx(e,t){const n=Jm(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=Nw();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Kx(e){const t=Jm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Gx(e,t,n){let r=Nw(),i=Nw();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=mw();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Og.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Wm(Bx,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{ks:r,qs:i}})}function Qx(e,t){const n=Jm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Yg),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Yx(e,t){const n=Jm(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Wg.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new ox(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Xx(e,t,n){const r=Jm(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Gg(e))throw e;Wm(Bx,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function $x(e,t,n){const r=Jm(e);let i=Og.min(),s=Nw();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Jm(e),i=r.xs.get(n);return void 0!==i?Wg.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,nw(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Og.min(),n?s:Nw())).next(e=>(Jx(r,uw(t),e),{documents:e,Qs:s})))}function Jx(e,t,n){let r=e.Os.get(t)||Og.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Zx{constructor(){this.activeTargetIds=_w()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eE{constructor(){this.Mo=new Zx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tE{Oo(e){}shutdown(){}}const nE="ConnectivityMonitor";class rE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Wm(nE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Wm(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let iE=null;function sE(){return null===iE?iE=268435456+Math.round(2147483648*Math.random()):iE++,"0x"+iE.toString(16)}const oE="RestConnection",aE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lE{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Yv?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=sE(),o=this.zo(e,t.toUriEncodedString());Wm(oE,"Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(o),c=$c(l);return this.Jo(e,o,a,n,c).then(t=>(Wm(oE,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw Gm(oE,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=aE[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class cE{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const uE="WebChannelConnection";class dE extends lE{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=sE();return new Promise((i,o)=>{const a=new Im;a.setWithCredentials(!0),a.listenOnce(Am.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Rm.NO_ERROR:const n=a.getResponseJson();Wm(uE,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case Rm.TIMEOUT:Wm(uE,"RPC '".concat(e,"' ").concat(s," timed out")),o(new eg(Zm.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:const r=a.getStatus();if(Wm(uE,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Zm).indexOf(t)>=0?t:Zm.UNKNOWN}(n.status);o(new eg(e,n.message))}else o(new eg(Zm.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new eg(Zm.UNAVAILABLE,"Connection failed."));break;default:Ym(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Wm(uE,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Wm(uE,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=sE(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mm(),o=Om(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Wm(uE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new cE({Yo:t=>{h?Wm(uE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Wm(uE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Wm(uE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,jm.EventType.OPEN,()=>{h||(Wm(uE,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,jm.EventType.CLOSE,()=>{h||(h=!0,Wm(uE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,jm.EventType.ERROR,t=>{h||(h=!0,Gm(uE,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new eg(Zm.UNAVAILABLE,"The operation could not be completed")))}),p(u,jm.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];$m(!!i,16349);const s=i,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Wm(uE,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=lb[e];if(void 0!==t)return db(t)}(t),i=o.message;void 0===n&&(n=Zm.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.a_(new eg(n,i)),u.close()}else Wm(uE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,Dm.STAT_EVENT,t=>{t.stat===Pm.PROXY?Wm(uE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Pm.NOPROXY&&Wm(uE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function hE(){return"undefined"!=typeof document?document:null}function fE(e){return new Ab(e,!0)}class pE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Wm("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mE="PersistentStream";class gE{constructor(e,t,n,r,i,s,o,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pE(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Zm.RESOURCE_EXHAUSTED?(Km(t.toString()),Km("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Zm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new eg(Zm.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Wm(mE,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Wm(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vE extends gE{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ym(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?($m(void 0===t||"string"==typeof t,58123),Mv.fromBase64String(t||"")):($m(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Mv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Zm.UNKNOWN:db(e.code);return new eg(t,e.message||"")}(o);n=new Sb(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=zb(e,r.document.name),s=Mb(r.document.updateTime),o=r.document.createTime?Mb(r.document.createTime):Og.min(),a=new by({mapValue:{fields:r.document.fields}}),l=Ey.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new xb(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=zb(e,r.document),s=r.readTime?Mb(r.readTime):Og.min(),o=Ey.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xb([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=zb(e,r.document),s=r.removedTargetIds||[];n=new xb([],s,i,null)}else{if(!("filter"in t))return Ym(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ab(r,i),o=e.targetId;n=new Eb(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Og.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Og.min():t.readTime?Mb(t.readTime):Og.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Hb(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Yy(r)?{documents:Qb(e,r)}:{query:Yb(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Db(e,t.resumeToken);const r=Rb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Og.min())>0){n.readTime=Pb(e,t.snapshotVersion.toTimestamp());const r=Rb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ym(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Hb(this.serializer),t.removeTarget=e,this.q_(t)}}class yE extends gE{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $m(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$m(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){$m(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?($m(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Mb(e.updateTime):Mb(t);return n.isEqual(Og.min())&&(n=Mb(t)),new Bw(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Mb(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Hb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Gb(this.serializer,e))};this.q_(t)}}class wE{}class bE extends wE{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new eg(Zm.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Go(e,Fb(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new eg(Zm.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Ho(e,Fb(t,n),r,o,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new eg(Zm.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Km(t),this.aa=!1):Wm("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const EE="RemoteStore";class SE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{RE(this)&&(Wm(EE,"Restarting streams for network reachability change."),await async function(e){const t=Jm(e);t.Ea.add(4),await kE(t),t.Ra.set("Unknown"),t.Ea.delete(4),await NE(t)}(this))})}),this.Ra=new xE(n,r)}}async function NE(e){if(RE(e))for(const t of e.da)await t(!0)}async function kE(e){for(const t of e.da)await t(!1)}function _E(e,t){const n=Jm(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),AE(n)?jE(n):$E(n).O_()&&CE(n,t))}function TE(e,t){const n=Jm(e),r=$E(n);n.Ia.delete(t),r.O_()&&IE(n,t),0===n.Ia.size&&(r.O_()?r.L_():RE(n)&&n.Ra.set("Unknown"))}function CE(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Og.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$E(e).Y_(t)}function IE(e,t){e.Va.Ue(t),$E(e).Z_(t)}function jE(e){e.Va=new kb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),$E(e).start(),e.Ra.ua()}function AE(e){return RE(e)&&!$E(e).x_()&&e.Ia.size>0}function RE(e){return 0===Jm(e).Ea.size}function PE(e){e.Va=void 0}async function DE(e){e.Ra.set("Online")}async function OE(e){e.Ia.forEach((t,n)=>{CE(e,t)})}async function ME(e,t){PE(e),AE(e)?(e.Ra.ha(t),jE(e)):e.Ra.set("Unknown")}async function LE(e,t,n){if(e.Ra.set("Online"),t instanceof Sb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Wm(EE,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await FE(e,n)}else if(t instanceof xb?e.Va.Ze(t):t instanceof Eb?e.Va.st(t):e.Va.tt(t),!n.isEqual(Og.min()))try{const t=await Kx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Mv.EMPTY_BYTE_STRING,r.snapshotVersion)),IE(e,t);const i=new ox(r.target,t,n,r.sequenceNumber);CE(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Wm(EE,"Failed to raise snapshot:",t),await FE(e,t)}}async function FE(e,t,n){if(!Gg(t))throw t;e.Ea.add(1),await kE(e),e.Ra.set("Offline"),n||(n=()=>Kx(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Wm(EE,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await NE(e)})}function UE(e,t){return t().catch(n=>FE(e,n,t))}async function VE(e){const t=Jm(e),n=JE(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Yg;for(;zE(t);)try{const e=await Qx(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,BE(t,e)}catch(e){await FE(t,e)}qE(t)&&HE(t)}function zE(e){return RE(e)&&e.Ta.length<10}function BE(e,t){e.Ta.push(t);const n=JE(e);n.O_()&&n.X_&&n.ea(t.mutations)}function qE(e){return RE(e)&&!JE(e).x_()&&e.Ta.length>0}function HE(e){JE(e).start()}async function WE(e){JE(e).ra()}async function KE(e){const t=JE(e);for(const n of e.Ta)t.ea(n.mutations)}async function GE(e,t,n){const r=e.Ta.shift(),i=sb.from(r,t,n);await UE(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await VE(e)}async function QE(e,t){t&&JE(e).X_&&await async function(e,t){if(function(e){return ub(e)&&e!==Zm.ABORTED}(t.code)){const n=e.Ta.shift();JE(e).B_(),await UE(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await VE(e)}}(e,t),qE(e)&&HE(e)}async function YE(e,t){const n=Jm(e);n.asyncQueue.verifyOperationInProgress(),Wm(EE,"RemoteStore received new credentials");const r=RE(n);n.Ea.add(3),await kE(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await NE(n)}async function XE(e,t){const n=Jm(e);t?(n.Ea.delete(2),await NE(n)):t||(n.Ea.add(2),await kE(n),n.Ra.set("Unknown"))}function $E(e){return e.ma||(e.ma=function(e,t,n){const r=Jm(e);return r.sa(),new vE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:DE.bind(null,e),t_:OE.bind(null,e),r_:ME.bind(null,e),H_:LE.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),AE(e)?jE(e):e.Ra.set("Unknown")):(await e.ma.stop(),PE(e))})),e.ma}function JE(e){return e.fa||(e.fa=function(e,t,n){const r=Jm(e);return r.sa(),new yE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:WE.bind(null,e),r_:QE.bind(null,e),ta:KE.bind(null,e),na:GE.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await VE(e)):(await e.fa.stop(),e.Ta.length>0&&(Wm(EE,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class ZE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ZE(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new eg(Zm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eS(e,t){if(Km("AsyncQueue","".concat(t,": ").concat(e)),Gg(e))return new eg(Zm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class tS{static emptySet(e){return new tS(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Sg.comparator(t.key,n.key):(e,t)=>Sg.comparator(e.key,t.key),this.keyedMap=vw(),this.sortedSet=new Iv(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new tS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class nS{constructor(){this.ga=new Iv(Sg.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ym(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class rS{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new rS(e,t,tS.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ow(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class iS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class sS{constructor(){this.queries=oS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Jm(e),r=n.queries;n.queries=oS(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new eg(Zm.ABORTED,"Firestore shutting down"))}}function oS(){return new fw(e=>aw(e),ow)}async function aS(e,t){const n=Jm(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new iS,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=eS(e,"Initialization of query '".concat(lw(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&dS(n)}async function lS(e,t){const n=Jm(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cS(e,t){const n=Jm(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&dS(n)}function uS(e,t,n){const r=Jm(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function dS(e){e.Ca.forEach(e=>{e.next()})}var hS,fS;(fS=hS||(hS={})).Ma="default",fS.Cache="cache";class pS{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=rS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hS.Cache}}class mS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class vS{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nw(),this.mutatedKeys=Nw(),this.eu=dw(e),this.tu=new tS(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new nS,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=cw(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ym(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==s.length||l?{snapshot:new rS(this.query,e.tu,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nw(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new gS(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new mS(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Nw();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rS.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const yS="SyncEngine";class wS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bS{constructor(e){this.key=e,this.hu=!1}}class xS{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new fw(e=>aw(e),ow),this.Iu=new Map,this.Eu=new Set,this.du=new Iv(Sg.comparator),this.Au=new Map,this.Ru=new Ix,this.Vu={},this.mu=new Map,this.fu=mx.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function ES(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qS(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await NS(r,t,n,!0),i}async function SS(e,t){const n=qS(e);await NS(n,t,!0,!1)}async function NS(e,t,n,r){const i=await Yx(e.localStore,nw(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await kS(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&_E(e.remoteStore,i),a}async function kS(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await $x(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return LS(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const s=await $x(e.localStore,t,!0),o=new vS(t,s.Qs),a=o.ru(s.documents),l=bb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);LS(e,n,c.au);const u=new wS(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function _S(e,t,n){const r=Jm(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!ow(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&TE(r.remoteStore,i.targetId),OS(r,i.targetId)}).catch(Hg)):(OS(r,i.targetId),await Xx(r.localStore,i.targetId,!0))}async function TS(e,t){const n=Jm(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),TE(n.remoteStore,r.targetId))}async function CS(e,t){const n=Jm(e);try{const e=await function(e,t){const n=Jm(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Mv.EMPTY_BYTE_STRING,Og.min()).withLastLimboFreeSnapshotVersion(Og.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Pi.updateTargetData(e,c))});let a=mw(),l=Nw();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Gx(e,s,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(Og.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Wg.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&($m(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?$m(r.hu,14607):e.removedDocuments.size>0&&($m(r.hu,42227),r.hu=!1))}),await VS(n,e,t)}catch(e){await Hg(e)}}function IS(e,t,n){const r=Jm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Jm(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&dS(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jS(e,t,n){const r=Jm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new Iv(Sg.comparator);e=e.insert(s,Ey.newNoDocument(s,Og.min()));const n=Nw().add(s),i=new wb(Og.min(),new Map,new Iv(hg),e,n);await CS(r,i),r.du=r.du.remove(s),r.Au.delete(t),US(r)}else await Xx(r.localStore,t,!1).then(()=>OS(r,t,n)).catch(Hg)}async function AS(e,t){const n=Jm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Jm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Wg.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);$m(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Nw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);DS(n,r,null),PS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await VS(n,e)}catch(e){await Hg(e)}}async function RS(e,t,n){const r=Jm(e);try{const e=await function(e,t){const n=Jm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>($m(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);DS(r,t,n),PS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await VS(r,e)}catch(n){await Hg(n)}}function PS(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function DS(e,t,n){const r=Jm(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function OS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||MS(e,t)})}function MS(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(TE(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),US(e))}function LS(e,t,n){for(const r of n)r instanceof mS?(e.Ru.addReference(r.key,t),FS(e,r)):r instanceof gS?(Wm(yS,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||MS(e,r.key)):Ym(19791,{wu:r})}function FS(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Wm(yS,"New document in limbo: "+n),e.Eu.add(r),US(e))}function US(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Sg(bg.fromString(t)),r=e.fu.next();e.Au.set(r,new bS(n)),e.du=e.du.insert(n,r),_E(e.remoteStore,new ox(nw(Jy(n.path)),r,"TargetPurposeLimboResolution",Qg.ce))}}async function VS(e,t,n){const r=Jm(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ux.As(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=Jm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Wg.forEach(t,t=>Wg.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Wg.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Gg(e))throw e;Wm(Bx,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function zS(e,t){const n=Jm(e);if(!n.currentUser.isEqual(t)){Wm(yS,"User change. New user:",t.toKey());const e=await Wx(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new eg(Zm.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await VS(n,e.Ls)}}function BS(e,t){const n=Jm(e),r=n.Au.get(t);if(r&&r.hu)return Nw().add(r.key);{let e=Nw();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function qS(e){const t=Jm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jS.bind(null,t),t.Pu.H_=cS.bind(null,t.eventManager),t.Pu.yu=uS.bind(null,t.eventManager),t}function HS(e){const t=Jm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RS.bind(null,t),t}class WS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fE(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Hx(this.persistence,new zx,e.initialUser,this.serializer)}Cu(e){return new Ox(Lx.mi,this.serializer)}Du(e){return new eE}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}WS.provider={build:()=>new WS};class KS extends WS{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$m(this.persistence.referenceDelegate instanceof Fx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new bx(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?px.withCacheSize(this.cacheSizeBytes):px.DEFAULT;return new Ox(e=>Fx.mi(e,t),this.serializer)}}class GS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>IS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=zS.bind(null,this.syncEngine),await XE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sS}createDatastore(e){const t=fE(e.databaseInfo.databaseId),n=function(e){return new dE(e)}(e.databaseInfo);return function(e,t,n,r){return new bE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new SE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>IS(this.syncEngine,e,0),rE.v()?new rE:new tE)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new xS(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Jm(e);Wm(EE,"RemoteStore shutting down."),t.Ea.add(5),await kE(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}GS.provider={build:()=>new GS};class QS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Km("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const YS="FirestoreClient";class XS{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zm.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Wm(YS,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Wm(YS,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=eS(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $S(e,t){e.asyncQueue.verifyOperationInProgress(),Wm(YS,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Wx(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function JS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ZS(e);Wm(YS,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>YE(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>YE(t.remoteStore,n)),e._onlineComponents=t}async function ZS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Wm(YS,"Using user provided OfflineComponentProvider");try{await $S(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Zm.FAILED_PRECONDITION||e.code===Zm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Gm("Error using user provided cache. Falling back to memory cache: "+n),await $S(e,new WS)}}else Wm(YS,"Using default OfflineComponentProvider"),await $S(e,new KS(void 0));return e._offlineComponents}async function eN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Wm(YS,"Using user provided OnlineComponentProvider"),await JS(e,e._uninitializedComponentsProvider._online)):(Wm(YS,"Using default OnlineComponentProvider"),await JS(e,new GS))),e._onlineComponents}function tN(e){return eN(e).then(e=>e.syncEngine)}async function nN(e){const t=await eN(e),n=t.eventManager;return n.onListen=ES.bind(null,t.syncEngine),n.onUnlisten=_S.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=TS.bind(null,t.syncEngine),n}function rN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new tg;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new QS({next:a=>{s.Nu(),t.enqueueAndForget(()=>lS(e,o));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new eg(Zm.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new eg(Zm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new pS(Jy(n.path),s,{includeMetadataChanges:!0,qa:!0});return aS(e,o)}(await nN(e),e.asyncQueue,t,n,r)),r.promise}function iN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new tg;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new QS({next:n=>{s.Nu(),t.enqueueAndForget(()=>lS(e,o)),n.fromCache&&"server"===r.source?i.reject(new eg(Zm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new pS(n,s,{includeMetadataChanges:!0,qa:!0});return aS(e,o)}(await nN(e),e.asyncQueue,t,n,r)),r.promise}function sN(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const oN=new Map,aN="firestore.googleapis.com",lN=!0;class cN{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new eg(Zm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aN,this.ssl=lN}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:lN;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=fx;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<vx)throw new eg(Zm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new eg(Zm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sN(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new eg(Zm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new eg(Zm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new eg(Zm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uN{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new eg(Zm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new eg(Zm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cN(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new rg;switch(e.type){case"firstParty":return new ag(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new eg(Zm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oN.get(e);t&&(Wm("ComponentProvider","Removing Datastore"),oN.delete(e),t.terminate())}(this),Promise.resolve()}}function dN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ig(e,uN);const i=$c(t),s=e._getSettings(),o=l(l({},s),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(Jc("https://".concat(a)),tu("Firestore",!0)),s.host!==aN&&s.host!==a&&Gm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=l(l({},s),{},{host:a,ssl:i,emulatorOptions:r});if(!du(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=zm.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=l({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qc(JSON.stringify({alg:"none",type:"JWT"})),qc(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new eg(Zm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new zm(i)}e._authCredentials=new ig(new ng(t,n))}}class hN{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hN(this.firestore,e,this._query)}}class fN{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pN(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fN(this.firestore,e,this._key)}toJSON(){return{type:fN._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Ag(t,fN._jsonSchema))return new fN(e,n||null,new Sg(bg.fromString(t.referencePath)))}}fN._jsonSchemaVersion="firestore/documentReference/1.0",fN._jsonSchema={type:jg("string",fN._jsonSchemaVersion),referencePath:jg("string")};class pN extends hN{constructor(e,t,n){super(e,t,Jy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fN(this.firestore,null,new Sg(e))}withConverter(e){return new pN(this.firestore,e,this._path)}}function mN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wu(e),Ng("collection","path",t),e instanceof uN){const n=bg.fromString(t,...r);return _g(n),new pN(e,null,n)}{if(!(e instanceof fN||e instanceof pN))throw new eg(Zm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bg.fromString(t,...r));return _g(n),new pN(e.firestore,null,n)}}function gN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wu(e),1===arguments.length&&(t=dg.newId()),Ng("doc","path",t),e instanceof uN){const n=bg.fromString(t,...r);return kg(n),new fN(e,null,new Sg(n))}{if(!(e instanceof fN||e instanceof pN))throw new eg(Zm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bg.fromString(t,...r));return kg(n),new fN(e.firestore,e instanceof pN?e.converter:null,new Sg(n))}}const vN="AsyncQueue";class yN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pE(this,"async_queue_retry"),this._c=()=>{const e=hE();e&&Wm(vN,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=hE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new tg;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(xP){if(!Gg(xP))throw xP;Wm(vN,"Operation failed with retryable error: "+xP)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Km("INTERNAL UNHANDLED ERROR: ",wN(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=ZE.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Ym(47125,{Pc:wN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wN(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class bN extends uN{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new yN,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yN(e),this._firestoreClient=void 0,await e}}}function xN(e){if(e._terminated)throw new eg(Zm.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||EN(e),e._firestoreClient}function EN(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Qv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,sN(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new XS(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class SN{constructor(e){this._byteString=e}static fromBase64String(e){try{return new SN(Mv.fromBase64String(e))}catch(e){throw new eg(Zm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new SN(Mv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:SN._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ag(e,SN._jsonSchema))return SN.fromBase64String(e.bytes)}}SN._jsonSchemaVersion="firestore/bytes/1.0",SN._jsonSchema={type:jg("string",SN._jsonSchemaVersion),bytes:jg("string")};class NN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new eg(Zm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kN{constructor(e){this._methodName=e}}class _N{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new eg(Zm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new eg(Zm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return hg(this._lat,e._lat)||hg(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_N._jsonSchemaVersion}}static fromJSON(e){if(Ag(e,_N._jsonSchema))return new _N(e.latitude,e.longitude)}}_N._jsonSchemaVersion="firestore/geoPoint/1.0",_N._jsonSchema={type:jg("string",_N._jsonSchemaVersion),latitude:jg("number"),longitude:jg("number")};class TN{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:TN._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ag(e,TN._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new TN(e.vectorValues);throw new eg(Zm.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}TN._jsonSchemaVersion="firestore/vectorValue/1.0",TN._jsonSchema={type:jg("string",TN._jsonSchemaVersion),vectorValues:jg("object")};const CN=/^__.*__$/;class IN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Jw(e,this.data,this.fieldMask,t,this.fieldTransforms):new $w(e,this.data,t,this.fieldTransforms)}}class jN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Jw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ym(40011,{Ac:e})}}class RN{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new RN(l(l({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return GN(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(AN(this.Ac)&&CN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PN{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fE(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new RN({Ac:e,methodName:t,Dc:n,path:Eg.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DN(e){const t=e._freezeSettings(),n=fE(e._databaseId);return new PN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ON(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);qN("Data must be an object, but it was:",o,r);const a=zN(r,o);let l,c;if(s.merge)l=new Dv(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=HN(t,r,n);if(!o.contains(i))throw new eg(Zm.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));QN(e,i)||e.push(i)}l=new Dv(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new IN(new by(a),l,c)}class MN extends kN{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof MN}}function LN(e,t,n,r){const i=e.Cc(1,t,n);qN("Data must be an object, but it was:",i,r);const s=[],o=by.empty();Tv(r,(e,r)=>{const a=KN(t,e,n);r=wu(r);const l=i.yc(a);if(r instanceof MN)s.push(a);else{const e=VN(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new Dv(s);return new jN(o,a,i.fieldTransforms)}function FN(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[HN(t,r,n)],l=[i];if(s.length%2!=0)throw new eg(Zm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(HN(t,s[h])),l.push(s[h+1]);const c=[],u=by.empty();for(let h=a.length-1;h>=0;--h)if(!QN(c,a[h])){const e=a[h];let t=l[h];t=wu(t);const n=o.yc(e);if(t instanceof MN)c.push(e);else{const r=VN(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Dv(c);return new jN(u,d,o.fieldTransforms)}function UN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VN(n,e.Cc(r?4:3,t))}function VN(e,t){if(BN(e=wu(e)))return qN("Unsupported field value:",t,e),zN(e,t);if(e instanceof kN)return function(e,t){if(!AN(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=VN(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=wu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Iw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dg.fromDate(e);return{timestampValue:Pb(t.serializer,n)}}if(e instanceof Dg){const n=new Dg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Pb(t.serializer,n)}}if(e instanceof _N)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof SN)return{bytesValue:Db(t.serializer,e._byteString)};if(e instanceof fN){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Lb(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof TN)return function(e,t){return{mapValue:{fields:{[$v]:{stringValue:ey},[ty]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Tw(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Cg(e)))}(e,t)}function zN(e,t){const n={};return Cv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tv(e,(e,r)=>{const i=VN(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function BN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dg||e instanceof _N||e instanceof SN||e instanceof fN||e instanceof kN||e instanceof TN)}function qN(e,t,n){if(!BN(n)||!Tg(n)){const r=Cg(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function HN(e,t,n){if((t=wu(t))instanceof NN)return t._internalPath;if("string"==typeof t)return KN(e,t);throw GN("Field path arguments must be of type string or ",e,!1,void 0,n)}const WN=new RegExp("[~\\*/\\[\\]]");function KN(e,t,n){if(t.search(WN)>=0)throw GN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new NN(...t.split("."))._internalPath}catch(xt){throw GN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function GN(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new eg(Zm.INVALID_ARGUMENT,a+e+l)}function QN(e,t){return e.some(e=>e.isEqual(t))}class YN{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fN(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($N("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XN extends YN{data(){return super.data()}}function $N(e,t){return"string"==typeof t?KN(e,t):t instanceof NN?t._internalPath:t._delegate._internalPath}function JN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new eg(Zm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZN{}class ek extends ZN{}function tk(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof ZN&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof ik).length,n=e.filter(e=>e instanceof nk).length;if(t>1||t>0&&n>0)throw new eg(Zm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class nk extends ek{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nk(e,t,n)}_apply(e){const t=this._parse(e);return ak(e._query,t),new hN(e.firestore,e.converter,iw(e._query,t))}_parse(e){const t=DN(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new eg(Zm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){ok(o,s);const t=[];for(const n of o)t.push(sk(r,e,n));a={arrayValue:{values:t}}}else a=sk(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ok(o,s),a=UN(n,t,o,"in"===s||"not-in"===s);return Iy.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function rk(e,t,n){const r=t,i=$N("where",e);return nk._create(i,r,n)}class ik extends ZN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ik(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:jy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ak(n,i),n=iw(n,i)}(e._query,t),new hN(e.firestore,e.converter,iw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function sk(e,t,n){if("string"==typeof(n=wu(n))){if(""===n)throw new eg(Zm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ew(t)&&-1!==n.indexOf("/"))throw new eg(Zm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(bg.fromString(n));if(!Sg.isDocumentKey(r))throw new eg(Zm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return dy(e,new Sg(r))}if(n instanceof fN)return dy(e,n._key);throw new eg(Zm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Cg(n),"."))}function ok(e,t){if(!Array.isArray(e)||0===e.length)throw new eg(Zm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ak(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new eg(Zm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new eg(Zm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class lk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ny(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ym(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Tv(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[ty].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Uv(e.doubleValue));return new TN(n)}convertGeoPoint(e){return new _N(Uv(e.latitude),Uv(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Kv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gv(e));default:return null}}convertTimestamp(e){const t=Fv(e);return new Dg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bg.fromString(e);$m(sx(n),9688,{name:e});const r=new Xv(n.get(1),n.get(3)),i=new Sg(n.popFirst(5));return r.isEqual(t)||Km("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ck(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class uk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dk extends YN{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new hk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field($N("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new eg(Zm.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=dk._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}dk._jsonSchemaVersion="firestore/documentSnapshot/1.0",dk._jsonSchema={type:jg("string",dk._jsonSchemaVersion),bundleSource:jg("string","DocumentSnapshot"),bundleName:jg("string"),bundle:jg("string")};class hk extends dk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class fk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new uk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new hk(this._firestore,this._userDataWriter,n.key,n,new uk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new eg(Zm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new hk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new uk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new hk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:pk(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new eg(Zm.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fk._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ym(61501,{type:e})}}function mk(e){e=Ig(e,fN);const t=Ig(e.firestore,bN);return rN(xN(t),e._key).then(n=>xk(t,e,n))}fk._jsonSchemaVersion="firestore/querySnapshot/1.0",fk._jsonSchema={type:jg("string",fk._jsonSchemaVersion),bundleSource:jg("string","QuerySnapshot"),bundleName:jg("string"),bundle:jg("string")};class gk extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new SN(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fN(this.firestore,null,t)}}function vk(e){e=Ig(e,hN);const t=Ig(e.firestore,bN),n=xN(t),r=new gk(t);return JN(e._query),iN(n,e._query).then(n=>new fk(t,r,e,n))}function yk(e,t,n){e=Ig(e,fN);const r=Ig(e.firestore,bN),i=ck(e.converter,t,n);return bk(r,[ON(DN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qw.none())])}function wk(e,t,n){e=Ig(e,fN);const r=Ig(e.firestore,bN),i=DN(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=wu(t))||t instanceof NN?FN(i,"updateDoc",e._key,t,n,a):LN(i,"updateDoc",e._key,t),bk(r,[s.toMutation(e._key,qw.exists(!0))])}function bk(e,t){return function(e,t){const n=new tg;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=HS(e);try{const e=await function(e,t){const n=Jm(e),r=Dg.now(),i=t.reduce((e,t)=>e.add(t.key),Nw());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=mw(),l=Nw();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=Yw(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Jw(e.key,t,xy(t.value.mapValue),qw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:yw(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Iv(hg)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await VS(r,e.changes),await VE(r.remoteStore)}catch(e){const t=eS(e,"Failed to persist write");n.reject(t)}}(await tN(e),t,n)),n.promise}(xN(e),t)}function xk(e,t,n){const r=n.docs.get(t._key),i=new gk(e);return new dk(e,i,t._key,r,new uk(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bm=e}(Od),jd(new bu("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new bN(new sg(e.getProvider("auth-internal")),new cg(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new eg(Zm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xv(e.options.projectId,t)}(s,r),s);return i=l({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Fd(Um,Vm,e),Fd(Um,Vm,"esm2020")}();Fd("firebase","12.4.0","app");const Ek="@firebase/installations",Sk="0.6.19",Nk=1e4,kk="w:".concat(Sk),_k="FIS_v2",Tk=36e5,Ck=new cu("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ik(e){return e instanceof lu&&e.code.includes("request-failed")}function jk(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Ak(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Rk(e,t){const n=(await t.json()).error;return Ck.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Pk(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Dk(e,t){let{refreshToken:n}=t;const r=Pk(e);return r.append("Authorization",function(e){return"".concat(_k," ").concat(e)}(n)),r}async function Ok(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Mk(e){return new Promise(t=>{setTimeout(t,e)})}const Lk=/^[cdef][\w-]{21}$/;function Fk(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Lk.test(t)?t:""}catch(e){return""}}function Uk(e){return"".concat(e.appName,"!").concat(e.appId)}const Vk=new Map;function zk(e,t){const n=Uk(e);Bk(n,t),function(e,t){const n=Hk();n&&n.postMessage({key:e,fid:t});Wk()}(n,t)}function Bk(e,t){const n=Vk.get(e);if(n)for(const r of n)r(t)}let qk=null;function Hk(){return!qk&&"BroadcastChannel"in self&&(qk=new BroadcastChannel("[Firebase] FID Change"),qk.onmessage=e=>{Bk(e.data.key,e.data.fid)}),qk}function Wk(){0===Vk.size&&qk&&(qk.close(),qk=null)}const Kk="firebase-installations-store";let Gk=null;function Qk(){return Gk||(Gk=qu("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Kk)}})),Gk}async function Yk(e,t){const n=Uk(e),r=(await Qk()).transaction(Kk,"readwrite"),i=r.objectStore(Kk),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||zk(e,t.fid),t}async function Xk(e){const t=Uk(e),n=(await Qk()).transaction(Kk,"readwrite");await n.objectStore(Kk).delete(t),await n.done}async function $k(e,t){const n=Uk(e),r=(await Qk()).transaction(Kk,"readwrite"),i=r.objectStore(Kk),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||zk(e,o.fid),o}async function Jk(e){let t;const n=await $k(e.appConfig,n=>{const r=function(e){const t=e||{fid:Fk(),registrationStatus:0};return t_(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Ck.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=jk(n),o=Pk(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:_k,appId:n.appId,sdkVersion:kk},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Ok(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ak(e.authToken)}}throw await Rk("Create Installation",u)}(e,t);return Yk(e.appConfig,n)}catch(xP){throw Ik(xP)&&409===xP.customData.serverCode?await Xk(e.appConfig):await Yk(e.appConfig,{fid:t.fid,registrationStatus:0}),xP}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Zk(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Zk(e){let t=await e_(e.appConfig);for(;1===t.registrationStatus;)await Mk(100),t=await e_(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Jk(e);return n||t}return t}function e_(e){return $k(e,e=>{if(!e)throw Ck.create("installation-not-found");return t_(e)})}function t_(e){return 1===(t=e).registrationStatus&&t.registrationTime+Nk<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function n_(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(jk(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Dk(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:kk,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await Ok(()=>fetch(i,l));if(c.ok){return Ak(await c.json())}throw await Rk("Generate Auth Token",c)}async function r_(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await $k(e.appConfig,r=>{if(!s_(r))throw Ck.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Tk}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await i_(e.appConfig);for(;1===n.authToken.requestStatus;)await Mk(100),n=await i_(e.appConfig);const r=n.authToken;return 0===r.requestStatus?r_(e,t):r}(e,n),r;{if(!navigator.onLine)throw Ck.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return l(l({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await n_(e,t),r=l(l({},t),{},{authToken:n});return await Yk(e.appConfig,r),n}catch(xP){if(!Ik(xP)||401!==xP.customData.serverCode&&404!==xP.customData.serverCode){const n=l(l({},t),{},{authToken:{requestStatus:0}});await Yk(e.appConfig,n)}else await Xk(e.appConfig);throw xP}}(e,n),n}});return t?await t:r.authToken}function i_(e){return $k(e,e=>{if(!s_(e))throw Ck.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Nk<Date.now()?l(l({},e),{},{authToken:{requestStatus:0}}):e;var n})}function s_(e){return void 0!==e&&2===e.registrationStatus}async function o_(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Jk(e);t&&await t}(n);return(await r_(n,t)).token}function a_(e){return Ck.create("missing-app-config-values",{valueName:e})}const l_="installations",c_=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw a_("App Configuration");if(!e.name)throw a_("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw a_(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Ad(t,"heartbeat"),_delete:()=>Promise.resolve()}},u_=e=>{const t=Ad(e.getProvider("app").getImmediate(),l_).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Jk(t);return r?r.catch(console.error):r_(t).catch(console.error),n.fid}(t),getToken:e=>o_(t,e)}};jd(new bu(l_,c_,"PUBLIC")),jd(new bu("installations-internal",u_,"PRIVATE")),Fd(Ek,Sk),Fd(Ek,Sk,"esm2020");const d_="analytics",h_="https://www.googletagmanager.com/gtag/js",f_=new ju("@firebase/analytics"),p_=new cu("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function m_(e){if(!e.startsWith(h_)){const t=p_.create("invalid-gtag-resource",{gtagURL:e});return f_.warn(t.message),""}return e}function g_(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function v_(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:m_}),r=document.createElement("script"),i="".concat(h_,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function y_(e,t,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await g_(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(xP){f_.error(xP)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=o;await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await g_(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(xP){f_.error(xP)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(xP){f_.error(xP)}}}const w_=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function b_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function x_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w_,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw p_.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw p_.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new S_;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),E_({appId:r,apiKey:i,measurementId:s},o,a,t)}async function E_(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w_;const{appId:o,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(p_.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(xP){if(a)return f_.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===xP||void 0===xP?void 0:xP.message,"]")),{appId:o,measurementId:a};throw xP}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:b_(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),s=await fetch(i,r);if(200!==s.status&&304!==s.status){let e="";try{var o;const t=await s.json();null!==(o=t.error)&&void 0!==o&&o.message&&(e=t.error.message)}catch(a){}throw p_.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return s.deleteThrottleMetadata(o),t}catch(xP){var l;const r=xP;if(!function(e){if(!(e instanceof lu)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),a)return f_.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:a};throw xP}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?yu(i,s.intervalMillis,30):yu(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),f_.debug("Calling attemptFetch again in ".concat(c," millis")),E_(e,u,n,s)}}class S_{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let N_,k_;function __(e){k_=e}function T_(e){N_=e}async function C_(e,t,n,r,i,s,o){var a;const l=x_(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&f_.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>f_.error(e)),t.push(l);const c=async function(){if(!ou())return f_.warn(p_.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await au()}catch(xP){return f_.warn(p_.create("indexeddb-unavailable",{errorInfo:null===xP||void 0===xP?void 0:xP.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(h_)&&n.src.includes(e))return n;return null})(s)||v_(s,u.measurementId),k_&&(i("consent","default",k_),__(void 0)),i("js",new Date);const h=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),N_&&(i("set",N_),T_(void 0)),u.measurementId}class I_{constructor(e){this.app=e}_delete(){return delete j_[this.app.options.appId],Promise.resolve()}}let j_={},A_=[];const R_={};let P_,D_,O_="dataLayer",M_="gtag",L_=!1;function F_(){const e=[];if(iu()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=p_.create("invalid-analytics-context",{errorInfo:t});f_.warn(n.message)}}function U_(e,t,n){F_();const r=e.options.appId;if(!r)throw p_.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw p_.create("no-api-key");f_.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=j_[r])throw p_.create("already-exists",{id:r});if(!L_){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(O_);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=y_(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(j_,A_,R_,O_,M_);D_=e,P_=t,L_=!0}j_[r]=C_(e,A_,R_,t,P_,O_,n);return new I_(e)}function V_(e,t,n){e=wu(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(D_,j_[e.app.options.appId],t,n).catch(e=>f_.error(e))}function z_(e,t,n,r){e=wu(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,l(l({},r),{},{send_to:i}))}}(D_,j_[e.app.options.appId],t,n,r).catch(e=>f_.error(e))}const B_="@firebase/analytics",q_="0.10.19";jd(new bu(d_,(e,t)=>{let{options:n}=t;return U_(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),jd(new bu("analytics-internal",function(e){try{const t=e.getProvider(d_).getImmediate();return{logEvent:(e,n,r)=>z_(t,e,n,r),setUserProperties:(e,n)=>V_(t,e,n)}}catch(xP){throw p_.create("interop-component-reg-failed",{reason:xP})}},"PRIVATE")),Fd(B_,q_),Fd(B_,q_,"esm2020");const H_=Md({apiKey:"AIzaSyCmP1JpjnjF9BxH1kpUaXDJpY2WMi1zOMk",authDomain:"loan-manage-c2f66.firebaseapp.com",projectId:"loan-manage-c2f66",storageBucket:"loan-manage-c2f66.firebasestorage.app",messagingSenderId:"403432314491",appId:"1:403432314491:web:4068d5ffa73638b1e174de",measurementId:"G-F5K0Z6WNQV"}),W_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld();const t=Ad(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ad(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(du(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;rh(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ym,persistence:[Cp,lp,fp]}),r=Yc("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Em)return;const r=null===t||void 0===t?void 0:t.token;Sm!==r&&(Sm=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){wu(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){wu(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=Gc("auth");return s&&Nf(n,"http://".concat(s)),n}(H_),K_=function(e,t){const n="object"==typeof e?e:Ld(),r="string"==typeof e?e:t||Yv,i=Ad(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Gc(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&dN(i,...e)}return i}(H_);(function(e,t){return wu(e).setPersistence(t)})(W_,lp).catch(e=>{console.error("Failed to set auth persistence:",e)});"undefined"!==typeof window&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld();e=wu(e);const t=Ad(e,d_);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ad(e,d_);if(n.isInitialized()){const e=n.getImmediate();if(du(t,n.getOptions()))return e;throw p_.create("already-initialized")}const r=n.initialize({options:t})}(e)}(H_);const G_=["className","type"],Q_=d.forwardRef((e,t)=>{let{className:n,type:r}=e,i=c(e,G_);return(0,P.jsx)("input",l({type:r,className:Cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},i))});Q_.displayName="Input";var Y_=d.forwardRef((e,t)=>(0,P.jsx)(Z.label,l(l({},e),{},{ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));Y_.displayName="Label";var X_=Y_;const $_=["className"],J_=_t("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z_=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,$_);return(0,P.jsx)(X_,l({ref:t,className:Cn(J_(),n)},r))});function eT(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}Z_.displayName=X_.displayName;var tT=d.createContext(void 0);var nT=0;function rT(){d.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:iT()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:iT()),nT++,()=>{1===nT&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nT--}},[])}function iT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const sT=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var oT="focusScope.autoFocusOnMount",aT="focusScope.autoFocusOnUnmount",lT={bubbles:!1,cancelable:!0},cT=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s}=e,o=c(e,sT),[a,u]=d.useState(null),h=te(i),f=te(s),p=d.useRef(null),m=T(t,e=>u(e)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let e=function(e){if(g.paused||!a)return;const t=e.target;a.contains(t)?p.current=t:fT(p.current,{select:!0})},t=function(e){if(g.paused||!a)return;const t=e.relatedTarget;null!==t&&(a.contains(t)||fT(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&fT(a)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return a&&r.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,a,g.paused]),d.useEffect(()=>{if(a){pT.add(g);const t=document.activeElement;if(!a.contains(t)){const n=new CustomEvent(oT,lT);a.addEventListener(oT,h),a.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(fT(r,{select:t}),document.activeElement!==n)return}((e=uT(a),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&fT(a))}return()=>{a.removeEventListener(oT,h),setTimeout(()=>{const e=new CustomEvent(aT,lT);a.addEventListener(aT,f),a.dispatchEvent(e),e.defaultPrevented||fT(null!==t&&void 0!==t?t:document.body,{select:!0}),a.removeEventListener(aT,f),pT.remove(g)},0)}}var e},[a,h,f,g]);const v=d.useCallback(e=>{if(!n&&!r)return;if(g.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,s]=function(e){const t=uT(e),n=dT(t,e),r=dT(t.reverse(),e);return[n,r]}(t);r&&s?e.shiftKey||i!==s?e.shiftKey&&i===r&&(e.preventDefault(),n&&fT(s,{select:!0})):(e.preventDefault(),n&&fT(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,g.paused]);return(0,P.jsx)(Z.div,l(l({tabIndex:-1},o),{},{ref:m,onKeyDown:v}))});function uT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dT(e,t){for(const n of e)if(!hT(n,{upTo:t}))return n}function hT(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function fT(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}cT.displayName="FocusScope";var pT=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=mT(e,t),e.unshift(t)},remove(t){var n;e=mT(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function mT(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var gT=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},vT=new WeakMap,yT=new WeakMap,wT={},bT=0,xT=function(e){return e&&(e.host||xT(e.parentNode))},ET=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=xT(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);wT[n]||(wT[n]=new WeakMap);var s=wT[n],o=[],a=new Set,l=new Set(i),c=function(e){e&&!a.has(e)&&(a.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(a.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(vT.get(e)||0)+1,c=(s.get(e)||0)+1;vT.set(e,l),s.set(e,c),o.push(e),1===l&&i&&yT.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(xP){console.error("aria-hidden: cannot operate on ",e,xP)}})};return u(t),a.clear(),bT++,function(){o.forEach(function(e){var t=vT.get(e)-1,i=s.get(e)-1;vT.set(e,t),s.set(e,i),t||(yT.has(e)||e.removeAttribute(r),yT.delete(e)),i||e.removeAttribute(n)}),--bT||(vT=new WeakMap,vT=new WeakMap,yT=new WeakMap,wT={})}},ST=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||gT(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ET(r,i,n,"aria-hidden")):function(){return null}};var NT=function(){return NT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},NT.apply(this,arguments)};function kT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function _T(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var TT="right-scroll-bar-position",CT="width-before-scroll-bar";function IT(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var jT="undefined"!==typeof window?d.useLayoutEffect:d.useEffect,AT=new WeakMap;function RT(e,t){var n=function(e,t){var n=(0,d.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}(t||null,function(t){return e.forEach(function(e){return IT(e,t)})});return jT(function(){var t=AT.get(n);if(t){var r=new Set(t),i=new Set(e),s=n.current;r.forEach(function(e){i.has(e)||IT(e,null)}),i.forEach(function(e){r.has(e)||IT(e,s)})}AT.set(n,e)},[e]),n}function PT(e){return e}function DT(e,t){void 0===t&&(t=PT);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(s)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}};return i}var OT=function(e){void 0===e&&(e={});var t=DT(null);return t.options=NT({async:!0,ssr:!1},e),t}(),MT=function(){},LT=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:MT,onWheelCapture:MT,onTouchMoveCapture:MT}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,w=void 0===y?"div":y,b=e.gapMode,x=kT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,S=RT([n,t]),N=NT(NT({},x),i);return d.createElement(d.Fragment,null,u&&d.createElement(E,{sideCar:OT,removeScrollBar:c,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:b}),o?d.cloneElement(d.Children.only(a),NT(NT({},N),{ref:S})):d.createElement(w,NT({},N,{className:l,ref:S}),a))});LT.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},LT.classNames={fullWidth:CT,zeroRight:TT};var FT,UT=function(e){var t=e.sideCar,n=kT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,NT({},n))};UT.isSideCarExport=!0;function VT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FT||n.nc;return t&&e.setAttribute("nonce",t),e}var zT=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=VT())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BT=function(){var e=function(){var e=zT();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},qT={left:0,top:0,right:0,gap:0},HT=function(e){return parseInt(e||"",10)||0},WT=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return qT;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[HT(n),HT(r),HT(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},KT=BT(),GT="data-scroll-locked",QT=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(GT,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(TT," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(CT," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(TT," .").concat(TT," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(CT," .").concat(CT," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(GT,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},YT=function(){var e=parseInt(document.body.getAttribute(GT)||"0",10);return isFinite(e)?e:0},XT=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;d.useEffect(function(){return document.body.setAttribute(GT,(YT()+1).toString()),function(){var e=YT()-1;e<=0?document.body.removeAttribute(GT):document.body.setAttribute(GT,e.toString())}},[]);var s=d.useMemo(function(){return WT(i)},[i]);return d.createElement(KT,{styles:QT(s,!t,i,n?"":"!important")})},$T=!1;if("undefined"!==typeof window)try{var JT=Object.defineProperty({},"passive",{get:function(){return $T=!0,!0}});window.addEventListener("test",JT,JT),window.removeEventListener("test",JT,JT)}catch(EP){$T=!1}var ZT=!!$T&&{passive:!1},eC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},tC=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),nC(e,r)){var i=rC(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nC=function(e,t){return"v"===e?function(e){return eC(e,"overflowY")}(t):function(e){return eC(e,"overflowX")}(t)},rC=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},iC=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sC=function(e){return[e.deltaX,e.deltaY]},oC=function(e){return e&&"current"in e?e.current:e},aC=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},lC=0,cC=[];function uC(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dC=(hC=function(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),i=d.useState(lC++)[0],s=d.useState(BT)[0],o=d.useRef(e);d.useEffect(function(){o.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=_T([e.lockRef.current],(e.shards||[]).map(oC),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=d.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var i,s=iC(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-s[0],c="deltaY"in e?e.deltaY:a[1]-s[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=tC(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=tC(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r,i){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var f=rC(e,a),p=f[0],m=f[1]-f[2]-s*p;(p||m)&&nC(e,a)&&(d+=m,h+=p);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(i&&Math.abs(d)<1||!i&&o>d)||!u&&(i&&Math.abs(h)<1||!i&&-o>h))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)},[]),l=d.useCallback(function(e){var n=e;if(cC.length&&cC[cC.length-1]===s){var r="deltaY"in n?sC(n):iC(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(o.current.shards||[]).map(oC).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?a(n,l[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=d.useCallback(function(e,n,r,i){var s={name:e,delta:n,target:r,should:i,shadowParent:uC(r)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),u=d.useCallback(function(e){n.current=iC(e),r.current=void 0},[]),h=d.useCallback(function(t){c(t.type,sC(t),t.target,a(t,e.lockRef.current))},[]),f=d.useCallback(function(t){c(t.type,iC(t),t.target,a(t,e.lockRef.current))},[]);d.useEffect(function(){return cC.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ZT),document.addEventListener("touchmove",l,ZT),document.addEventListener("touchstart",u,ZT),function(){cC=cC.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,ZT),document.removeEventListener("touchmove",l,ZT),document.removeEventListener("touchstart",u,ZT)}},[]);var p=e.removeScrollBar,m=e.inert;return d.createElement(d.Fragment,null,m?d.createElement(s,{styles:aC(i)}):null,p?d.createElement(XT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},OT.useMedium(hC),UT);var hC,fC=d.forwardRef(function(e,t){return d.createElement(LT,NT({},e,{ref:t,sideCar:dC}))});fC.classNames=LT.classNames;const pC=fC,mC=["__scopeSelect","disabled"],gC=["__scopeSelect","className","style","children","placeholder"],vC=["__scopeSelect","children"],yC=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],wC=["__scopeSelect","onPlaced"],bC=["__scopeSelect","align","collisionPadding"],xC=["__scopeSelect","nonce"],EC=["__scopeSelect"],SC=["__scopeSelect"],NC=["__scopeSelect","value","disabled","textValue"],kC=["__scopeSelect","className","style"],_C=["__scopeSelect"],TC=["__scopeSelect","onAutoScroll"],CC=["__scopeSelect"],IC=["__scopeSelect"],jC=["__scopeSelect","value"];var AC=[" ","Enter","ArrowUp","ArrowDown"],RC=[" ","Enter"],PC="Select",[DC,OC,MC]=Q(PC),[LC,FC]=M(PC,[MC,ys]),UC=ys(),[VC,zC]=LC(PC),[BC,qC]=LC(PC),HC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:p,required:m,form:g}=e,v=UC(t),[y,w]=d.useState(null),[b,x]=d.useState(null),[E,S]=d.useState(!1),N=function(e){const t=d.useContext(tT);return e||t||"ltr"}(u),[k,_]=be({prop:r,defaultProp:null!==i&&void 0!==i&&i,onChange:s,caller:PC}),[T,C]=be({prop:o,defaultProp:a,onChange:c,caller:PC}),I=d.useRef(null),j=!y||(g||!!y.closest("form")),[A,R]=d.useState(new Set),D=Array.from(A).map(e=>e.props.value).join(";");return(0,P.jsx)(Ds,l(l({},v),{},{children:(0,P.jsxs)(VC,{required:m,scope:t,trigger:y,onTriggerChange:w,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:vr(),value:T,onValueChange:C,open:k,onOpenChange:_,dir:N,triggerPointerDownPosRef:I,disabled:p,children:[(0,P.jsx)(DC.Provider,{scope:t,children:(0,P.jsx)(BC,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(e=>{R(t=>new Set(t).add(e))},[]),onNativeOptionRemove:d.useCallback(e=>{R(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),j?(0,P.jsxs)(RI,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:T,onChange:e=>C(e.target.value),disabled:p,form:g,children:[void 0===T?(0,P.jsx)("option",{value:""}):null,Array.from(A)]},D):null]})}))};HC.displayName=PC;var WC="SelectTrigger",KC=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1}=e,i=c(e,mC),s=UC(n),o=zC(WC,n),a=o.disabled||r,u=T(t,o.onTriggerChange),h=OC(n),f=d.useRef("touch"),[p,m,g]=DI(e=>{const t=h().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=OI(t,e,n);void 0!==r&&o.onValueChange(r.value)}),v=e=>{a||(o.onOpenChange(!0),g()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,P.jsx)(Os,l(l({asChild:!0},s),{},{children:(0,P.jsx)(Z.button,l(l({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":PI(o.value)?"":void 0},i),{},{ref:u,onClick:N(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&v(e)}),onPointerDown:N(i.onPointerDown,e=>{f.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:N(i.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||AC.includes(e.key)&&(v(),e.preventDefault())})}))}))});KC.displayName=WC;var GC="SelectValue",QC=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o=""}=e,a=c(e,gC),u=zC(GC,n),{onValueNodeHasChildrenChange:d}=u,h=void 0!==s,f=T(t,u.onValueNodeChange);return pe(()=>{d(h)},[d,h]),(0,P.jsx)(Z.span,l(l({},a),{},{ref:f,style:{pointerEvents:"none"},children:PI(u.value)?(0,P.jsx)(P.Fragment,{children:o}):s}))});QC.displayName=GC;var YC=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r}=e,i=c(e,vC);return(0,P.jsx)(Z.span,l(l({"aria-hidden":!0},i),{},{ref:t,children:r||"\u25bc"}))});YC.displayName="SelectIcon";var XC=e=>(0,P.jsx)(ge,l({asChild:!0},e));XC.displayName="SelectPortal";var $C="SelectContent",JC=d.forwardRef((e,t)=>{const n=zC($C,e.__scopeSelect),[r,i]=d.useState();if(pe(()=>{i(new DocumentFragment)},[]),!n.open){const t=r;return t?E.createPortal((0,P.jsx)(eI,{scope:e.__scopeSelect,children:(0,P.jsx)(DC.Slot,{scope:e.__scopeSelect,children:(0,P.jsx)("div",{children:e.children})})}),t):null}return(0,P.jsx)(rI,l(l({},e),{},{ref:t}))});JC.displayName=$C;var ZC=10,[eI,tI]=LC($C),nI=V("SelectContent.RemoveScroll"),rI=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w}=e,b=c(e,yC),x=zC($C,n),[E,S]=d.useState(null),[k,_]=d.useState(null),C=T(t,e=>S(e)),[I,j]=d.useState(null),[A,R]=d.useState(null),D=OC(n),[O,M]=d.useState(!1),L=d.useRef(!1);d.useEffect(()=>{if(E)return ST(E)},[E]),rT();const F=d.useCallback(e=>{const[t,...n]=D().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(const s of e){if(s===i)return;if(null===s||void 0===s||s.scrollIntoView({block:"nearest"}),s===t&&k&&(k.scrollTop=0),s===r&&k&&(k.scrollTop=k.scrollHeight),null===s||void 0===s||s.focus(),document.activeElement!==i)return}},[D,k]),U=d.useCallback(()=>F([I,E]),[F,I,E]);d.useEffect(()=>{O&&U()},[O,U]);const{onOpenChange:V,triggerPointerDownPosRef:z}=x;d.useEffect(()=>{if(E){let e={x:0,y:0};const t=t=>{var n,r,i,s;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=z.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(s=z.current)||void 0===s?void 0:s.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():E.contains(n.target)||V(!1),document.removeEventListener("pointermove",t),z.current=null};return null!==z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[E,V,z]),d.useEffect(()=>{const e=()=>V(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[V]);const[B,q]=DI(e=>{const t=D().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=OI(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),H=d.useCallback((e,t,n)=>{const r=!L.current&&!n;(void 0!==x.value&&x.value===t||r)&&(j(e),r&&(L.current=!0))},[x.value]),W=d.useCallback(()=>null===E||void 0===E?void 0:E.focus(),[E]),K=d.useCallback((e,t,n)=>{const r=!L.current&&!n;(void 0!==x.value&&x.value===t||r)&&R(e)},[x.value]),G="popper"===r?sI:iI,Q=G===sI?{side:a,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return(0,P.jsx)(eI,{scope:n,content:E,viewport:k,onViewportChange:_,itemRefCallback:H,selectedItem:I,onItemLeave:W,itemTextRefCallback:K,focusSelectedItem:U,selectedItemText:A,position:r,isPositioned:O,searchRef:B,children:(0,P.jsx)(pC,{as:nI,allowPinchZoom:!0,children:(0,P.jsx)(cT,{asChild:!0,trapped:x.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:N(i,e=>{var t;null===(t=x.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,P.jsx)(le,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:(0,P.jsx)(G,l(l(l({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:e=>e.preventDefault()},b),Q),{},{onPlaced:()=>M(!0),ref:C,style:l({display:"flex",flexDirection:"column",outline:"none"},b.style),onKeyDown:N(b.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>F(t)),e.preventDefault()}})}))})})})})});rI.displayName="SelectContentImpl";var iI=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r}=e,i=c(e,wC),s=zC($C,n),o=tI($C,n),[a,u]=d.useState(null),[h,f]=d.useState(null),p=T(t,e=>f(e)),m=OC(n),g=d.useRef(!1),v=d.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:b,focusSelectedItem:x}=o,E=d.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&h&&y&&w&&b){const e=s.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),i=b.getBoundingClientRect();if("rtl"!==s.dir){const r=i.left-t.left,s=n.left-r,o=e.left-s,l=e.width+o,c=Math.max(l,t.width),u=window.innerWidth-ZC,d=eT(s,[ZC,Math.max(ZC,u-c)]);a.style.minWidth=l+"px",a.style.left=d+"px"}else{const r=t.right-i.right,s=window.innerWidth-n.right-r,o=window.innerWidth-e.right-s,l=e.width+o,c=Math.max(l,t.width),u=window.innerWidth-ZC,d=eT(s,[ZC,Math.max(ZC,u-c)]);a.style.minWidth=l+"px",a.style.right=d+"px"}const o=m(),l=window.innerHeight-2*ZC,c=y.scrollHeight,u=window.getComputedStyle(h),d=parseInt(u.borderTopWidth,10),f=parseInt(u.paddingTop,10),p=parseInt(u.borderBottomWidth,10),v=d+f+c+parseInt(u.paddingBottom,10)+p,x=Math.min(5*w.offsetHeight,v),E=window.getComputedStyle(y),S=parseInt(E.paddingTop,10),N=parseInt(E.paddingBottom,10),k=e.top+e.height/2-ZC,_=l-k,T=w.offsetHeight/2,C=d+f+(w.offsetTop+T),I=v-C;if(C<=k){const e=o.length>0&&w===o[o.length-1].ref.current;a.style.bottom="0px";const t=h.clientHeight-y.offsetTop-y.offsetHeight,n=C+Math.max(_,T+(e?N:0)+t+p);a.style.height=n+"px"}else{const e=o.length>0&&w===o[0].ref.current;a.style.top="0px";const t=Math.max(k,d+y.offsetTop+(e?S:0)+T)+I;a.style.height=t+"px",y.scrollTop=C-k+y.offsetTop}a.style.margin="".concat(ZC,"px 0"),a.style.minHeight=x+"px",a.style.maxHeight=l+"px",null===r||void 0===r||r(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,a,h,y,w,b,s.dir,r]);pe(()=>E(),[E]);const[S,N]=d.useState();pe(()=>{h&&N(window.getComputedStyle(h).zIndex)},[h]);const k=d.useCallback(e=>{e&&!0===v.current&&(E(),null===x||void 0===x||x(),v.current=!1)},[E,x]);return(0,P.jsx)(oI,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:k,children:(0,P.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:(0,P.jsx)(Z.div,l(l({},i),{},{ref:p,style:l({boxSizing:"border-box",maxHeight:"100%"},i.style)}))})})});iI.displayName="SelectItemAlignedPosition";var sI=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ZC}=e,s=c(e,bC),o=UC(n);return(0,P.jsx)(Ms,l(l(l({},o),s),{},{ref:t,align:r,collisionPadding:i,style:l(l({boxSizing:"border-box"},s.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});sI.displayName="SelectPopperPosition";var[oI,aI]=LC($C,{}),lI="SelectViewport",cI=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r}=e,i=c(e,xC),s=tI(lI,n),o=aI(lI,n),a=T(t,s.onViewportChange),u=d.useRef(0);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,P.jsx)(DC.Slot,{scope:n,children:(0,P.jsx)(Z.div,l(l({"data-radix-select-viewport":"",role:"presentation"},i),{},{ref:a,style:l({position:"relative",flex:1,overflow:"hidden auto"},i.style),onScroll:N(i.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(null!==r&&void 0!==r&&r.current&&n){const e=Math.abs(u.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*ZC,i=parseFloat(n.style.minHeight),s=parseFloat(n.style.height),o=Math.max(i,s);if(o<r){const i=o+e,s=Math.min(r,i),a=i-s;n.style.height=s+"px","0px"===n.style.bottom&&(t.scrollTop=a>0?a:0,n.style.justifyContent="flex-end")}}}u.current=t.scrollTop})}))})]})});cI.displayName=lI;var uI="SelectGroup",[dI,hI]=LC(uI),fI=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,EC),i=vr();return(0,P.jsx)(dI,{scope:n,id:i,children:(0,P.jsx)(Z.div,l(l({role:"group","aria-labelledby":i},r),{},{ref:t}))})});fI.displayName=uI;var pI="SelectLabel",mI=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,SC),i=hI(pI,n);return(0,P.jsx)(Z.div,l(l({id:i.id},r),{},{ref:t}))});mI.displayName=pI;var gI="SelectItem",[vI,yI]=LC(gI),wI=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s}=e,o=c(e,NC),a=zC(gI,n),u=tI(gI,n),h=a.value===r,[f,p]=d.useState(null!==s&&void 0!==s?s:""),[m,g]=d.useState(!1),v=T(t,e=>{var t;return null===(t=u.itemRefCallback)||void 0===t?void 0:t.call(u,e,r,i)}),y=vr(),w=d.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,P.jsx)(vI,{scope:n,value:r,disabled:i,textId:y,isSelected:h,onItemTextChange:d.useCallback(e=>{p(t=>{var n;return t||(null!==(n=null===e||void 0===e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:(0,P.jsx)(DC.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:(0,P.jsx)(Z.div,l(l({role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":h&&m,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o),{},{ref:v,onFocus:N(o.onFocus,()=>g(!0)),onBlur:N(o.onBlur,()=>g(!1)),onClick:N(o.onClick,()=>{"mouse"!==w.current&&b()}),onPointerUp:N(o.onPointerUp,()=>{"mouse"===w.current&&b()}),onPointerDown:N(o.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:N(o.onPointerMove,e=>{var t;(w.current=e.pointerType,i)?null===(t=u.onItemLeave)||void 0===t||t.call(u):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=u.onItemLeave)||void 0===t||t.call(u))}),onKeyDown:N(o.onKeyDown,e=>{var t;""!==(null===(t=u.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(RC.includes(e.key)&&b()," "===e.key&&e.preventDefault())})}))})})});wI.displayName=gI;var bI="SelectItemText",xI=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i}=e,s=c(e,kC),o=zC(bI,n),a=tI(bI,n),u=yI(bI,n),h=qC(bI,n),[f,p]=d.useState(null),m=T(t,e=>p(e),u.onItemTextChange,e=>{var t;return null===(t=a.itemTextRefCallback)||void 0===t?void 0:t.call(a,e,u.value,u.disabled)}),g=null===f||void 0===f?void 0:f.textContent,v=d.useMemo(()=>(0,P.jsx)("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=h;return pe(()=>(y(v),()=>w(v)),[y,w,v]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Z.span,l(l({id:u.textId},s),{},{ref:m})),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?E.createPortal(s.children,o.valueNode):null]})});xI.displayName=bI;var EI="SelectItemIndicator",SI=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,_C);return yI(EI,n).isSelected?(0,P.jsx)(Z.span,l(l({"aria-hidden":!0},r),{},{ref:t})):null});SI.displayName=EI;var NI="SelectScrollUpButton",kI=d.forwardRef((e,t)=>{const n=tI(NI,e.__scopeSelect),r=aI(NI,e.__scopeSelect),[i,s]=d.useState(!1),o=T(t,r.onScrollButtonChange);return pe(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,P.jsx)(CI,l(l({},e),{},{ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});kI.displayName=NI;var _I="SelectScrollDownButton",TI=d.forwardRef((e,t)=>{const n=tI(_I,e.__scopeSelect),r=aI(_I,e.__scopeSelect),[i,s]=d.useState(!1),o=T(t,r.onScrollButtonChange);return pe(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;s(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,P.jsx)(CI,l(l({},e),{},{ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});TI.displayName=_I;var CI=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r}=e,i=c(e,TC),s=tI("SelectScrollButton",n),o=d.useRef(null),a=OC(n),u=d.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return d.useEffect(()=>()=>u(),[u]),pe(()=>{var e;const t=a().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[a]),(0,P.jsx)(Z.div,l(l({"aria-hidden":!0},i),{},{ref:t,style:l({flexShrink:0},i.style),onPointerDown:N(i.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:N(i.onPointerMove,()=>{var e;null===(e=s.onItemLeave)||void 0===e||e.call(s),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:N(i.onPointerLeave,()=>{u()})}))}),II=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,CC);return(0,P.jsx)(Z.div,l(l({"aria-hidden":!0},r),{},{ref:t}))});II.displayName="SelectSeparator";var jI="SelectArrow",AI=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,IC),i=UC(n),s=zC(jI,n),o=tI(jI,n);return s.open&&"popper"===o.position?(0,P.jsx)(Ls,l(l(l({},i),r),{},{ref:t})):null});AI.displayName=jI;var RI=d.forwardRef((e,t)=>{let{__scopeSelect:n,value:r}=e,i=c(e,jC);const s=d.useRef(null),o=T(t,s),a=function(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return d.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(a!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}},[a,r]),(0,P.jsx)(Z.select,l(l({},i),{},{style:l(l({},xe),i.style),ref:o,defaultValue:r}))});function PI(e){return""===e||void 0===e}function DI(e){const t=te(e),n=d.useRef(""),r=d.useRef(0),i=d.useCallback(e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),s=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function OI(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=(o=e,a=Math.max(i,0),o.map((e,t)=>o[(a+t)%o.length]));var o,a;1===r.length&&(s=s.filter(e=>e!==n));const l=s.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}RI.displayName="SelectBubbleInput";var MI=HC,LI=KC,FI=QC,UI=YC,VI=XC,zI=JC,BI=cI,qI=mI,HI=wI,WI=xI,KI=SI,GI=kI,QI=TI,YI=II;const XI=Rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$I=Rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),JI=Rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ZI=["className","children"],ej=["className"],tj=["className"],nj=["className","children","position"],rj=["className"],ij=["className","children"],sj=["className"],oj=MI,aj=FI,lj=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,ZI);return(0,P.jsxs)(LI,l(l({ref:t,className:Cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n)},i),{},{children:[r,(0,P.jsx)(UI,{asChild:!0,children:(0,P.jsx)(XI,{className:"h-4 w-4 opacity-50"})})]}))});lj.displayName=LI.displayName;const cj=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,ej);return(0,P.jsx)(GI,l(l({ref:t,className:Cn("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,P.jsx)($I,{className:"h-4 w-4"})}))});cj.displayName=GI.displayName;const uj=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,tj);return(0,P.jsx)(QI,l(l({ref:t,className:Cn("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,P.jsx)(XI,{className:"h-4 w-4"})}))});uj.displayName=QI.displayName;const dj=d.forwardRef((e,t)=>{let{className:n,children:r,position:i="popper"}=e,s=c(e,nj);return(0,P.jsx)(VI,{children:(0,P.jsxs)(zI,l(l({ref:t,className:Cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i},s),{},{children:[(0,P.jsx)(cj,{}),(0,P.jsx)(BI,{className:Cn("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,P.jsx)(uj,{})]}))})});dj.displayName=zI.displayName;d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,rj);return(0,P.jsx)(qI,l({ref:t,className:Cn("py-1.5 pl-8 pr-2 text-sm font-semibold",n)},r))}).displayName=qI.displayName;const hj=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,ij);return(0,P.jsxs)(HI,l(l({ref:t,className:Cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n)},i),{},{children:[(0,P.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,P.jsx)(KI,{children:(0,P.jsx)(JI,{className:"h-4 w-4"})})}),(0,P.jsx)(WI,{children:r})]}))});hj.displayName=HI.displayName;d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,sj);return(0,P.jsx)(YI,l({ref:t,className:Cn("-mx-1 my-1 h-px bg-muted",n)},r))}).displayName=YI.displayName;const fj=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,s]=(0,d.useState)(""),[o,a]=(0,d.useState)(""),[l,c]=(0,d.useState)("admin"),[u,h]=(0,d.useState)(!1),f=Pl(),{toast:p}=x();return(0,P.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,P.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Company Registration"}),(0,P.jsx)(xc,{children:"Create your company account"})]}),(0,P.jsx)(Ec,{children:(0,P.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),h(!0);try{const t=await ep(W_,n,i);await yk(gN(K_,"companies",t.user.uid),{name:e,email:n,balance:parseFloat(o),interestRates:{3:1,6:1,12:1},role:l,status:"pending",createdAt:(new Date).toISOString()}),p({title:"Success",description:"Company registered successfully"}),f("/company/login")}catch(r){p({title:"Error",description:r.message,variant:"destructive"})}finally{h(!1)}},className:"space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"name",children:"Company Name"}),(0,P.jsx)(Q_,{id:"name",type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"email",children:"Email"}),(0,P.jsx)(Q_,{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"password",children:"Password"}),(0,P.jsx)(Q_,{id:"password",type:"password",value:i,onChange:e=>s(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"balance",children:"Balance"}),(0,P.jsx)(Q_,{id:"balance",type:"number",step:"0.01",value:o,onChange:e=>a(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"role",children:"Role"}),(0,P.jsxs)(oj,{value:l,onValueChange:e=>c(e),children:[(0,P.jsx)(lj,{id:"role",children:(0,P.jsx)(aj,{})}),(0,P.jsxs)(dj,{children:[(0,P.jsx)(hj,{value:"admin",children:"Admin (Full Access)"}),(0,P.jsx)(hj,{value:"manager",children:"Manager (Approve/Reject Loans)"}),(0,P.jsx)(hj,{value:"hr",children:"HR (View Employees Only)"})]})]}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Admin has full access to all features"})]}),(0,P.jsx)(dc,{type:"submit",className:"w-full",disabled:u,children:u?"Registering...":"Register"}),(0,P.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",(0,P.jsx)(oc,{to:"/company/login",className:"text-primary hover:underline",children:"Login"})]})]})})]})})},pj=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,s]=(0,d.useState)(!1),o=Pl(),{toast:a}=x();(0,d.useEffect)(()=>{const e=np(W_,async e=>{if(e)try{const t=await mk(gN(K_,"companies",e.uid));if(t.exists()){"approved"===t.data().status?o("/company/dashboard"):await rp(W_)}else await rp(W_)}catch(t){console.error("Error verifying company:",t),await rp(W_)}});return()=>e()},[o]);return(0,P.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,P.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Company Login"}),(0,P.jsx)(xc,{children:"Sign in to your company account"})]}),(0,P.jsx)(Ec,{children:(0,P.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{const t=await tp(W_,e,n),r=await mk(gN(K_,"companies",t.user.uid));if(!r.exists())return await rp(W_),void a({title:"Access Denied",description:"Company account not found.",variant:"destructive"});const i=r.data();if("pending"===i.status)return await rp(W_),void a({title:"Account Pending",description:"Your company account is pending admin approval. Please wait for approval.",variant:"destructive"});if("rejected"===i.status)return await rp(W_),void a({title:"Account Rejected",description:"Your company account has been rejected. Please contact support.",variant:"destructive"});a({title:"Welcome back",description:"You are now logged in to your company account."}),o("/company/dashboard")}catch(r){a({title:"Login Failed",description:r.message,variant:"destructive"})}finally{s(!1)}},className:"space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"email",children:"Email"}),(0,P.jsx)(Q_,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"password",children:"Password"}),(0,P.jsx)(Q_,{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,P.jsx)(dc,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login"}),(0,P.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",(0,P.jsx)(oc,{to:"/company/register",className:"text-primary hover:underline",children:"Register"})]})]})})]})})},mj=["className"],gj=["className"],vj=["className"],yj=["className"],wj=["className"],bj=["className"],xj=["className"],Ej=["className"],Sj=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,mj);return(0,P.jsx)("div",{className:"relative w-full overflow-auto",children:(0,P.jsx)("table",l({ref:t,className:Cn("w-full caption-bottom text-sm",n)},r))})});Sj.displayName="Table";const Nj=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,gj);return(0,P.jsx)("thead",l({ref:t,className:Cn("[&_tr]:border-b",n)},r))});Nj.displayName="TableHeader";const kj=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,vj);return(0,P.jsx)("tbody",l({ref:t,className:Cn("[&_tr:last-child]:border-0",n)},r))});kj.displayName="TableBody";d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,yj);return(0,P.jsx)("tfoot",l({ref:t,className:Cn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n)},r))}).displayName="TableFooter";const _j=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,wj);return(0,P.jsx)("tr",l({ref:t,className:Cn("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",n)},r))});_j.displayName="TableRow";const Tj=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,bj);return(0,P.jsx)("th",l({ref:t,className:Cn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n)},r))});Tj.displayName="TableHead";const Cj=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,xj);return(0,P.jsx)("td",l({ref:t,className:Cn("p-4 align-middle [&:has([role=checkbox])]:pr-0",n)},r))});Cj.displayName="TableCell";d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,Ej);return(0,P.jsx)("caption",l({ref:t,className:Cn("mt-4 text-sm text-muted-foreground",n)},r))}).displayName="TableCaption";const Ij=["className"];function jj(e){let{className:t}=e,n=c(e,Ij);return(0,P.jsx)("div",l({className:Cn("animate-pulse rounded-md bg-muted",t)},n))}const Aj=(e,t,n)=>{const r=e*t*n/1200,i=e+r;return{totalInterest:r,totalAmount:i,monthlyPayment:i/n}},Rj=Rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Pj=e=>{let{searchTerm:t,onSearchChange:n,filterStatus:r,onFilterChange:i,placeholder:s="Search...",showStatusFilter:o=!1}=e;return(0,P.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[(0,P.jsxs)("div",{className:"relative flex-1",children:[(0,P.jsx)(Rj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,P.jsx)(Q_,{placeholder:s,value:t,onChange:e=>n(e.target.value),className:"pl-10"})]}),o&&i&&(0,P.jsxs)(oj,{value:r,onValueChange:i,children:[(0,P.jsx)(lj,{className:"w-full sm:w-[180px]",children:(0,P.jsx)(aj,{placeholder:"Filter by status"})}),(0,P.jsxs)(dj,{children:[(0,P.jsx)(hj,{value:"all",children:"All Status"}),(0,P.jsx)(hj,{value:"pending",children:"Pending"}),(0,P.jsx)(hj,{value:"approved",children:"Approved"}),(0,P.jsx)(hj,{value:"rejected",children:"Rejected"})]})]})]})},Dj=Rt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Oj=Rt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Mj=e=>{let{employeeId:t,employeeName:n,onViewLoan:r,showActions:i=!0}=e;const[s,o]=(0,d.useState)([]),[a,c]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{(async()=>{try{console.log("EmployeeLoanHistory: Loading loans for employee:",t);const e=tk(mN(K_,"loans"),rk("employeeId","==",t)),n=await vk(e);console.log("EmployeeLoanHistory: Found",n.docs.length,"loans");const r=n.docs.map(e=>l({id:e.id},e.data()));r.sort((e,t)=>{const n=new Date(e.createdAt||0).getTime();return new Date(t.createdAt||0).getTime()-n}),console.log("EmployeeLoanHistory: Loan data:",r),o(r)}catch(e){console.error("Error loading employee loans:",e)}finally{c(!1)}})()},[t]),a?(0,P.jsxs)(yc,{children:[(0,P.jsxs)(wc,{children:[(0,P.jsxs)(bc,{className:"flex items-center gap-2",children:[(0,P.jsx)(Lc,{className:"h-5 w-5"}),"Loan History - ",n]}),(0,P.jsx)(xc,{children:"Loading loan history..."})]}),(0,P.jsx)(Ec,{children:(0,P.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,P.jsx)(jj,{className:"h-16 w-full"},e))})})]}):(0,P.jsxs)(yc,{children:[(0,P.jsxs)(wc,{children:[(0,P.jsxs)(bc,{className:"flex items-center gap-2",children:[(0,P.jsx)(Lc,{className:"h-5 w-5"}),"Loan History - ",n]}),(0,P.jsxs)(xc,{children:[s.length," loan",1!==s.length?"s":""," total"]})]}),(0,P.jsx)(Ec,{children:s.length>0?(0,P.jsx)("div",{className:"space-y-3",children:s.map(e=>{var t;return(0,P.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,P.jsxs)("div",{className:"flex-1",children:[(0,P.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,P.jsxs)("span",{className:"font-semibold text-lg",children:["$",e.amount.toFixed(2)]}),(0,P.jsx)(kc,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"secondary",className:"text-xs",children:e.status})]}),(0,P.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,P.jsxs)("div",{className:"flex items-center gap-1",children:[(0,P.jsx)(Dj,{className:"h-3 w-3"}),new Date(e.createdAt).toLocaleDateString()]}),e.repaymentTerm&&(0,P.jsxs)("div",{className:"flex items-center gap-1",children:[(0,P.jsx)(Oc,{className:"h-3 w-3"}),e.repaymentTerm," months"]}),e.interestRate&&(0,P.jsxs)("span",{children:[e.interestRate,"% interest"]})]}),e.purpose&&(0,P.jsx)("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.purpose}),e.totalAmount&&(0,P.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Total: $",e.totalAmount.toFixed(2)," \u2022 Monthly: $",null===(t=e.monthlyPayment)||void 0===t?void 0:t.toFixed(2)]})]}),i&&r&&(0,P.jsx)(dc,{size:"sm",variant:"ghost",onClick:()=>r(e),children:(0,P.jsx)(Oj,{className:"h-4 w-4"})})]},e.id)})}):(0,P.jsxs)("div",{className:"text-center py-8",children:[(0,P.jsx)(Lc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,P.jsx)("p",{className:"text-muted-foreground text-sm",children:"No loan history"})]})})]})},Lj=Rt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Fj=Rt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Uj=Rt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Vj=()=>{var e,t,n;const[r,i]=(0,d.useState)(null),[s,o]=(0,d.useState)([]),[a,c]=(0,d.useState)([]),[u,h]=(0,d.useState)(!0),[f,p]=(0,d.useState)("admin"),[m,g]=(0,d.useState)(null),[v,y]=(0,d.useState)(""),[w,b]=(0,d.useState)("all"),[E,S]=(0,d.useState)(""),[N,k]=(0,d.useState)("all"),_=Pl(),{toast:T}=x(),C=(e=>{switch(e){case"admin":return{canApproveLoan:!0,canRejectLoan:!0,canViewAllEmployees:!0,canEditEmployees:!0,canViewFinancials:!0,canManageRoles:!0};case"manager":return{canApproveLoan:!0,canRejectLoan:!0,canViewAllEmployees:!0,canEditEmployees:!1,canViewFinancials:!0,canManageRoles:!1};case"hr":return{canApproveLoan:!1,canRejectLoan:!1,canViewAllEmployees:!0,canEditEmployees:!0,canViewFinancials:!1,canManageRoles:!1};default:return{canApproveLoan:!1,canRejectLoan:!1,canViewAllEmployees:!1,canEditEmployees:!1,canViewFinancials:!1,canManageRoles:!1}}})(f);(0,d.useEffect)(()=>{const e=np(W_,async e=>{if(e)try{const t=await mk(gN(K_,"companies",e.uid));if(t.exists()){const n=t.data();i(n),p(n.role||"admin"),await I(e.uid),await j(e.uid)}else await rp(W_),_("/company/login")}catch(t){T({title:"Error",description:t.message,variant:"destructive"})}finally{h(!1)}else _("/company/login")});return()=>e()},[_,T]);const I=async e=>{try{console.log("CompanyDashboard: Loading employees for company:",e);const t=tk(mN(K_,"employees"),rk("companyId","==",e)),n=await vk(t);console.log("CompanyDashboard: Found",n.docs.length,"employees");const r=n.docs.map(e=>l({id:e.id},e.data()));console.log("CompanyDashboard: Employee data:",r),o(r)}catch(t){console.error("Error loading employees:",t)}},j=async e=>{try{console.log("CompanyDashboard: Loading loans for company:",e);const t=tk(mN(K_,"loans"),rk("companyId","==",e)),n=await vk(t);console.log("CompanyDashboard: Found",n.docs.length,"loans");const r=n.docs.map(e=>l({id:e.id},e.data()));r.sort((e,t)=>{const n=new Date(e.createdAt||0).getTime();return new Date(t.createdAt||0).getTime()-n}),console.log("CompanyDashboard: Loan data:",r),c(r)}catch(t){console.error("Error loading company loans:",t)}};if(u)return(0,P.jsx)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:(0,P.jsx)("div",{className:"container py-8",children:(0,P.jsxs)("div",{className:"space-y-4",children:[(0,P.jsx)(jj,{className:"h-12 w-64"}),(0,P.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,P.jsx)(jj,{className:"h-32"}),(0,P.jsx)(jj,{className:"h-32"}),(0,P.jsx)(jj,{className:"h-32"})]}),(0,P.jsx)(jj,{className:"h-96"})]})})});const A=s.filter(e=>"pending"===e.status),R=s.filter(e=>"verified"===e.status),D=s.filter(e=>"rejected"===e.status);console.log("CompanyDashboard: Total employees:",s.length),console.log("CompanyDashboard: Pending employees:",A.length),console.log("CompanyDashboard: Verified employees:",R.length),console.log("CompanyDashboard: Rejected employees:",D.length);const O=a.filter(e=>"pending"===e.status),M=a.filter(e=>"approved"===e.status),L=a.filter(e=>"rejected"===e.status),F=s.filter(e=>{const t=e.name.toLowerCase().includes(v.toLowerCase())||e.email.toLowerCase().includes(v.toLowerCase()),n="all"===w||e.status===w;return t&&n}),U=a.filter(e=>{var t;const n=s.find(t=>t.id===e.employeeId),r=""===E||(null===n||void 0===n?void 0:n.name.toLowerCase().includes(E.toLowerCase()))||(null===n||void 0===n?void 0:n.email.toLowerCase().includes(E.toLowerCase()))||(null===(t=e.purpose)||void 0===t?void 0:t.toLowerCase().includes(E.toLowerCase())),i="all"===N||e.status===N;return r&&i});return(0,P.jsxs)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:[(0,P.jsxs)("div",{className:"container py-8",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center mb-8 animate-in fade-in duration-500",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:null===r||void 0===r?void 0:r.name}),(0,P.jsxs)("div",{className:"flex items-center gap-4 mt-1 flex-wrap",children:[(0,P.jsxs)("p",{className:"text-lg text-muted-foreground",children:["Balance: $",null===r||void 0===r?void 0:r.balance.toFixed(2)]}),(0,P.jsx)("span",{className:"text-muted-foreground",children:"\u2022"}),(0,P.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Rates: 3mo-",(null===r||void 0===r||null===(e=r.interestRates)||void 0===e?void 0:e[3])||1,"% | 6mo-",(null===r||void 0===r||null===(t=r.interestRates)||void 0===t?void 0:t[6])||1,"% | 12mo-",(null===r||void 0===r||null===(n=r.interestRates)||void 0===n?void 0:n[12])||1,"%"]})]}),(0,P.jsxs)(kc,{variant:"outline",className:"mt-2",children:[f.toUpperCase()," Role"]})]}),(0,P.jsx)(dc,{onClick:async()=>{try{await rp(W_),_("/company/login")}catch(e){T({title:"Error",description:e.message,variant:"destructive"})}},variant:"outline",children:"Logout"})]}),(0,P.jsxs)("div",{className:"grid gap-6 md:grid-cols-6 mb-8 animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Pending Verification"}),(0,P.jsx)(Lj,{className:"h-4 w-4 text-yellow-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:A.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting verification"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Verified Employees"}),(0,P.jsx)(Mc,{className:"h-4 w-4 text-green-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-green-600",children:R.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Confirmed team members"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Rejected"}),(0,P.jsx)(Fj,{className:"h-4 w-4 text-red-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-red-600",children:D.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Not verified"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Pending Loans"}),(0,P.jsx)(Oc,{className:"h-4 w-4 text-yellow-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:O.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting approval"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Approved Loans"}),(0,P.jsx)(Mc,{className:"h-4 w-4 text-green-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-green-600",children:M.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Successfully approved"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Rejected Loans"}),(0,P.jsx)(Uj,{className:"h-4 w-4 text-red-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-red-600",children:L.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Declined requests"})]})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg mb-8 animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(wc,{children:[(0,P.jsxs)(bc,{className:"flex items-center gap-2",children:[(0,P.jsx)(Lj,{className:"h-5 w-5"}),"Employee Verification"]}),(0,P.jsx)(xc,{children:A.length>0?"Confirm that these ".concat(A.length," employees work for your company"):"No pending employee verifications at this time"})]}),(0,P.jsx)(Ec,{children:A.length>0?(0,P.jsxs)(Sj,{children:[(0,P.jsx)(Nj,{children:(0,P.jsxs)(_j,{children:[(0,P.jsx)(Tj,{children:"Name"}),(0,P.jsx)(Tj,{children:"Email"}),(0,P.jsx)(Tj,{children:"Salary"}),(0,P.jsx)(Tj,{children:"Registered"}),(0,P.jsx)(Tj,{children:"Actions"})]})}),(0,P.jsx)(kj,{children:A.map(e=>(0,P.jsxs)(_j,{className:"hover:bg-muted/50 transition-colors",children:[(0,P.jsx)(Cj,{className:"font-medium",children:e.name}),(0,P.jsx)(Cj,{children:e.email}),(0,P.jsxs)(Cj,{className:"font-semibold",children:["$",e.salary.toFixed(2)]}),(0,P.jsx)(Cj,{children:new Date(e.createdAt||"").toLocaleDateString()}),(0,P.jsx)(Cj,{children:(0,P.jsxs)("div",{className:"flex gap-2",children:[(0,P.jsxs)(dc,{size:"sm",variant:"default",onClick:()=>(async e=>{try{await wk(gN(K_,"employees",e),{status:"verified",verifiedAt:(new Date).toISOString()}),T({title:"Success",description:"Employee verified successfully"}),W_.currentUser&&(await I(W_.currentUser.uid),await j(W_.currentUser.uid))}catch(t){T({title:"Error",description:t.message,variant:"destructive"})}})(e.id),className:"gap-1",children:[(0,P.jsx)(Mc,{className:"h-4 w-4"}),"Approve"]}),(0,P.jsxs)(dc,{size:"sm",variant:"destructive",onClick:()=>{const t=prompt("Reason for rejection:");t&&(async(e,t)=>{try{await wk(gN(K_,"employees",e),{status:"rejected",rejectionReason:t,rejectedAt:(new Date).toISOString()}),T({title:"Success",description:"Employee rejected successfully"}),W_.currentUser&&(await I(W_.currentUser.uid),await j(W_.currentUser.uid))}catch(n){T({title:"Error",description:n.message,variant:"destructive"})}})(e.id,t)},className:"gap-1",children:[(0,P.jsx)(Uj,{className:"h-4 w-4"}),"Reject"]})]})})]},e.id))})]}):(0,P.jsxs)("div",{className:"text-center py-8",children:[(0,P.jsx)(Lj,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,P.jsx)("p",{className:"text-muted-foreground",children:"No pending employee verifications"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"New employees will appear here when they register"})]})})]}),(0,P.jsxs)(yc,{className:"shadow-lg mb-8 animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(wc,{children:[(0,P.jsxs)(bc,{className:"flex items-center gap-2",children:[(0,P.jsx)(Lc,{className:"h-5 w-5"}),"Loan Overview"]}),(0,P.jsxs)(xc,{children:["All loan requests from your employees (",a.length," total)"]})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)(Pj,{searchTerm:E,onSearchChange:S,filterStatus:N,onFilterChange:k,placeholder:"Search loans by employee name, email, or purpose...",showStatusFilter:!0}),U.length>0?(0,P.jsxs)(Sj,{children:[(0,P.jsx)(Nj,{children:(0,P.jsxs)(_j,{children:[(0,P.jsx)(Tj,{children:"Employee"}),(0,P.jsx)(Tj,{children:"Amount"}),(0,P.jsx)(Tj,{children:"Purpose"}),(0,P.jsx)(Tj,{children:"Status"}),(0,P.jsx)(Tj,{children:"Term"}),(0,P.jsx)(Tj,{children:"Created"}),(0,P.jsx)(Tj,{children:"Actions"})]})}),(0,P.jsx)(kj,{children:U.map(e=>{const t=s.find(t=>t.id===e.employeeId);return(0,P.jsxs)(_j,{className:"hover:bg-muted/50 transition-colors",children:[(0,P.jsx)(Cj,{className:"font-medium",children:(null===t||void 0===t?void 0:t.name)||"Unknown Employee"}),(0,P.jsxs)(Cj,{className:"font-semibold",children:["$",e.amount.toFixed(2)]}),(0,P.jsx)(Cj,{className:"max-w-[200px] truncate",children:e.purpose||"No purpose specified"}),(0,P.jsx)(Cj,{children:(0,P.jsx)(kc,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"secondary",children:e.status})}),(0,P.jsx)(Cj,{children:e.repaymentTerm?"".concat(e.repaymentTerm," months"):"N/A"}),(0,P.jsx)(Cj,{children:new Date(e.createdAt).toLocaleDateString()}),(0,P.jsx)(Cj,{children:(0,P.jsxs)("div",{className:"flex gap-2",children:["pending"===e.status&&C.canApproveLoan&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(dc,{size:"sm",variant:"default",onClick:()=>(async e=>{try{await wk(gN(K_,"loans",e),{status:"approved",updatedAt:(new Date).toISOString()}),T({title:"Success",description:"Loan approved successfully"}),W_.currentUser&&await j(W_.currentUser.uid)}catch(t){T({title:"Error",description:t.message,variant:"destructive"})}})(e.id),className:"gap-1",children:[(0,P.jsx)(Mc,{className:"h-4 w-4"}),"Approve"]}),(0,P.jsxs)(dc,{size:"sm",variant:"destructive",onClick:()=>{const t=prompt("Reason for rejection:");t&&(async(e,t)=>{try{await wk(gN(K_,"loans",e),{status:"rejected",rejectionReason:t,updatedAt:(new Date).toISOString()}),T({title:"Success",description:"Loan rejected successfully"}),W_.currentUser&&await j(W_.currentUser.uid)}catch(n){T({title:"Error",description:n.message,variant:"destructive"})}})(e.id,t)},className:"gap-1",children:[(0,P.jsx)(Uj,{className:"h-4 w-4"}),"Reject"]})]}),(0,P.jsxs)(dc,{size:"sm",variant:"outline",onClick:()=>g(t),className:"gap-1",children:[(0,P.jsx)(Oj,{className:"h-4 w-4"}),"View History"]})]})})]},e.id)})})]}):(0,P.jsxs)("div",{className:"text-center py-8",children:[(0,P.jsx)(Lc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,P.jsx)("p",{className:"text-muted-foreground",children:E?"No loans found":"No loan requests yet"}),(0,P.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Employees need to request loans first"})]})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"All Employees"}),(0,P.jsxs)(xc,{children:["Complete employee list (",s.length," total)"]})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)(Pj,{searchTerm:v,onSearchChange:y,filterStatus:w,onFilterChange:b,placeholder:"Search employees by name or email...",showStatusFilter:!0}),F.length>0?(0,P.jsxs)(Sj,{children:[(0,P.jsx)(Nj,{children:(0,P.jsxs)(_j,{children:[(0,P.jsx)(Tj,{children:"Name"}),(0,P.jsx)(Tj,{children:"Email"}),(0,P.jsx)(Tj,{children:"Salary"}),(0,P.jsx)(Tj,{children:"Status"}),(0,P.jsx)(Tj,{children:"Registered"}),(0,P.jsx)(Tj,{children:"Actions"})]})}),(0,P.jsx)(kj,{children:F.map(e=>(0,P.jsxs)(_j,{className:"hover:bg-muted/50 transition-colors",children:[(0,P.jsx)(Cj,{className:"font-medium",children:e.name}),(0,P.jsx)(Cj,{children:e.email}),(0,P.jsxs)(Cj,{className:"font-semibold",children:["$",e.salary.toFixed(2)]}),(0,P.jsx)(Cj,{children:(0,P.jsx)(kc,{variant:"verified"===e.status?"default":"rejected"===e.status?"destructive":"secondary",children:e.status||"pending"})}),(0,P.jsx)(Cj,{children:new Date(e.createdAt||"").toLocaleDateString()}),(0,P.jsx)(Cj,{children:(0,P.jsxs)(dc,{size:"sm",variant:"outline",onClick:()=>g(e),className:"gap-1",children:[(0,P.jsx)(Dc,{className:"h-4 w-4"}),"View Loans"]})})]},e.id))})]}):(0,P.jsxs)("div",{className:"text-center py-8",children:[(0,P.jsx)(Dc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,P.jsx)("p",{className:"text-muted-foreground",children:v?"No employees found":"No employees yet"})]})]})]})]}),m&&(0,P.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,P.jsx)("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:(0,P.jsxs)("div",{className:"p-6",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,P.jsx)("h2",{className:"text-2xl font-bold",children:"Employee Loan History"}),(0,P.jsx)(dc,{variant:"outline",onClick:()=>g(null),children:"Close"})]}),(0,P.jsx)(Mj,{employeeId:m.id,employeeName:m.name,showActions:!1})]})})})]})},zj=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,s]=(0,d.useState)(""),[o,a]=(0,d.useState)(""),[c,u]=(0,d.useState)(""),[h,f]=(0,d.useState)([]),[p,m]=(0,d.useState)(!1),g=Pl(),{toast:v}=x();(0,d.useEffect)(()=>{(async()=>{try{console.log("EmployeeRegister: Loading approved companies...");const e=await vk(mN(K_,"companies"));console.log("EmployeeRegister: Found",e.docs.length,"total companies");const t=e.docs.map(e=>l({id:e.id},e.data())).filter(e=>"approved"===e.status).map(e=>({id:e.id,name:e.name}));console.log("EmployeeRegister: Found",t.length,"approved companies"),console.log("EmployeeRegister: Approved company list:",t),f(t),0===t.length&&v({title:"No Approved Companies",description:"No companies have been approved yet. Please register a company and wait for admin approval.",variant:"destructive"})}catch(e){console.error("Error loading companies:",e),v({title:"Error",description:"Failed to load companies. Please try again.",variant:"destructive"})}})()},[v]);return(0,P.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,P.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Employee Registration"}),(0,P.jsx)(xc,{children:"Create your employee account"})]}),(0,P.jsx)(Ec,{children:(0,P.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),m(!0);try{const t=await ep(W_,n,i);await yk(gN(K_,"employees",t.user.uid),{name:e,email:n,salary:parseFloat(o),companyId:c,status:"pending",createdAt:(new Date).toISOString()}),v({title:"Success",description:"Employee registered successfully"}),g("/employee/login")}catch(r){v({title:"Error",description:r.message,variant:"destructive"})}finally{m(!1)}},className:"space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"name",children:"Name"}),(0,P.jsx)(Q_,{id:"name",type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"email",children:"Email"}),(0,P.jsx)(Q_,{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"password",children:"Password"}),(0,P.jsx)(Q_,{id:"password",type:"password",value:i,onChange:e=>s(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"salary",children:"Salary"}),(0,P.jsx)(Q_,{id:"salary",type:"number",step:"0.01",value:o,onChange:e=>a(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"company",children:"Company"}),(0,P.jsxs)(oj,{value:c,onValueChange:u,required:!0,disabled:0===h.length,children:[(0,P.jsx)(lj,{children:(0,P.jsx)(aj,{placeholder:0===h.length?"No companies available":"Select a company"})}),(0,P.jsx)(dj,{children:0===h.length?(0,P.jsx)(hj,{value:"no-companies",disabled:!0,children:"No companies registered yet"}):h.map(e=>(0,P.jsx)(hj,{value:e.id,children:e.name},e.id))})]}),0===h.length&&(0,P.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["No approved companies available. Companies need admin approval before employees can register.",(0,P.jsx)("br",{}),"Register a company at"," ",(0,P.jsx)(oc,{to:"/company/register",className:"text-primary hover:underline",children:"/company/register"})," ","and wait for admin approval."]})]}),(0,P.jsx)(dc,{type:"submit",className:"w-full",disabled:p||0===h.length,children:p?"Registering...":0===h.length?"No Companies Available":"Register"}),(0,P.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",(0,P.jsx)(oc,{to:"/employee/login",className:"text-primary hover:underline",children:"Login"})]})]})})]})})},Bj=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,s]=(0,d.useState)(!1),o=Pl(),{toast:a}=x();(0,d.useEffect)(()=>{const e=np(W_,e=>{e&&o("/employee/dashboard")});return()=>e()},[o]);return(0,P.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,P.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Employee Login"}),(0,P.jsx)(xc,{children:"Sign in to your employee account"})]}),(0,P.jsx)(Ec,{children:(0,P.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{await tp(W_,e,n),a({title:"Success",description:"Logged in successfully"}),o("/employee/dashboard")}catch(r){a({title:"Error",description:r.message,variant:"destructive"})}finally{s(!1)}},className:"space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"email",children:"Email"}),(0,P.jsx)(Q_,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"password",children:"Password"}),(0,P.jsx)(Q_,{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,P.jsx)(dc,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login"}),(0,P.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",(0,P.jsx)(oc,{to:"/employee/register",className:"text-primary hover:underline",children:"Register"})]})]})})]})})},qj=["className"],Hj=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,qj);return(0,P.jsx)("textarea",l({className:Cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},r))});Hj.displayName="Textarea";const Wj=["decorative","orientation"];var Kj="horizontal",Gj=["horizontal","vertical"],Qj=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Kj}=e,i=c(e,Wj),s=function(e){return Gj.includes(e)}(r)?r:Kj,o=n?{role:"none"}:{"aria-orientation":"vertical"===s?s:void 0,role:"separator"};return(0,P.jsx)(Z.div,l(l(l({"data-orientation":s},o),i),{},{ref:t}))});Qj.displayName="Separator";var Yj=Qj;const Xj=["className","orientation","decorative"],$j=d.forwardRef((e,t)=>{let{className:n,orientation:r="horizontal",decorative:i=!0}=e,s=c(e,Xj);return(0,P.jsx)(Yj,l({ref:t,decorative:i,orientation:r,className:Cn("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",n)},s))});$j.displayName=Yj.displayName;const Jj=["__scopeDialog"],Zj=["forceMount"],eA=["__scopeDialog"],tA=["forceMount"],nA=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],rA=["__scopeDialog"],iA=["__scopeDialog"],sA=["__scopeDialog"];var oA="Dialog",[aA,lA]=M(oA),[cA,uA]=aA(oA),dA=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=d.useRef(null),l=d.useRef(null),[c,u]=be({prop:r,defaultProp:null!==i&&void 0!==i&&i,onChange:s,caller:oA});return(0,P.jsx)(cA,{scope:t,triggerRef:a,contentRef:l,contentId:vr(),titleId:vr(),descriptionId:vr(),open:c,onOpenChange:u,onOpenToggle:d.useCallback(()=>u(e=>!e),[u]),modal:o,children:n})};dA.displayName=oA;var hA="DialogTrigger",fA=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,Jj),i=uA(hA,n),s=T(t,i.triggerRef);return(0,P.jsx)(Z.button,l(l({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":PA(i.open)},r),{},{ref:s,onClick:N(e.onClick,i.onOpenToggle)}))});fA.displayName=hA;var pA="DialogPortal",[mA,gA]=aA(pA,{forceMount:void 0}),vA=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=uA(pA,t);return(0,P.jsx)(mA,{scope:t,forceMount:n,children:d.Children.map(r,e=>(0,P.jsx)(ve,{present:n||s.open,children:(0,P.jsx)(ge,{asChild:!0,container:i,children:e})}))})};vA.displayName=pA;var yA="DialogOverlay",wA=d.forwardRef((e,t)=>{const n=gA(yA,e.__scopeDialog),{forceMount:r=n.forceMount}=e,i=c(e,Zj),s=uA(yA,e.__scopeDialog);return s.modal?(0,P.jsx)(ve,{present:r||s.open,children:(0,P.jsx)(xA,l(l({},i),{},{ref:t}))}):null});wA.displayName=yA;var bA=V("DialogOverlay.RemoveScroll"),xA=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,eA),i=uA(yA,n);return(0,P.jsx)(pC,{as:bA,allowPinchZoom:!0,shards:[i.contentRef],children:(0,P.jsx)(Z.div,l(l({"data-state":PA(i.open)},r),{},{ref:t,style:l({pointerEvents:"auto"},r.style)}))})}),EA="DialogContent",SA=d.forwardRef((e,t)=>{const n=gA(EA,e.__scopeDialog),{forceMount:r=n.forceMount}=e,i=c(e,tA),s=uA(EA,e.__scopeDialog);return(0,P.jsx)(ve,{present:r||s.open,children:s.modal?(0,P.jsx)(NA,l(l({},i),{},{ref:t})):(0,P.jsx)(kA,l(l({},i),{},{ref:t}))})});SA.displayName=EA;var NA=d.forwardRef((e,t)=>{const n=uA(EA,e.__scopeDialog),r=d.useRef(null),i=T(t,n.contentRef,r);return d.useEffect(()=>{const e=r.current;if(e)return ST(e)},[]),(0,P.jsx)(_A,l(l({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:N(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:N(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:N(e.onFocusOutside,e=>e.preventDefault())}))}),kA=d.forwardRef((e,t)=>{const n=uA(EA,e.__scopeDialog),r=d.useRef(!1),i=d.useRef(!1);return(0,P.jsx)(_A,l(l({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,o;(null===(s=e.onCloseAutoFocus)||void 0===s||s.call(e,t),t.defaultPrevented)||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());r.current=!1,i.current=!1},onInteractOutside:t=>{var s,o;null===(s=e.onInteractOutside)||void 0===s||s.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const a=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),_A=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s}=e,o=c(e,nA),a=uA(EA,n),u=d.useRef(null),h=T(t,u);return rT(),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(cT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:(0,P.jsx)(le,l(l({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":PA(a.open)},o),{},{ref:h,onDismiss:()=>a.onOpenChange(!1)}))}),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(LA,{titleId:a.titleId}),(0,P.jsx)(FA,{contentRef:u,descriptionId:a.descriptionId})]})]})}),TA="DialogTitle",CA=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,rA),i=uA(TA,n);return(0,P.jsx)(Z.h2,l(l({id:i.titleId},r),{},{ref:t}))});CA.displayName=TA;var IA="DialogDescription",jA=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,iA),i=uA(IA,n);return(0,P.jsx)(Z.p,l(l({id:i.descriptionId},r),{},{ref:t}))});jA.displayName=IA;var AA="DialogClose",RA=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,sA),i=uA(AA,n);return(0,P.jsx)(Z.button,l(l({type:"button"},r),{},{ref:t,onClick:N(e.onClick,()=>i.onOpenChange(!1))}))});function PA(e){return e?"open":"closed"}RA.displayName=AA;var DA="DialogTitleWarning",[OA,MA]=function(e,t){const n=d.createContext(t),r=e=>{const{children:t}=e,r=c(e,D),i=d.useMemo(()=>r,Object.values(r));return(0,P.jsx)(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=d.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error("`".concat(r,"` must be used within `").concat(e,"`"))}]}(DA,{contentName:EA,titleName:TA,docsSlug:"dialog"}),LA=e=>{let{titleId:t}=e;const n=MA(DA),r="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return d.useEffect(()=>{if(t){document.getElementById(t)||console.error(r)}},[r,t]),null},FA=e=>{let{contentRef:t,descriptionId:n}=e;const r=MA("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return d.useEffect(()=>{var e;const r=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(n&&r){document.getElementById(n)||console.warn(i)}},[i,t,n]),null},UA=wA,VA=SA,zA=CA,BA=jA,qA=RA;const HA=["className"],WA=["className","children"],KA=["className"],GA=["className"],QA=["className"],YA=dA,XA=vA,$A=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,HA);return(0,P.jsx)(UA,l({ref:t,className:Cn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r))});$A.displayName=UA.displayName;const JA=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,WA);return(0,P.jsxs)(XA,{children:[(0,P.jsx)($A,{}),(0,P.jsxs)(VA,l(l({ref:t,className:Cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n)},i),{},{children:[r,(0,P.jsxs)(qA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,P.jsx)(Pt,{className:"h-4 w-4"}),(0,P.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});JA.displayName=VA.displayName;const ZA=e=>{let{className:t}=e,n=c(e,KA);return(0,P.jsx)("div",l({className:Cn("flex flex-col space-y-1.5 text-center sm:text-left",t)},n))};ZA.displayName="DialogHeader";const eR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,GA);return(0,P.jsx)(zA,l({ref:t,className:Cn("text-lg font-semibold leading-none tracking-tight",n)},r))});eR.displayName=zA.displayName;const tR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,QA);return(0,P.jsx)(BA,l({ref:t,className:Cn("text-sm text-muted-foreground",n)},r))});tR.displayName=BA.displayName;const nR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function rR(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const iR={date:rR({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:rR({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:rR({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},sR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function oR(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const aR={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:oR({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:oR({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:oR({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:oR({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:oR({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function lR(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,e=>e.test(o)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,e=>e.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const cR={ordinalNumber:(uR={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(uR.matchPattern);if(!n)return null;const r=n[0],i=e.match(uR.parsePattern);if(!i)return null;let s=uR.valueCallback?uR.valueCallback(i[0]):i[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:lR({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:lR({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:lR({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:lR({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:lR({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var uR;const dR={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=nR[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:iR,formatRelative:(e,t,n,r)=>sR[e],localize:aR,match:cR,options:{weekStartsOn:0,firstWeekContainsDate:1}};let hR={};function fR(){return hR}Math.pow(10,8);const pR=6048e5;function mR(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function gR(e){const t=mR(e);return t.setHours(0,0,0,0),t}function vR(e){const t=mR(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function yR(e,t){const n=gR(e),r=gR(t),i=+n-vR(n),s=+r-vR(r);return Math.round((i-s)/864e5)}function wR(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function bR(e){const t=mR(e),n=wR(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function xR(e){const t=mR(e);return yR(t,bR(t))+1}function ER(e,t){var n,r,i,s,o,a;const l=fR(),c=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=mR(e),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function SR(e){return ER(e,{weekStartsOn:1})}function NR(e){const t=mR(e),n=t.getFullYear(),r=wR(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=SR(r),s=wR(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=SR(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function kR(e){const t=NR(e),n=wR(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),SR(n)}function _R(e){const t=mR(e),n=+SR(t)-+kR(t);return Math.round(n/pR)+1}function TR(e,t){var n,r,i,s,o,a;const l=mR(e),c=l.getFullYear(),u=fR(),d=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(a=u.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,h=wR(e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=ER(h,t),p=wR(e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=ER(p,t);return l.getTime()>=f.getTime()?c+1:l.getTime()>=m.getTime()?c:c-1}function CR(e,t){var n,r,i,s,o,a;const l=fR(),c=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,u=TR(e,t),d=wR(e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return ER(d,t)}function IR(e,t){const n=mR(e),r=+ER(n,t)-+CR(n,t);return Math.round(r/pR)+1}function jR(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const AR={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return jR("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):jR(n+1,2)},d:(e,t)=>jR(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>jR(e.getHours()%12||12,t.length),H:(e,t)=>jR(e.getHours(),t.length),m:(e,t)=>jR(e.getMinutes(),t.length),s:(e,t)=>jR(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return jR(Math.trunc(r*Math.pow(10,n-3)),t.length)}},RR="midnight",PR="noon",DR="morning",OR="afternoon",MR="evening",LR="night",FR={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return AR.y(e,t)},Y:function(e,t,n,r){const i=TR(e,r),s=i>0?i:1-i;if("YY"===t){return jR(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):jR(s,t.length)},R:function(e,t){return jR(NR(e),t.length)},u:function(e,t){return jR(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return jR(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return jR(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return AR.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return jR(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=IR(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):jR(i,t.length)},I:function(e,t,n){const r=_R(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):jR(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):AR.d(e,t)},D:function(e,t,n){const r=xR(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):jR(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return jR(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return jR(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return jR(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?PR:0===r?RR:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?MR:r>=12?OR:r>=4?DR:LR,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return AR.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):AR.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):jR(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):jR(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):AR.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):AR.s(e,t)},S:function(e,t){return AR.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return VR(r);case"XXXX":case"XX":return zR(r);default:return zR(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return VR(r);case"xxxx":case"xx":return zR(r);default:return zR(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+UR(r,":");default:return"GMT"+zR(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+UR(r,":");default:return"GMT"+zR(r,":")}},t:function(e,t,n){return jR(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return jR(e.getTime(),t.length)}};function UR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+jR(s,2)}function VR(e,t){if(e%60===0){return(e>0?"-":"+")+jR(Math.abs(e)/60,2)}return zR(e,t)}function zR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+jR(Math.trunc(r/60),2)+t+jR(r%60,2)}const BR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},qR=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},HR={p:qR,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BR(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",BR(r,t)).replace("{{time}}",qR(i,t))}},WR=/^D+$/,KR=/^Y+$/,GR=["D","DD","YY","YYYY"];function QR(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function YR(e){if(!QR(e)&&"number"!==typeof e)return!1;const t=mR(e);return!isNaN(Number(t))}const XR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$R=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JR=/^'([^]*?)'?$/,ZR=/''/g,eP=/[a-zA-Z]/;function tP(e,t,n){var r,i,s,o,a,l,c,u,d,h,f,p,m,g;const v=fR(),y=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:v.locale)&&void 0!==r?r:dR,w=null!==(s=null!==(o=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:v.firstWeekContainsDate)&&void 0!==o?o:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:1,b=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:v.weekStartsOn)&&void 0!==h?h:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,x=mR(e);if(!YR(x))throw new RangeError("Invalid time value");let E=t.match($R).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,HR[t])(e,y.formatLong)}return e}).join("").match(XR).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:nP(e)};if(FR[t])return{isToken:!0,value:e};if(t.match(eP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});y.localize.preprocessor&&(E=y.localize.preprocessor(x,E));const S={firstWeekContainsDate:w,weekStartsOn:b,locale:y};return E.map(r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return KR.test(e)}(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return WR.test(e)}(i))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),GR.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,FR[i[0]])(x,i,y.localize,S)}).join("")}function nP(e){const t=e.match(JR);return t?t[1].replace(ZR,"'"):e}const rP=e=>{var t,n;let{loan:r,open:i,onOpenChange:s,onApprove:o,onReject:a,userRole:l}=e;const[c,u]=(0,d.useState)(""),[h,f]=(0,d.useState)(""),[p,m]=(0,d.useState)(!1);if(!r)return null;return(0,P.jsx)(YA,{open:i,onOpenChange:s,children:(0,P.jsxs)(JA,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,P.jsxs)(ZA,{children:[(0,P.jsx)(eR,{children:"Loan Request Details"}),(0,P.jsx)(tR,{children:"Review the complete loan information"})]}),(0,P.jsxs)("div",{className:"space-y-4",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between",children:[(0,P.jsx)("span",{className:"text-sm font-medium",children:"Status:"}),(0,P.jsx)(kc,{variant:"approved"===r.status?"default":"rejected"===r.status?"destructive":"secondary",children:r.status})]}),(0,P.jsx)($j,{}),(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Employee"}),(0,P.jsx)("p",{className:"font-medium",children:r.employeeName})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Requested Amount"}),(0,P.jsxs)("p",{className:"font-medium text-lg",children:["$",r.amount.toFixed(2)]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Request Date"}),(0,P.jsx)("p",{className:"font-medium",children:tP(new Date(r.createdAt),"PPP")})]}),r.updatedAt&&(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Last Updated"}),(0,P.jsx)("p",{className:"font-medium",children:tP(new Date(r.updatedAt),"PPP")})]})]}),void 0!==r.interestRate&&r.repaymentTerm&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)($j,{}),(0,P.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[(0,P.jsx)("h4",{className:"font-semibold",children:"Repayment Details"}),(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Interest Rate"}),(0,P.jsxs)("p",{className:"font-medium",children:[r.interestRate,"% per year"]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Repayment Term"}),(0,P.jsxs)("p",{className:"font-medium",children:[r.repaymentTerm," months"]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Total Amount"}),(0,P.jsxs)("p",{className:"font-medium text-lg",children:["$",null===(t=r.totalAmount)||void 0===t?void 0:t.toFixed(2)]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Monthly Payment"}),(0,P.jsxs)("p",{className:"font-medium text-lg",children:["$",null===(n=r.monthlyPayment)||void 0===n?void 0:n.toFixed(2)]})]})]})]})]}),r.purpose&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)($j,{}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Loan Purpose"}),(0,P.jsx)("p",{className:"mt-1 text-sm bg-muted/50 p-3 rounded-md",children:r.purpose})]})]}),r.notes&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)($j,{}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Company Notes"}),(0,P.jsx)("p",{className:"mt-1 text-sm bg-muted/50 p-3 rounded-md",children:r.notes})]})]}),"rejected"===r.status&&r.rejectionReason&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)($j,{}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{className:"text-muted-foreground",children:"Rejection Reason"}),(0,P.jsx)("p",{className:"mt-1 text-sm bg-destructive/10 text-destructive p-3 rounded-md",children:r.rejectionReason})]})]}),("company"===l||"admin"===l)&&"pending"===r.status&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)($j,{}),p?(0,P.jsxs)("div",{className:"space-y-3",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"rejection",children:"Rejection Reason *"}),(0,P.jsx)(Hj,{id:"rejection",placeholder:"Please provide a reason for rejection...",value:h,onChange:e=>f(e.target.value),className:"mt-1",required:!0})]}),(0,P.jsxs)("div",{className:"flex gap-2",children:[(0,P.jsx)(dc,{variant:"outline",onClick:()=>{m(!1),f("")},className:"flex-1",children:"Cancel"}),(0,P.jsx)(dc,{variant:"destructive",onClick:()=>{a&&h.trim()&&(a(r.id,h),f(""),m(!1),s(!1))},disabled:!h.trim(),className:"flex-1",children:"Confirm Rejection"})]})]}):(0,P.jsxs)("div",{className:"space-y-3",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"notes",children:"Add Notes (Optional)"}),(0,P.jsx)(Hj,{id:"notes",placeholder:"Add any internal notes about this loan...",value:c,onChange:e=>u(e.target.value),className:"mt-1"})]}),(0,P.jsxs)("div",{className:"flex gap-2",children:[(0,P.jsx)(dc,{onClick:()=>{o&&(o(r.id,c),u(""),s(!1))},className:"flex-1",children:"Approve Loan"}),(0,P.jsx)(dc,{variant:"destructive",onClick:()=>m(!0),className:"flex-1",children:"Reject Loan"})]})]})]})]})]})})},iP=()=>{const[e,t]=(0,d.useState)(null),[n,r]=(0,d.useState)([]),[i,s]=(0,d.useState)(""),[o,a]=(0,d.useState)(""),[c,u]=(0,d.useState)({3:5,6:7,12:10}),[h,f]=(0,d.useState)("6"),[p,m]=(0,d.useState)(!0),[g,v]=(0,d.useState)(null),[y,w]=(0,d.useState)(!1),b=Pl(),{toast:E}=x();(0,d.useEffect)(()=>{const e=np(W_,async e=>{if(e)try{const n=await mk(gN(K_,"employees",e.uid));if(n.exists()){const r=n.data();t(r);const i=await mk(gN(K_,"companies",r.companyId));if(i.exists()){const e=i.data();if(e.interestRates)u(e.interestRates);else if(e.defaultInterestRate){const t=e.defaultInterestRate;u({3:t,6:t,12:t})}}await S(e.uid)}}catch(n){E({title:"Error",description:n.message,variant:"destructive"})}finally{m(!1)}else b("/employee/login")});return()=>e()},[b,E]);const S=async e=>{const t=tk(mN(K_,"loans"),rk("employeeId","==",e)),n=(await vk(t)).docs.map(e=>l({id:e.id},e.data()));r(n)};if(p)return(0,P.jsx)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:(0,P.jsx)("div",{className:"container py-8",children:(0,P.jsxs)("div",{className:"space-y-4",children:[(0,P.jsx)(jj,{className:"h-12 w-64"}),(0,P.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,P.jsx)(jj,{className:"h-32"}),(0,P.jsx)(jj,{className:"h-32"}),(0,P.jsx)(jj,{className:"h-32"})]}),(0,P.jsx)(jj,{className:"h-96"})]})})});const N=n.filter(e=>"pending"===e.status),k=n.filter(e=>"approved"===e.status),_=n.filter(e=>"rejected"===e.status),T=c[h],C=i?Aj(parseFloat(i)||0,T,parseInt(h)||6):null;return(0,P.jsxs)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:[(0,P.jsxs)("div",{className:"container py-8",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center mb-8 animate-in fade-in duration-500",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:null===e||void 0===e?void 0:e.name}),(0,P.jsxs)("p",{className:"text-lg text-muted-foreground",children:["Salary: $",null===e||void 0===e?void 0:e.salary.toFixed(2)]})]}),(0,P.jsx)(dc,{onClick:async()=>{try{await rp(W_),b("/employee/login")}catch(e){E({title:"Error",description:e.message,variant:"destructive"})}},variant:"outline",children:"Logout"})]}),(0,P.jsxs)("div",{className:"grid gap-6 md:grid-cols-4 mb-8 animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Total Loans"}),(0,P.jsx)(Lc,{className:"h-4 w-4 text-muted-foreground"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold",children:n.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"All requests"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Pending"}),(0,P.jsx)(Oc,{className:"h-4 w-4 text-yellow-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:N.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting review"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Approved"}),(0,P.jsx)(Mc,{className:"h-4 w-4 text-green-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-green-600",children:k.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Successful"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Rejected"}),(0,P.jsx)(Uj,{className:"h-4 w-4 text-red-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-red-600",children:_.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Declined"})]})]})]}),(0,P.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,P.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-left duration-700",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Request Loan"}),(0,P.jsx)(xc,{children:"Request a loan up to your salary amount"})]}),(0,P.jsx)(Ec,{children:(0,P.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=parseFloat(i),r=c[h],l=parseInt(h);if(e)if(n>e.salary)E({title:"Error",description:"Loan amount cannot exceed your salary",variant:"destructive"});else if(o.trim())try{var u;const t=Aj(n,r,l);await function(e,t){const n=Ig(e.firestore,bN),r=gN(e),i=ck(e.converter,t);return bk(n,[ON(DN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qw.exists(!1))]).then(()=>r)}(mN(K_,"loans"),{employeeId:null===(u=W_.currentUser)||void 0===u?void 0:u.uid,companyId:e.companyId,amount:n,purpose:o,interestRate:r,repaymentTerm:l,totalAmount:t.totalAmount,monthlyPayment:t.monthlyPayment,status:"pending",createdAt:(new Date).toISOString()}),E({title:"Success",description:"Loan request submitted successfully"}),s(""),a(""),f("6"),W_.currentUser&&await S(W_.currentUser.uid)}catch(d){E({title:"Error",description:d.message,variant:"destructive"})}else E({title:"Error",description:"Please provide a purpose for the loan",variant:"destructive"})},className:"space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsxs)(Z_,{htmlFor:"amount",children:["Loan Amount (Max: $",null===e||void 0===e?void 0:e.salary.toFixed(2),")"]}),(0,P.jsx)(Q_,{id:"amount",type:"number",step:"0.01",max:null===e||void 0===e?void 0:e.salary,value:i,onChange:e=>s(e.target.value),placeholder:"Enter amount",required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"purpose",children:"Loan Purpose *"}),(0,P.jsx)(Hj,{id:"purpose",placeholder:"Explain why you need this loan...",value:o,onChange:e=>a(e.target.value),className:"min-h-[80px]",required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"term",children:"Repayment Term"}),(0,P.jsxs)(oj,{value:h,onValueChange:e=>f(e),children:[(0,P.jsx)(lj,{id:"term",children:(0,P.jsx)(aj,{})}),(0,P.jsxs)(dj,{children:[(0,P.jsxs)(hj,{value:"3",children:["3 months - ",c[3],"% interest"]}),(0,P.jsxs)(hj,{value:"6",children:["6 months - ",c[6],"% interest"]}),(0,P.jsxs)(hj,{value:"12",children:["12 months - ",c[12],"% interest"]})]})]}),(0,P.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Interest rate: ",(0,P.jsxs)("span",{className:"font-semibold",children:[T,"%"]})," (set by company)"]})]}),C&&i&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)($j,{}),(0,P.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2 text-sm",children:[(0,P.jsx)("h4",{className:"font-semibold mb-2",children:"Loan Summary"}),(0,P.jsxs)("div",{className:"flex justify-between",children:[(0,P.jsx)("span",{className:"text-muted-foreground",children:"Principal Amount:"}),(0,P.jsxs)("span",{className:"font-medium",children:["$",parseFloat(i).toFixed(2)]})]}),(0,P.jsxs)("div",{className:"flex justify-between",children:[(0,P.jsx)("span",{className:"text-muted-foreground",children:"Total Interest:"}),(0,P.jsxs)("span",{className:"font-medium",children:["$",C.totalInterest.toFixed(2)]})]}),(0,P.jsx)($j,{}),(0,P.jsxs)("div",{className:"flex justify-between text-base",children:[(0,P.jsx)("span",{className:"font-semibold",children:"Total Amount:"}),(0,P.jsxs)("span",{className:"font-bold",children:["$",C.totalAmount.toFixed(2)]})]}),(0,P.jsxs)("div",{className:"flex justify-between",children:[(0,P.jsx)("span",{className:"text-muted-foreground",children:"Monthly Payment:"}),(0,P.jsxs)("span",{className:"font-semibold text-primary",children:["$",C.monthlyPayment.toFixed(2)]})]})]})]}),(0,P.jsx)(dc,{type:"submit",className:"w-full",children:"Submit Loan Request"})]})})]}),(0,P.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-right duration-700",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Loan History"}),(0,P.jsxs)(xc,{children:["Your loan requests and their status (",n.length," total)"]})]}),(0,P.jsx)(Ec,{children:n.length>0?(0,P.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,P.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>(e=>{v(e),w(!0)})(e),children:[(0,P.jsxs)("div",{className:"flex-1",children:[(0,P.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,P.jsxs)("span",{className:"font-semibold",children:["$",e.amount.toFixed(2)]}),(0,P.jsx)(kc,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"secondary",className:"text-xs",children:e.status})]}),(0,P.jsxs)("p",{className:"text-xs text-muted-foreground",children:[new Date(e.createdAt).toLocaleDateString(),e.repaymentTerm&&" \u2022 ".concat(e.repaymentTerm," months")]}),e.purpose&&(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:e.purpose})]}),(0,P.jsx)(dc,{size:"sm",variant:"ghost",children:(0,P.jsx)(Oj,{className:"h-4 w-4"})})]},e.id))}):(0,P.jsxs)("div",{className:"text-center py-8",children:[(0,P.jsx)(Lc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,P.jsx)("p",{className:"text-muted-foreground text-sm",children:"No loan history yet"})]})})]})]})]}),(0,P.jsx)(rP,{loan:g,open:y,onOpenChange:w,userRole:"employee"})]})},sP=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,s]=(0,d.useState)(!1),o=Pl(),{toast:a}=x();(0,d.useEffect)(()=>{},[]);return(0,P.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,P.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Admin Login"}),(0,P.jsx)(xc,{children:"Sign in to manage the entire platform"})]}),(0,P.jsx)(Ec,{children:(0,P.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{const t=await tp(W_,e,n);console.log("Login successful for user:",t.user.uid);const r=await mk(gN(K_,"admins",t.user.uid));if(console.log("Admin document exists:",r.exists()),!r.exists())return console.log("Admin document not found, signing out user"),await rp(W_),void a({title:"Access Denied",description:"Your account is not authorized for admin access. Please register as admin first.",variant:"destructive"});console.log("Admin document found, navigating to dashboard"),a({title:"Welcome back",description:"You are now logged in as an administrator."}),o("/admin/dashboard")}catch(r){console.error("Login error:",r),a({title:"Login Failed",description:r.message,variant:"destructive"})}finally{s(!1)}},className:"space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"email",children:"Email"}),(0,P.jsx)(Q_,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"password",children:"Password"}),(0,P.jsx)(Q_,{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,P.jsx)(dc,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login"}),(0,P.jsx)("div",{className:"text-center",children:(0,P.jsx)(dc,{type:"button",variant:"outline",onClick:async()=>{const e=prompt("Enter admin email:"),t=prompt("Enter admin password:"),n=prompt("Enter admin name:");if(e&&t&&n)try{const r=await ep(W_,e,t);await yk(gN(K_,"admins",r.user.uid),{name:n,email:e,createdAt:(new Date).toISOString()}),a({title:"Success",description:"Admin account created successfully! You can now login."})}catch(r){a({title:"Error",description:r.message,variant:"destructive"})}else a({title:"Error",description:"All fields are required",variant:"destructive"})},className:"w-full",children:"Create Admin Account"})}),(0,P.jsxs)("div",{className:"text-sm text-center text-muted-foreground space-y-2",children:[(0,P.jsxs)("p",{children:["Need help? ",(0,P.jsx)(oc,{to:"/",className:"text-primary hover:underline",children:"Contact support"})]}),(0,P.jsxs)("p",{children:["Don't have an admin account?"," ",(0,P.jsx)(oc,{to:"/admin/register",className:"text-primary hover:underline",children:"Register here"})]}),(0,P.jsxs)("p",{className:"text-xs",children:["\ud83d\udca1 Quick access: Press ",(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"Ctrl"})," + ",(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"Shift"})," + ",(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"A"})," from anywhere"]})]})]})})]})})},oP=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,s]=(0,d.useState)(""),[o,a]=(0,d.useState)(""),[l,c]=(0,d.useState)(!1),u=Pl(),{toast:h}=x();return(0,P.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,P.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,P.jsxs)(wc,{children:[(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[(0,P.jsx)(jc,{className:"h-6 w-6 text-primary"}),(0,P.jsx)(bc,{children:"Admin Registration"})]}),(0,P.jsx)(xc,{children:"Create a new administrator account"})]}),(0,P.jsx)(Ec,{children:(0,P.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i===o)if(i.length<6)h({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});else{c(!0);try{const t=await ep(W_,n,i);await yk(gN(K_,"admins",t.user.uid),{name:e,email:n,createdAt:(new Date).toISOString()}),h({title:"Success",description:"Admin account created successfully"}),u("/admin/login")}catch(r){h({title:"Error",description:r.message,variant:"destructive"})}finally{c(!1)}}else h({title:"Error",description:"Passwords do not match",variant:"destructive"})},className:"space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"name",children:"Full Name"}),(0,P.jsx)(Q_,{id:"name",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your full name",required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"email",children:"Email Address"}),(0,P.jsx)(Q_,{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),placeholder:"admin@example.com",required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"password",children:"Password"}),(0,P.jsx)(Q_,{id:"password",type:"password",value:i,onChange:e=>s(e.target.value),placeholder:"Minimum 6 characters",required:!0})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,P.jsx)(Q_,{id:"confirmPassword",type:"password",value:o,onChange:e=>a(e.target.value),placeholder:"Re-enter your password",required:!0})]}),(0,P.jsx)(dc,{type:"submit",className:"w-full",disabled:l,children:l?"Creating Account...":"Create Admin Account"}),(0,P.jsxs)("div",{className:"text-sm text-center text-muted-foreground space-y-2",children:[(0,P.jsxs)("p",{children:["Already have an admin account?"," ",(0,P.jsx)(oc,{to:"/admin/login",className:"text-primary hover:underline",children:"Login here"})]}),(0,P.jsxs)("p",{className:"text-xs",children:["\ud83d\udca1 Quick access: Press ",(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"Ctrl"})," + ",(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"Shift"})," + ",(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"A"})," from anywhere"]})]})]})})]})})},aP=Rt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),lP=Rt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),cP=e=>{let{open:t,onOpenChange:n}=e;const[r,i]=(0,d.useState)("1"),[s,o]=(0,d.useState)("1"),[a,l]=(0,d.useState)("1"),[c,u]=(0,d.useState)(!1),[h,f]=(0,d.useState)(!1),{toast:p}=x();(0,d.useEffect)(()=>{t&&(f(!0),i("1"),o("1"),l("1"),f(!1))},[t]);const m=1!==parseFloat(r)||1!==parseFloat(s)||1!==parseFloat(a);return(0,P.jsx)(YA,{open:t,onOpenChange:n,children:(0,P.jsxs)(JA,{className:"max-w-md",children:[(0,P.jsxs)(ZA,{children:[(0,P.jsxs)(eR,{className:"flex items-center gap-2",children:[(0,P.jsx)(Ac,{className:"h-5 w-5 text-primary"}),"Global Interest Rate Settings"]}),(0,P.jsx)(tR,{children:"Set global interest rates that will apply to all companies. This will update all existing companies."})]}),(0,P.jsxs)("div",{className:"space-y-6 py-4",children:[(0,P.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,P.jsxs)("div",{className:"flex items-start gap-2",children:[(0,P.jsx)(aP,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),(0,P.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,P.jsx)("p",{className:"font-semibold",children:"Important:"}),(0,P.jsx)("p",{children:"This will update interest rates for ALL companies in the system. Existing loans will keep their original rates."})]})]})}),(0,P.jsx)($j,{}),(0,P.jsxs)("div",{className:"space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"rate3",children:"3 Months (%)"}),(0,P.jsx)(Q_,{id:"rate3",type:"number",step:"0.1",min:"0",max:"50",value:r,onChange:e=>i(e.target.value),disabled:h}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Interest rate for 3-month repayment terms"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"rate6",children:"6 Months (%)"}),(0,P.jsx)(Q_,{id:"rate6",type:"number",step:"0.1",min:"0",max:"50",value:s,onChange:e=>o(e.target.value),disabled:h}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Interest rate for 6-month repayment terms"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z_,{htmlFor:"rate12",children:"12 Months (%)"}),(0,P.jsx)(Q_,{id:"rate12",type:"number",step:"0.1",min:"0",max:"50",value:a,onChange:e=>l(e.target.value),disabled:h}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Interest rate for 12-month repayment terms"})]})]}),m&&(0,P.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,P.jsx)("h4",{className:"font-semibold mb-2 text-sm",children:"Preview Changes"}),(0,P.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[(0,P.jsx)("span",{className:"text-muted-foreground",children:"3 months:"}),(0,P.jsx)("span",{className:"line-through text-muted-foreground",children:"1%"}),(0,P.jsxs)("span",{className:"text-primary font-semibold",children:["\u2192 ",r,"%"]})]}),(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[(0,P.jsx)("span",{className:"text-muted-foreground",children:"6 months:"}),(0,P.jsx)("span",{className:"line-through text-muted-foreground",children:"1%"}),(0,P.jsxs)("span",{className:"text-primary font-semibold",children:["\u2192 ",s,"%"]})]}),(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[(0,P.jsx)("span",{className:"text-muted-foreground",children:"12 months:"}),(0,P.jsx)("span",{className:"line-through text-muted-foreground",children:"1%"}),(0,P.jsxs)("span",{className:"text-primary font-semibold",children:["\u2192 ",a,"%"]})]})]})]})]}),(0,P.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,P.jsx)(dc,{variant:"outline",onClick:()=>n(!1),disabled:c,children:"Cancel"}),(0,P.jsxs)(dc,{onClick:async()=>{u(!0);try{const e={3:parseFloat(r),6:parseFloat(s),12:parseFloat(a)},t=(await vk(mN(K_,"companies"))).docs.map(async t=>{await wk(gN(K_,"companies",t.id),{interestRates:e})});await Promise.all(t),p({title:"Success",description:"Global interest rates updated to ".concat(r,"%, ").concat(s,"%, ").concat(a,"% for all companies.")}),n(!1)}catch(e){p({title:"Error",description:"Failed to update global interest rates. Please try again.",variant:"destructive"})}finally{u(!1)}},disabled:!m||c||h,className:"gap-2",children:[(0,P.jsx)(lP,{className:"h-4 w-4"}),c?"Updating...":"Update All Companies"]})]})]})})},uP=Rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dP=Rt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),hP=["id"],fP=["id"],pP=["id"],mP=()=>{const[e,t]=(0,d.useState)(null),[n,r]=(0,d.useState)([]),[i,s]=(0,d.useState)([]),[o,a]=(0,d.useState)([]),[u,h]=(0,d.useState)(!0),[f,p]=(0,d.useState)(null),[m,g]=(0,d.useState)(!1),[v,y]=(0,d.useState)(null),[w,b]=(0,d.useState)(!1),[E,S]=(0,d.useState)(""),[N,k]=(0,d.useState)(""),[_,T]=(0,d.useState)(""),[C,I]=(0,d.useState)("all"),j=Pl(),{toast:A}=x();(0,d.useEffect)(()=>(console.log("AdminDashboard: Component mounted"),()=>{console.log("AdminDashboard: Component unmounting")}),[]),(0,d.useEffect)(()=>{const e=np(W_,async e=>{if(e){console.log("AdminDashboard: Auth state changed - user still logged in:",e.uid);try{await e.getIdToken(!0),console.log("AdminDashboard: Token refreshed successfully")}catch(t){console.error("AdminDashboard: Token refresh failed:",t)}}else console.log("AdminDashboard: Auth state changed - user logged out")});return()=>e()},[]),(0,d.useEffect)(()=>{console.log("AdminDashboard: useEffect triggered - loading dashboard"),(async()=>{try{const e=W_.currentUser;if(!e)return console.log("AdminDashboard: No current user, redirecting to login"),void j("/admin/login");console.log("AdminDashboard: Loading admin data for user:",e.uid);const n=await mk(gN(K_,"admins",e.uid));if(!n.exists())return console.log("AdminDashboard: Admin document not found"),void j("/admin/login");console.log("AdminDashboard: Setting admin data and loading all data"),t(l({id:n.id},n.data())),await L(),console.log("AdminDashboard: All data loaded successfully")}catch(e){console.error("AdminDashboard: Failed to load admin dashboard:",e),console.error("AdminDashboard: Error details:",e.message,e.code),A({title:"Error",description:"Unable to load admin dashboard. Please try again.",variant:"destructive"})}finally{h(!1)}})()},[j,A]);const R=async()=>{const e=(await vk(mN(K_,"companies"))).docs.map(e=>{const t=e.data(),{id:n}=t,r=c(t,hP);return l({id:e.id},r)});return console.log("Loaded companies:",e),r(e),e},D=async()=>{try{console.log("AdminDashboard: Starting company migration");const e=await vk(mN(K_,"companies"));console.log("AdminDashboard: Found",e.docs.length,"companies");const t=e.docs.map(async e=>{e.data().status||(console.log("AdminDashboard: Migrating company:",e.id,"to pending status"),await wk(gN(K_,"companies",e.id),{status:"pending"}))});await Promise.all(t),console.log("AdminDashboard: Company status migration completed")}catch(e){throw console.error("AdminDashboard: Error migrating company status:",e),e}},O=async()=>{const e=(await vk(mN(K_,"employees"))).docs.map(e=>{const t=e.data(),{id:n}=t,r=c(t,fP);return l({id:e.id},r)});return s(e),e},M=async(e,t)=>{console.log("AdminDashboard: Loading loans from database");const r=await vk(mN(K_,"loans"));console.log("AdminDashboard: Found",r.docs.length,"total loans in database");const s=null!==t&&void 0!==t?t:i,o=new Map((null!==e&&void 0!==e?e:n).map(e=>[e.id,e])),u=new Map(s.map(e=>[e.id,e])),d=r.docs.map(e=>{var t,n,r,i;const s=e.data(),{id:a}=s,d=c(s,pP),h=u.get(s.employeeId),f=o.get(s.companyId);return console.log("AdminDashboard: Processing loan",e.id,"for employee",s.employeeId),l(l({id:e.id},d),{},{employeeName:null!==(t=null!==(n=s.employeeName)&&void 0!==n?n:null===h||void 0===h?void 0:h.name)&&void 0!==t?t:"Unknown",companyName:null!==(r=null!==(i=s.companyName)&&void 0!==i?i:null===f||void 0===f?void 0:f.name)&&void 0!==r?r:"Unknown"})}).sort((e,t)=>{var n,r;return new Date(null!==(n=t.createdAt)&&void 0!==n?n:0).getTime()-new Date(null!==(r=e.createdAt)&&void 0!==r?r:0).getTime()});return console.log("AdminDashboard: Processed",d.length,"loans"),a(d),d},L=async()=>{console.log("AdminDashboard: Starting loadAllData"),h(!0);try{console.log("AdminDashboard: Running company migration"),await D(),console.log("AdminDashboard: Loading companies and employees");const[e,t]=await Promise.all([R(),O()]);console.log("AdminDashboard: Loading loans"),await M(e,t),console.log("AdminDashboard: All data loaded successfully")}catch(e){console.error("AdminDashboard: Failed to refresh admin data:",e),A({title:"Error",description:"Unable to refresh data. Please try again.",variant:"destructive"})}finally{h(!1)}},F=async()=>{try{await M()}catch(e){console.error("Failed to refresh loans:",e),A({title:"Error",description:"Unable to refresh loans. Please try again.",variant:"destructive"})}},U=e=>{p(e),g(!0)},V=(0,d.useMemo)(()=>E?n.filter(e=>"".concat(e.name," ").concat(e.email).toLowerCase().includes(E.toLowerCase())):n,[n,E]),z=(0,d.useMemo)(()=>N?i.filter(e=>"".concat(e.name," ").concat(e.email).toLowerCase().includes(N.toLowerCase())):i,[i,N]),B=(0,d.useMemo)(()=>o.filter(e=>{var t,n,r;const i="all"===C||e.status===C;if(!_)return i;const s="".concat(null!==(t=e.employeeName)&&void 0!==t?t:""," ").concat(null!==(n=e.companyName)&&void 0!==n?n:""," ").concat(null!==(r=e.purpose)&&void 0!==r?r:"").toLowerCase();return i&&s.includes(_.toLowerCase())}),[o,_,C]),q=o.filter(e=>"pending"===e.status),H=o.filter(e=>"approved"===e.status);o.filter(e=>"rejected"===e.status);return u?(0,P.jsx)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:(0,P.jsx)("div",{className:"container py-8",children:(0,P.jsxs)("div",{className:"space-y-4",children:[(0,P.jsx)(jj,{className:"h-12 w-64"}),(0,P.jsxs)("div",{className:"grid gap-6 md:grid-cols-4",children:[(0,P.jsx)(jj,{className:"h-32"}),(0,P.jsx)(jj,{className:"h-32"}),(0,P.jsx)(jj,{className:"h-32"}),(0,P.jsx)(jj,{className:"h-32"})]}),(0,P.jsx)(jj,{className:"h-96"})]})})}):(0,P.jsxs)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:[(0,P.jsxs)("div",{className:"container py-8 space-y-8",children:[(0,P.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 animate-in fade-in duration-500",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:null!==e&&void 0!==e&&e.name?"Welcome, ".concat(e.name):"Admin Dashboard"}),(0,P.jsx)("p",{className:"text-muted-foreground",children:"Full overview of companies, employees, and loans"})]}),(0,P.jsxs)("div",{className:"flex gap-2",children:[(0,P.jsxs)(dc,{variant:"outline",onClick:()=>b(!0),className:"gap-2",children:[(0,P.jsx)(uP,{className:"h-4 w-4"}),"Global Interest Rates"]}),(0,P.jsx)(dc,{variant:"outline",onClick:async()=>{await D(),await R(),A({title:"Migration Complete",description:"Company statuses have been updated."})},className:"gap-2",children:"Migrate Companies"}),(0,P.jsxs)(dc,{variant:"outline",onClick:async()=>{try{await rp(W_),j("/admin/login")}catch(e){A({title:"Error",description:e.message,variant:"destructive"})}},className:"gap-2",children:[(0,P.jsx)(dP,{className:"h-4 w-4"}),"Sign out"]})]})]}),(0,P.jsxs)("div",{className:"grid gap-6 md:grid-cols-4 animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Total Companies"}),(0,P.jsx)(Tc,{className:"h-4 w-4 text-muted-foreground"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold",children:n.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Registered companies"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Total Employees"}),(0,P.jsx)(Dc,{className:"h-4 w-4 text-muted-foreground"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold",children:i.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Active employees"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Approved Loans"}),(0,P.jsx)(Ac,{className:"h-4 w-4 text-green-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-green-600",children:H.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Across all companies"})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,P.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,P.jsx)(bc,{className:"text-sm font-medium",children:"Pending Loans"}),(0,P.jsx)(Pc,{className:"h-4 w-4 text-yellow-600"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:q.length}),(0,P.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting decisions"})]})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Companies"}),(0,P.jsx)(xc,{children:"Manage company approvals and view company information"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)(Pj,{searchTerm:E,onSearchChange:S,placeholder:"Search companies by name or email..."}),V.length>0?(0,P.jsxs)(Sj,{children:[(0,P.jsx)(Nj,{children:(0,P.jsxs)(_j,{children:[(0,P.jsx)(Tj,{children:"Name"}),(0,P.jsx)(Tj,{children:"Email"}),(0,P.jsx)(Tj,{children:"Balance"}),(0,P.jsx)(Tj,{children:"Status"}),(0,P.jsx)(Tj,{children:"Interest Rates"}),(0,P.jsx)(Tj,{children:"Actions"})]})}),(0,P.jsx)(kj,{children:V.map(e=>{var t,n,r;return(0,P.jsxs)(_j,{className:"hover:bg-muted/50 transition-colors",children:[(0,P.jsx)(Cj,{className:"font-medium",children:e.name}),(0,P.jsx)(Cj,{children:e.email}),(0,P.jsxs)(Cj,{className:"font-semibold",children:["$",null!==(t=null===(n=e.balance)||void 0===n||null===(r=n.toFixed)||void 0===r?void 0:r.call(n,2))&&void 0!==t?t:e.balance]}),(0,P.jsx)(Cj,{children:(0,P.jsx)(kc,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"secondary",children:e.status||"pending"})}),(0,P.jsx)(Cj,{children:e.interestRates?(0,P.jsxs)("span",{className:"text-sm text-muted-foreground",children:["3m: ",e.interestRates[3],"% \u2022 6m: ",e.interestRates[6],"% \u2022 12m: ",e.interestRates[12],"%"]}):(0,P.jsx)("span",{className:"text-sm text-muted-foreground",children:"Not configured"})}),(0,P.jsx)(Cj,{children:"pending"===e.status?(0,P.jsxs)("div",{className:"flex gap-2",children:[(0,P.jsxs)(dc,{size:"sm",variant:"default",onClick:()=>{console.log("Approve button clicked for company:",e.id),(async e=>{try{console.log("Approving company:",e),await wk(gN(K_,"companies",e),{status:"approved",approvedAt:(new Date).toISOString()}),A({title:"Company approved",description:"The company has been approved successfully."}),await R()}catch(t){console.error("Error approving company:",t),A({title:"Error",description:t.message,variant:"destructive"})}})(e.id)},className:"gap-1",children:[(0,P.jsx)(Mc,{className:"h-4 w-4"}),"Approve"]}),(0,P.jsxs)(dc,{size:"sm",variant:"destructive",onClick:()=>{console.log("Reject button clicked for company:",e.id);const t=prompt("Reason for rejection:");t&&(async(e,t)=>{try{console.log("Rejecting company:",e,"Reason:",t),await wk(gN(K_,"companies",e),{status:"rejected",rejectionReason:t,rejectedAt:(new Date).toISOString()}),A({title:"Company rejected",description:"The company has been rejected with the provided reason."}),await R()}catch(n){console.error("Error rejecting company:",n),A({title:"Error",description:n.message,variant:"destructive"})}})(e.id,t)},className:"gap-1",children:[(0,P.jsx)(Uj,{className:"h-4 w-4"}),"Reject"]})]}):(0,P.jsx)("span",{className:"text-sm text-muted-foreground",children:e.status||"No status"})})]},e.id)})})]}):(0,P.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No companies match your search."})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Employees"}),(0,P.jsx)(xc,{children:"Employees across every company"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)(Pj,{searchTerm:N,onSearchChange:k,placeholder:"Search employees by name or email..."}),z.length>0?(0,P.jsxs)(Sj,{children:[(0,P.jsx)(Nj,{children:(0,P.jsxs)(_j,{children:[(0,P.jsx)(Tj,{children:"Name"}),(0,P.jsx)(Tj,{children:"Email"}),(0,P.jsx)(Tj,{children:"Company"}),(0,P.jsx)(Tj,{children:"Salary"}),(0,P.jsx)(Tj,{children:"Actions"})]})}),(0,P.jsx)(kj,{children:z.map(e=>{var t,r,i,s;const o=n.find(t=>t.id===e.companyId);return(0,P.jsxs)(_j,{className:"hover:bg-muted/50 transition-colors",children:[(0,P.jsx)(Cj,{className:"font-medium",children:e.name}),(0,P.jsx)(Cj,{children:e.email}),(0,P.jsx)(Cj,{children:null!==(t=null===o||void 0===o?void 0:o.name)&&void 0!==t?t:"Unknown"}),(0,P.jsxs)(Cj,{className:"font-semibold",children:["$",null!==(r=null===(i=e.salary)||void 0===i||null===(s=i.toFixed)||void 0===s?void 0:s.call(i,2))&&void 0!==r?r:e.salary]}),(0,P.jsx)(Cj,{children:(0,P.jsxs)(dc,{size:"sm",variant:"outline",onClick:()=>y(e),className:"gap-1",children:[(0,P.jsx)(Pc,{className:"h-4 w-4"}),"View Loans"]})})]},e.id)})})]}):(0,P.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No employees match your search."})]})]}),(0,P.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-bottom duration-700",children:[(0,P.jsxs)(wc,{children:[(0,P.jsx)(bc,{children:"Loans"}),(0,P.jsx)(xc,{children:"Monitor and manage every loan request"})]}),(0,P.jsxs)(Ec,{children:[(0,P.jsx)(Pj,{searchTerm:_,onSearchChange:T,filterStatus:C,onFilterChange:I,showStatusFilter:!0,placeholder:"Search loans by employee, company, or purpose..."}),B.length>0?(0,P.jsxs)(Sj,{children:[(0,P.jsx)(Nj,{children:(0,P.jsxs)(_j,{children:[(0,P.jsx)(Tj,{children:"Employee"}),(0,P.jsx)(Tj,{children:"Company"}),(0,P.jsx)(Tj,{children:"Amount"}),(0,P.jsx)(Tj,{children:"Status"}),(0,P.jsx)(Tj,{children:"Requested"}),(0,P.jsx)(Tj,{})]})}),(0,P.jsx)(kj,{children:B.map(e=>{var t,n;return(0,P.jsxs)(_j,{className:"hover:bg-muted/50 transition-colors",children:[(0,P.jsx)(Cj,{className:"font-medium",children:null!==(t=e.employeeName)&&void 0!==t?t:"Unknown"}),(0,P.jsx)(Cj,{children:null!==(n=e.companyName)&&void 0!==n?n:"Unknown"}),(0,P.jsxs)(Cj,{className:"font-semibold",children:["$",e.amount.toFixed(2)]}),(0,P.jsx)(Cj,{children:(0,P.jsx)(kc,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"secondary",children:e.status})}),(0,P.jsx)(Cj,{children:new Date(e.createdAt).toLocaleDateString()}),(0,P.jsx)(Cj,{className:"text-right",children:(0,P.jsx)(dc,{size:"sm",variant:"ghost",onClick:()=>U(e),children:"View"})})]},e.id)})})]}):(0,P.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No loans match your filters."})]})]})]}),v&&(0,P.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,P.jsx)("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:(0,P.jsxs)("div",{className:"p-6",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,P.jsx)("h2",{className:"text-2xl font-bold",children:"Employee Loan History"}),(0,P.jsx)(dc,{variant:"outline",onClick:()=>y(null),children:"Close"})]}),(0,P.jsx)(Mj,{employeeId:v.id,employeeName:v.name,onViewLoan:U,showActions:!0})]})})}),(0,P.jsx)(rP,{loan:f,open:m,onOpenChange:g,onApprove:async(e,t)=>{try{await wk(gN(K_,"loans",e),{status:"approved",notes:t||"",updatedAt:(new Date).toISOString()}),A({title:"Loan approved",description:"The loan has been approved successfully."}),await F()}catch(n){A({title:"Error",description:n.message,variant:"destructive"})}},onReject:async(e,t)=>{try{await wk(gN(K_,"loans",e),{status:"rejected",rejectionReason:t,updatedAt:(new Date).toISOString()}),A({title:"Loan rejected",description:"The loan has been rejected with the provided reason."}),await F()}catch(n){A({title:"Error",description:n.message,variant:"destructive"})}},userRole:"admin"}),(0,P.jsx)(cP,{open:w,onOpenChange:b})]})},gP=()=>{const e=Al(),t=e.pathname.includes("/company/dashboard"),n=e.pathname.includes("/employee/dashboard");return t||n?(0,P.jsx)("header",{className:"border-b bg-gradient-to-r from-primary/10 via-primary/5 to-background backdrop-blur-md shadow-md",children:(0,P.jsx)("div",{className:"container flex items-center justify-between h-16 px-4",children:(0,P.jsxs)(oc,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-foreground hover:opacity-90 transition-all",children:[(0,P.jsx)("img",{src:"/loanhub-logo.png",alt:"AdvanceMe",className:"h-8 w-8"}),(0,P.jsx)("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"AdvanceMe"})]})})}):(0,P.jsx)("header",{className:"border-b bg-gradient-to-r from-primary/10 via-primary/5 to-background backdrop-blur-md shadow-md",children:(0,P.jsxs)("div",{className:"container flex items-center justify-between h-16 px-4",children:[(0,P.jsxs)(oc,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-foreground hover:opacity-90 transition-all",children:[(0,P.jsx)("img",{src:"/loanhub-logo.png",alt:"AdvanceMe",className:"h-8 w-8"}),(0,P.jsx)("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"AdvanceMe"})]}),(0,P.jsxs)("nav",{className:"flex items-center gap-3",children:[(0,P.jsx)(dc,{variant:"ghost",className:"gap-2 hover:bg-primary/10 transition-all",asChild:!0,children:(0,P.jsxs)(oc,{to:"/company/login",children:[(0,P.jsx)(Tc,{className:"h-4 w-4"}),"Company"]})}),(0,P.jsx)(dc,{variant:"ghost",className:"gap-2 hover:bg-primary/10 transition-all",asChild:!0,children:(0,P.jsxs)(oc,{to:"/employee/login",children:[(0,P.jsx)(Ic,{className:"h-4 w-4"}),"Employee"]})}),(0,P.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground hidden sm:flex",children:[(0,P.jsx)(dc,{variant:"ghost",size:"sm",className:"gap-1 h-6 px-2 text-xs",asChild:!0,children:(0,P.jsxs)(oc,{to:"/admin/register",children:[(0,P.jsx)(jc,{className:"h-3 w-3"}),"Admin"]})}),(0,P.jsx)("span",{className:"text-muted-foreground",children:"or"}),(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"Ctrl"})," + ",(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"Shift"})," + ",(0,P.jsx)("kbd",{className:"px-1 py-0.5 text-xs bg-muted rounded",children:"A"})]})]})]})})},vP=e=>{let{children:t,redirectTo:n,userType:r}=e;const[i,s]=(0,d.useState)(!0),[o,a]=(0,d.useState)(!1),[l,c]=(0,d.useState)(!1);if((0,d.useEffect)(()=>{console.log("ProtectedRoute: Setting up auth listener for userType:",r);const e=np(W_,async e=>{if(console.log("ProtectedRoute: Auth state changed, user:",e?e.uid:"null"),!e)return console.log("ProtectedRoute: No user, setting not authenticated"),a(!1),void s(!1);if(a(!0),!r)return console.log("ProtectedRoute: No userType specified, allowing access"),c(!0),void s(!1);try{const t="company"===r?"companies":"employee"===r?"employees":"admins";console.log("ProtectedRoute: Checking user in collection:",t);const n=await mk(gN(K_,t,e.uid));if(!n.exists())return console.log("ProtectedRoute: User document not found in",t),c(!1),void s(!1);if("company"===r){const e=n.data(),t="approved"===e.status;console.log("ProtectedRoute: Company status:",e.status,"Approved:",t),c(t)}else console.log("ProtectedRoute: User type",r,"has access"),c(!0)}catch(t){console.error("ProtectedRoute: Error checking user type:",t),c(!1)}s(!1)});return()=>{console.log("ProtectedRoute: Cleaning up auth listener"),e()}},[r]),i)return(0,P.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-primary)"},children:(0,P.jsx)("div",{className:"text-center",children:(0,P.jsx)("div",{className:"text-2xl font-semibold text-foreground",children:"Loading..."})})});if(!o)return(0,P.jsx)(Ql,{to:n,replace:!0});if(!l){const e="company"===r?"/employee/dashboard":"employee"===r?"/company/dashboard":"/";return(0,P.jsx)(Ql,{to:e,replace:!0})}return(0,P.jsx)(P.Fragment,{children:t})},yP=new La,wP=()=>((()=>{const e=Pl(),{toast:t}=x();(0,d.useEffect)(()=>{const n=n=>{("a"===n.key||"A"===n.key)&&n.ctrlKey&&n.shiftKey&&(n.preventDefault(),t({title:"Admin Access",description:"Navigating to admin login..."}),e("/admin/login"))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,t])})(),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(gP,{}),(0,P.jsxs)($l,{children:[(0,P.jsx)(Yl,{path:"/",element:(0,P.jsx)(Fc,{})}),(0,P.jsx)(Yl,{path:"/company/register",element:(0,P.jsx)(fj,{})}),(0,P.jsx)(Yl,{path:"/company/login",element:(0,P.jsx)(pj,{})}),(0,P.jsx)(Yl,{path:"/company/dashboard",element:(0,P.jsx)(vP,{redirectTo:"/company/login",userType:"company",children:(0,P.jsx)(Vj,{})})}),(0,P.jsx)(Yl,{path:"/employee/register",element:(0,P.jsx)(zj,{})}),(0,P.jsx)(Yl,{path:"/employee/login",element:(0,P.jsx)(Bj,{})}),(0,P.jsx)(Yl,{path:"/employee/dashboard",element:(0,P.jsx)(vP,{redirectTo:"/employee/login",userType:"employee",children:(0,P.jsx)(iP,{})})}),(0,P.jsx)(Yl,{path:"/admin/register",element:(0,P.jsx)(oP,{})}),(0,P.jsx)(Yl,{path:"/admin/login",element:(0,P.jsx)(sP,{})}),(0,P.jsx)(Yl,{path:"/admin/dashboard",element:(0,P.jsx)(vP,{redirectTo:"/admin/login",userType:"admin",children:(0,P.jsx)(mP,{})})}),(0,P.jsx)(Yl,{path:"*",element:(0,P.jsx)(Uc,{})})]})]})),bP=()=>(0,P.jsx)(Ua,{client:yP,children:(0,P.jsxs)(wo,{children:[(0,P.jsx)(qn,{}),(0,P.jsx)(pr,{}),(0,P.jsx)(rc,{children:(0,P.jsx)(wP,{})})]})});(0,r.H)(document.getElementById("root")).render((0,P.jsx)(bP,{}))})();
//# sourceMappingURL=main.92e960cc.js.map