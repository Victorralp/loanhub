/*! For license information please see main.1fd119ed.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+N(l,0):o,x(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+N(a=e[c],c);l+=I(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=o+N(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},j={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:j,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,j(E);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,k=null,T=-1,C=5,N=-1;function I(){return!(t.unstable_now()-N<C)}function R(){if(null!==k){var e=t.unstable_now();N=e;var n=!0;try{n=k(!0,e)}finally{n?S():(_=!1,k=null)}}else _=!1}if("function"===typeof w)S=function(){w(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,S=function(){A.postMessage(null)}}else S=function(){v(R,0)};function j(e){k=e,_||(_=!0,S())}function D(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,D(x,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,j(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case k:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,_e=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),Ee(e.stateNode,e.type,t))}}function Te(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Ce(){if(Se){var e=Se,t=_e;if(_e=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ne(e,t,n)}finally{Re=!1,(null!==Se||null!==_e)&&(Ie(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){je=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){je=!1}function Oe(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,Le=e}};function ze(e,t,n,r,i,o,s,a,l){Me=!1,Le=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,_t,kt,Tt,Ct=!1,Nt=[],It=null,Rt=null,Pt=null,At=new Map,jt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=wi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function zt(){Ct=!1,null!==It&&Ut(It)&&(It=null),null!==Rt&&Ut(Rt)&&(Rt=null),null!==Pt&&Ut(Pt)&&(Pt=null),At.forEach(Vt),jt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Rt&&Bt(Rt,e),null!==Pt&&Bt(Pt,e),At.forEach(t),jt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=wt,o=Ht.transition;Ht.transition=null;try{wt=1,Qt(e,t,n,r)}finally{wt=i,Ht.transition=o}}function Gt(e,t,n,r){var i=wt,o=Ht.transition;Ht.transition=null;try{wt=4,Qt(e,t,n,r)}finally{wt=i,Ht.transition=o}}function Qt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jt.set(o,Lt(jt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=Xt(e,t,n,r))&&Wr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=wi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function sn(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var an,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(un),hn=L({},un,{view:0,detail:0}),fn=sn(hn),pn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(pn),gn=sn(L({},pn,{dataTransfer:0})),vn=sn(L({},hn,{relatedTarget:0})),yn=sn(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(wn),xn=sn(L({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return kn}var Cn=L({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),In=sn(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=sn(An),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!On||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Yn(e){Ur(e,0)}function Xn(e){if(G(xi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}Zn=er}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){Gn&&(Gn.detachEvent("onpropertychange",rr),Qn=Gn=null)}function rr(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];Kn(t,Qn,e,xe(e)),Pe(Yn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Qn=n,(Gn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function sr(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=dr(n,o);var s=dr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,wr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&cr(wr,r)||(wr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},_r={},kr={};function Tr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Tr("animationend"),Nr=Tr("animationiteration"),Ir=Tr("animationstart"),Rr=Tr("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Pr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Or=Ar[Dr];jr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}jr(Cr,"onAnimationEnd"),jr(Nr,"onAnimationIteration"),jr(Ir,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Vr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,s.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=wi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe(function(){var r=o,i=xe(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Cr:case Nr:case Ir:l=yn;break;case Rr:l=Pn;break;case"scroll":l=fn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!wi(c)&&!c[mi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?wi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:xi(l),f=null==c?a:xi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,wi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,m=h;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)h=Qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==l&&Yr(s,a,l,u,!1),null!==c&&null!==d&&Yr(s,d,c,u,!0)}if("select"===(l=(a=r?xi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Wn(a))if(Jn)g=ar;else{g=or;var v=ir}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(vr=v,yr=r,wr=null);break;case"focusout":wr=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(s,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else qn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==w?"onCompositionEnd"===w&&qn&&(y=tn()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(v=Gr(r,w)).length&&(w=new xn(w,e,null,n,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=Bn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&zn(e,t)?(e=tn(),en=Zt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ur(s,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,o))&&s.unshift(Kr(n,l,a)):i||null!=(l=Ae(n,o))&&s.push(Kr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,oi="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,pi="__reactProps$"+hi,mi="__reactContainer$"+hi,gi="__reactEvents$"+hi,vi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function wi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[fi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[pi]||null}var Si=[],_i=-1;function ki(e){return{current:e}}function Ti(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ci(e,t){_i++,Si[_i]=e.current,e.current=t}var Ni={},Ii=ki(Ni),Ri=ki(!1),Pi=Ni;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(Ri),Ti(Ii)}function Oi(e,t,n){if(Ii.current!==Ni)throw Error(o(168));Ci(Ii,t),Ci(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Pi=Ii.current,Ci(Ii,e),Ci(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ri),Ti(Ii),Ci(Ii,e)):Ti(Ri),Ci(Ri,n)}var Ui=null,Vi=!1,zi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,qi),i}finally{wt=t,zi=!1}}return null}var Hi=[],Wi=0,Ki=null,Gi=0,Qi=[],Yi=0,Xi=null,$i=1,Ji="";function Zi(e,t){Hi[Wi++]=Gi,Hi[Wi++]=Ki,Ki=e,Gi=t}function eo(e,t,n){Qi[Yi++]=$i,Qi[Yi++]=Ji,Qi[Yi++]=Xi,Xi=e;var r=$i;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Ji=o+e}else $i=1<<o|n<<i|r,Ji=e}function to(e){null!==e.return&&(Zi(e,1),eo(e,1,0))}function no(e){for(;e===Ki;)Ki=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null;for(;e===Xi;)Xi=Qi[--Yi],Qi[Yi]=null,Ji=Qi[--Yi],Qi[Yi]=null,$i=Qi[--Yi],Qi[Yi]=null}var ro=null,io=null,oo=!1,so=null;function ao(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ro=e,io=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ro=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ro=e,io=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(oo){var t=io;if(t){var n=t;if(!lo(e,t)){if(co(e))throw Error(o(418));t=ui(n.nextSibling);var r=ro;t&&lo(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,oo=!1,ro=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,oo=!1,ro=e}}}function ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ro=e}function fo(e){if(e!==ro)return!1;if(!oo)return ho(e),oo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=io)){if(co(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=ro?ui(e.stateNode.nextSibling):null;return!0}function po(){for(var e=io;e;)e=ui(e.nextSibling)}function mo(){io=ro=null,oo=!1}function go(e){null===so?so=[e]:so.push(e)}var vo=b.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);wo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),oo&&Zi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return oo&&Zi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),oo&&Zi(i,m),c}function g(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),oo&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return oo&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),oo&&Zi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&bo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Mc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(s,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(O(s))return g(r,o,s,l);wo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Eo=xo(!0),So=xo(!1),_o=ki(null),ko=null,To=null,Co=null;function No(){Co=To=ko=null}function Io(e){var t=_o.current;Ti(_o),e._currentValue=t}function Ro(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){ko=e,Co=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===To){if(null===ko)throw Error(o(308));To=e,ko.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var jo=null;function Do(e){null===jo?jo=[e]:jo.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Do(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Do(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Lo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Lo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ko={},Go=ki(Ko),Qo=ki(Ko),Yo=ki(Ko);function Xo(e){if(e===Ko)throw Error(o(174));return e}function $o(e,t){switch(Ci(Yo,t),Ci(Qo,e),Ci(Go,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Go),Ci(Go,t)}function Jo(){Ti(Go),Ti(Qo),Ti(Yo)}function Zo(e){Xo(Yo.current);var t=Xo(Go.current),n=le(t,e.type);t!==n&&(Ci(Qo,e),Ci(Go,n))}function es(e){Qo.current===e&&(Ti(Go),Ti(Qo))}var ts=ki(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function is(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var os=b.ReactCurrentDispatcher,ss=b.ReactCurrentBatchConfig,as=0,ls=null,cs=null,us=null,ds=!1,hs=!1,fs=0,ps=0;function ms(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function vs(e,t,n,r,i,s){if(as=s,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?ea:ta,e=n(r,i),hs){s=0;do{if(hs=!1,fs=0,25<=s)throw Error(o(301));s+=1,us=cs=null,t.updateQueue=null,os.current=na,e=n(r,i)}while(hs)}if(os.current=Zs,t=null!==cs&&null!==cs.next,as=0,us=cs=ls=null,ds=!1,t)throw Error(o(300));return e}function ys(){var e=0!==fs;return fs=0,e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?ls.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===cs){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?ls.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?ls.memoizedState=us=e:us=us.next=e}return us}function xs(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ls.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,lr(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ls.lanes|=s,Ll|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);lr(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(){}function ks(e,t){var n=ls,r=bs(),i=t(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ls(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,As(9,Cs.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&as)||Ts(n,t,i)}return i}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&Rs(e)}function Ns(e,t,n){return n(function(){Is(t)&&Rs(e)})}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Rs(e){var t=Mo(e,1);null!==t&&rc(t,e,1,-1)}function Ps(e){var t=ws();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ys.bind(null,ls,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return bs().memoizedState}function Ds(e,t,n,r){var i=ws();ls.flags|=e,i.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=As(t,n,o,r))}ls.flags|=e,i.memoizedState=As(1|t,n,o,r)}function Ms(e,t){return Ds(8390656,8,e,t)}function Ls(e,t){return Os(2048,8,e,t)}function Fs(e,t){return Os(4,2,e,t)}function Us(e,t){return Os(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Vs.bind(null,t,e),n)}function Bs(){}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),ls.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ks(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ss.transition;ss.transition={};try{e(!1),t()}finally{wt=n,ss.transition=r}}function Gs(){return bs().memoizedState}function Qs(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))$s(t,n);else if(null!==(n=Oo(e,t,n,r))){rc(n,e,r,tc()),Js(n,t,r)}}function Ys(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))$s(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,s)){var l=t.interleaved;return null===l?(i.next=i,Do(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(rc(n,e,r,i=tc()),Js(n,t,r))}}function Xs(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function $s(e,t){hs=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Ao,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},ea={readContext:Ao,useCallback:function(e,t){return ws().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qs.bind(null,ls,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ws().memoizedState=e},useState:Ps,useDebugValue:Bs,useDeferredValue:function(e){return ws().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Ks.bind(null,e[1]),ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ls,i=ws();if(oo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&as)||Ts(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ms(Ns.bind(null,r,s,e),[e]),r.flags|=2048,As(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ws(),t=Rl.identifierPrefix;if(oo){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ta={readContext:Ao,useCallback:qs,useContext:Ao,useEffect:Ls,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:Hs,useReducer:Es,useRef:js,useState:function(){return Es(xs)},useDebugValue:Bs,useDeferredValue:function(e){return Ws(bs(),cs.memoizedState,e)},useTransition:function(){return[Es(xs)[0],bs().memoizedState]},useMutableSource:_s,useSyncExternalStore:ks,useId:Gs,unstable_isNewReconciler:!1},na={readContext:Ao,useCallback:qs,useContext:Ao,useEffect:Ls,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:Hs,useReducer:Ss,useRef:js,useState:function(){return Ss(xs)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===cs?t.memoizedState=e:Ws(t,cs.memoizedState,e)},useTransition:function(){return[Ss(xs)[0],bs().memoizedState]},useMutableSource:_s,useSyncExternalStore:ks,useId:Gs,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Vo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(rc(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Vo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(rc(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Vo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(rc(t,e,r,n),Bo(t,e,r))}};function sa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function aa(e,t,n){var r=!1,i=Ni,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=ji(t)?Pi:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ni),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function la(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=ji(t)?Pi:Ii.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ia(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oa.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Vo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),ha(0,t)},n}function ma(e,t,n){(n=Vo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function xa(e,t,n,r){t.child=null===e?So(t,null,n,r):Eo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=vs(e,t,n,r,o,i),n=ys(),null===e||ba?(oo&&n&&to(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||jc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_a(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function _a(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Dl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Dl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Dl,jl),jl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Dl,jl),jl|=r;return xa(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var o=ji(n)?Pi:Ii.current;return o=Ai(t,o),Po(t,i),n=vs(e,t,n,r,o,i),r=ys(),null===e||ba?(oo&&r&&to(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Na(e,t,n,r,i){if(ji(n)){var o=!0;Li(t)}else o=!1;if(Po(t,i),null===t.stateNode)Ha(e,t),aa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(t,c=ji(n)?Pi:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&la(t,s,r,c),Lo=!1;var h=t.memoizedState;s.state=h,Ho(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ri.current||Lo?("function"===typeof u&&(ia(t,n,u,r),l=t.memoizedState),(a=Lo||sa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Uo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ra(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(t,l=ji(n)?Pi:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&la(t,s,r,l),Lo=!1,h=t.memoizedState,s.state=h,Ho(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ri.current||Lo?("function"===typeof f&&(ia(t,n,f,r),p=t.memoizedState),(c=Lo||sa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wa(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,a,o)):xa(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),$o(e,t.containerInfo)}function Pa(e,t,n,r,i){return mo(),go(i),t.flags|=256,xa(e,t,n,r),t.child}var Aa,ja,Da,Oa,Ma={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=ts.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ci(ts,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(s=Mc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Eo(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Mo(e,i),rc(r,e,i,-1))}return gc(),Va(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,io=ui(i.nextSibling),ro=t,oo=!0,so=null,null!==e&&(Qi[Yi++]=$i,Qi[Yi++]=Ji,Qi[Yi++]=Xi,$i=e.id,Ji=e.overflow,Xi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&go(r),Eo(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ro(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=ts.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ts,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ns(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!oo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return ji(t.type)&&Di(),Ga(t),null;case 3:return r=t.stateNode,Jo(),Ti(Ri),Ti(Ii),is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==so&&(ac(so),so=null))),ja(e,t),Ga(t),null;case 5:es(t);var i=Xo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=Xo(Go.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ie(r,s),Vr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[pi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Vr("scroll",e):null!=u&&w(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Yo.current),Xo(Go.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(s=r.nodeValue!==n)&&null!==(e=ro))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ti(ts),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(oo&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))po(),mo(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=t}else mo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==so&&(ac(so),so=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ts.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Jo(),ja(e,t),null===e&&qr(t.stateNode.containerInfo),Ga(t),null;case 10:return Io(t.type._context),Ga(t),null;case 19:if(Ti(ts),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ns(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ts,1&ts.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>ql&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ns(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!oo)return Ga(t),null}else 2*$e()-s.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=ts.current,Ci(ts,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(no(t),t.tag){case 1:return ji(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ti(Ri),Ti(Ii),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(Ti(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ts),null;case 4:return Jo(),null;case 10:return Io(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Go.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,$a=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[gi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),qt(e)):ci(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach(function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),we(l,a);var u=we(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||d,gl(t,e),$a=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,Za=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(yg){kc(e,e.return,yg)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Xa;var c=$a;if(Xa=s,($a=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Za=l):Sl(i);for(;null!==o;)Za=o,bl(o,t,n),o=o.sibling;Za=i,Xa=a,$a=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):xl(e)}}function xl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ra(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}$a||512&t.flags&&ol(t)}catch(xt){kc(t,t.return,xt)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(yg){kc(t,n,yg)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(yg){kc(t,i,yg)}}var o=t.return;try{ol(t)}catch(yg){kc(t,o,yg)}break;case 5:var s=t.return;try{ol(t)}catch(yg){kc(t,s,yg)}}}catch(yg){kc(t,t.return,yg)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var _l,kl=Math.ceil,Tl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Il=0,Rl=null,Pl=null,Al=0,jl=0,Dl=ki(0),Ol=0,Ml=null,Ll=0,Fl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Hl=null,Wl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Xl=0,$l=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Il)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Al?Al&-Al:null!==vo.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Il)&&e===Rl||(e===Rl&&(0===(2&Il)&&(Fl|=n),4===Ol&&lc(e,Al)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(ql=$e()+500,Vi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Rl?Al:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai(function(){0===(6&Il)&&qi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Rl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Il;Il|=2;var s=mc();for(Rl===e&&Al===t||(Hl=null,ql=$e()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}No(),Tl.current=s,Il=i,null!==Pl?t=0:(Rl=null,Al=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,zl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(Ec.bind(null,e,zl,Hl),t);break}Ec(e,zl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ii(Ec.bind(null,e,zl,Hl),r);break}Ec(e,zl,Hl);break;default:throw Error(o(329))}}}return ic(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Il))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Hl),ic(e,$e()),null}function uc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(ql=$e()+500,Vi&&qi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&Sc();var t=Il;Il|=1;var n=Nl.transition,r=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=r,Nl.transition=n,0===(6&(Il=t))&&qi()}}function hc(){jl=Dl.current,Ti(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oi(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(no(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Jo(),Ti(Ri),Ti(Ii),is();break;case 5:es(r);break;case 4:Jo();break;case 13:case 19:Ti(ts);break;case 10:Io(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Rl=e,Pl=e=Dc(e.current,null),Al=jl=t,Ol=0,Ml=null,Ul=Fl=Ll=0,zl=Vl=null,null!==jo){for(t=0;t<jo.length;t++)if(null!==(r=(n=jo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}jo=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(No(),os.current=Zs,ds){for(var r=ls.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ds=!1}if(as=0,us=cs=ls=null,hs=!1,fs=0,Cl.current=null,null===n||null===n.return){Ol=1,Ml=t,Pl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(oo&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),go(ua(c,l));break e}}s=c=ua(c,l),4!==Ol&&(Ol=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,qo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=Zs,null===e?Zs:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Rl||0===(268435455&Ll)&&0===(268435455&Fl)||lc(Rl,Al)}function vc(e,t){var n=Il;Il|=2;var r=mc();for(Rl===e&&Al===t||(Hl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(No(),Il=n,Tl.current=r,null!==Pl)throw Error(o(261));return Rl=null,Al=0,Ol}function yc(){for(;null!==Pl;)bc(Pl)}function wc(){for(;null!==Pl&&!Ye();)bc(Pl)}function bc(e){var t=_l(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?xc(e):Pl=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,jl)))return void(Pl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Ec(e,t,n){var r=wt,i=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Rl&&(Pl=Rl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rc(tt,function(){return Sc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Nl.transition,Nl.transition=null;var a=wt;wt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(ti=Wt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(Um){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ra(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(Um){kc(t,t.return,Um)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),mr(ni),Wt=!!ti,ni=ti=null,e.current=n,wl(n,e,i),Xe(),Il=l,wt=a,Nl.transition=s}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Jl?$l++:($l=0,Jl=e):$l=0,qi()}(e,t,n,r)}finally{Nl.transition=i,wt=r}return null}function Sc(){if(null!==Yl){var e=bt(Xl),t=Nl.transition,n=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(sl(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){kc(l,l.return,E)}if(l===a){Za=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Za=x;break e}Za=l.return}}if(Il=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,Nl.transition=t}}return!1}function _c(e,t,n){e=zo(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Al&n)===n&&(4===Ol||3===Ol&&(130023424&Al)===Al&&500>$e()-Bl?fc(e,0):Ul|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Mo(e,t))&&(vt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Rc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Pc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)jc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Mc(n.children,i,s,t);case _:a=8,i|=8;break;case k:return(e=Ac(12,n,t,2|i)).elementType=k,e.lanes=s,e;case I:return(e=Ac(13,n,t,i)).elementType=I,e.lanes=s,e;case R:return(e=Ac(19,n,t,i)).elementType=R,e.lanes=s,e;case j:return Lc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case N:a=11;break e;case P:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function Bc(e){if(!e)return Ni;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ji(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Vo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,s))&&(rc(e,i,s,o),Bo(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),mo();break;case 5:Zo(t);break;case 1:ji(t.type)&&Li(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ci(ts,1&ts.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ci(ts,1&ts.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ts,ts.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,oo&&0!==(1048576&t.flags)&&eo(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Po(t,n),i=vs(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=oa,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=Ia(null,t,r,!0,s,n)):(t.tag=0,oo&&s&&to(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(r),e=ra(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Na(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,ra(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 1:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Uo(e,t),Ho(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(o(424)),t));break e}for(io=ui(t.stateNode.containerInfo.firstChild),ro=t,oo=!0,so=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===i){t=Wa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ri(r,i)?a=null:null!==s&&ri(r,s)&&(t.flags|=32),Ta(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Fa(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:ra(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ci(_o,r._currentValue),r._currentValue=a,null!==s)if(lr(s.value,a)){if(s.children===i.children&&!Ri.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Vo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ro(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ro(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=Ao(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=ra(r=t.type,t.pendingProps),Sa(e,t,r,i=ra(r.type,i),n);case 15:return _a(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ra(r,i),Ha(e,t),t.tag=1,ji(r)?(e=!0,Li(t)):e=!1,Po(t,n),aa(t,r,i),ca(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[mi]=s.current,qr(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[mi]=l.current,qr(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return Wc(s)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[mi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Il)&&(ql=$e()+500,qi()))}break;case 13:dc(function(){var t=Mo(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Mo(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},kt=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ie=dc;var tu={usingClientEntryPoint:!1,Events:[bi,xi,Ei,Te,Ce,uc]},nu={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,s,a),e[mi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var d=n(43),h=n.t(d,2);let f=0;const p=new Map,m=e=>{if(p.has(e))return;const t=setTimeout(()=>{p.delete(e),w({type:"REMOVE_TOAST",toastId:e})},1e6);p.set(e,t)},g=(e,t)=>{switch(t.type){case"ADD_TOAST":return l(l({},e),{},{toasts:[t.toast,...e.toasts].slice(0,1)});case"UPDATE_TOAST":return l(l({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?l(l({},e),t.toast):e)});case"DISMISS_TOAST":{const{toastId:n}=t;return n?m(n):e.toasts.forEach(e=>{m(e.id)}),l(l({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?l(l({},e),{},{open:!1}):e)})}case"REMOVE_TOAST":return void 0===t.toastId?l(l({},e),{},{toasts:[]}):l(l({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)})}},v=[];let y={toasts:[]};function w(e){y=g(y,e),v.forEach(e=>{e(y)})}function b(e){let t=Object.assign({},(u(e),e));const n=(f=(f+1)%Number.MAX_SAFE_INTEGER,f.toString()),r=()=>w({type:"DISMISS_TOAST",toastId:n});return w({type:"ADD_TOAST",toast:l(l({},t),{},{id:n,open:!0,onOpenChange:e=>{e||r()}})}),{id:n,dismiss:r,update:e=>w({type:"UPDATE_TOAST",toast:l(l({},e),{},{id:n})})}}function x(){const[e,t]=d.useState(y);return d.useEffect(()=>(v.push(t),()=>{const e=v.indexOf(t);e>-1&&v.splice(e,1)}),[e]),l(l({},e),{},{toast:b,dismiss:e=>w({type:"DISMISS_TOAST",toastId:e})})}var E=n(950),S=n.t(E,2);function _(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}function k(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=k(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():k(t[e],null)}}}}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useCallback(T(...t),t)}function N(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I(e,t,n){N(e,t),t.set(e,n)}function R(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function P(e,t){return e.get(R(e,t))}function A(e,t,n){return e.set(R(e,t),n),n}var j=n(579);const D=["children"],O=["scope","children"];function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const r=()=>{const t=n.map(e=>d.createContext(e));return function(n){const r=(null===n||void 0===n?void 0:n[e])||t;return d.useMemo(()=>({["__scope".concat(e)]:l(l({},n),{},{[e]:r})}),[n,r])}};return r.scopeName=e,[function(t,r){const i=d.createContext(r),o=n.length;n=[...n,r];const s=t=>{var n;const{scope:r,children:s}=t,a=c(t,O),l=(null===r||void 0===r||null===(n=r[e])||void 0===n?void 0:n[o])||i,u=d.useMemo(()=>a,Object.values(a));return(0,j.jsx)(l.Provider,{value:u,children:s})};return s.displayName=t+"Provider",[s,function(n,s){var a;const l=(null===s||void 0===s||null===(a=s[e])||void 0===a?void 0:a[o])||i,c=d.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},L(r,...t)]}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];if(1===t.length)return r;const i=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const n=e.reduce((e,n)=>{let{useScope:r,scopeName:i}=n;const o=r(t)["__scope".concat(i)];return l(l({},e),o)},{});return d.useMemo(()=>({["__scope".concat(r.scopeName)]:n}),[n])}};return i.scopeName=r.scopeName,i}const F=["children"],U=["children"];function V(e){const t=B(e),n=d.forwardRef((e,n)=>{const{children:r}=e,i=c(e,F),o=d.Children.toArray(r),s=o.find(K);if(s){const e=s.props.children,r=o.map(t=>t===s?d.Children.count(e)>1?d.Children.only(null):d.isValidElement(e)?e.props.children:null:t);return(0,j.jsx)(t,l(l({},i),{},{ref:n,children:d.isValidElement(e)?d.cloneElement(e,void 0,r):null}))}return(0,j.jsx)(t,l(l({},i),{},{ref:n,children:r}))});return n.displayName="".concat(e,".Slot"),n}var z=V("Slot");function B(e){const t=d.forwardRef((e,t)=>{const{children:n}=e,r=c(e,U);if(d.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n=l({},t);for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=function(){const e=o(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]=l(l({},i),o):"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return l(l({},e),n)}(r,n.props);return n.type!==d.Fragment&&(i.ref=t?T(t,e):e),d.cloneElement(n,i)}return d.Children.count(n)>1?d.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var q=Symbol("radix.slottable");function H(e){const t=e=>{let{children:t}=e;return(0,j.jsx)(j.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=q,t}var W;function K(e){return d.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===q}const G=["scope","children"];function Q(e){const t=e+"CollectionProvider",[n,r]=M(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:n}=e,r=d.useRef(null),o=d.useRef(new Map).current;return(0,j.jsx)(i,{scope:t,itemMap:o,collectionRef:r,children:n})};s.displayName=t;const a=e+"CollectionSlot",u=V(a),h=d.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=C(t,o(a,n).collectionRef);return(0,j.jsx)(u,{ref:i,children:r})});h.displayName=a;const f=e+"CollectionItemSlot",p="data-radix-collection-item",m=V(f),g=d.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=c(e,G),s=d.useRef(null),a=C(t,s),u=o(f,n);return d.useEffect(()=>(u.itemMap.set(s,l({ref:s},i)),()=>{u.itemMap.delete(s)})),(0,j.jsx)(m,l(l({},{[p]:""}),{},{ref:a,children:r}))});return g.displayName=f,[{Provider:s,Slot:h,ItemSlot:g},function(t){const n=o(e+"CollectionConsumer",t);return d.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var Y=new WeakMap;W=new WeakMap,Map;function X(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=$(t),i=r>=0?r:n+r;return i<0||i>=n?-1:i}(e,t);return-1===n?void 0:e[n]}function $(e){return e!==e||0===e?0:Math.trunc(e)}const J=["asChild"];var Z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=V("Primitive.".concat(t)),r=d.forwardRef((e,r)=>{const{asChild:i}=e,o=c(e,J),s=i?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,j.jsx)(s,l(l({},o),{},{ref:r}))});return r.displayName="Primitive.".concat(t),l(l({},e),{},{[t]:r})},{});function ee(e,t){e&&E.flushSync(()=>e.dispatchEvent(t))}function te(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)},[])}const ne=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var re,ie="dismissableLayer.update",oe="dismissableLayer.pointerDownOutside",se="dismissableLayer.focusOutside",ae=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),le=d.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:u}=e,h=c(e,ne),f=d.useContext(ae),[p,m]=d.useState(null),g=null!==(n=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,v]=d.useState({}),y=C(t,e=>m(e)),w=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(b),E=p?w.indexOf(p):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,k=E>=x,T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=te(e),r=d.useRef(!1),i=d.useRef(()=>{});return d.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){de(oe,n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...f.branches].some(e=>e.contains(t));k&&!n&&(null===o||void 0===o||o(e),null===a||void 0===a||a(e),e.defaultPrevented||null===u||void 0===u||u())},g),N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=te(e),r=d.useRef(!1);return d.useEffect(()=>{const e=e=>{if(e.target&&!r.current){de(se,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...f.branches].some(e=>e.contains(t))||(null===s||void 0===s||s(e),null===a||void 0===a||a(e),e.defaultPrevented||null===u||void 0===u||u())},g);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=te(e);d.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{E===f.layers.size-1&&(null===i||void 0===i||i(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},g),d.useEffect(()=>{if(p)return r&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(re=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),ue(),()=>{r&&1===f.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=re)}},[p,g,r,f]),d.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),ue())},[p,f]),d.useEffect(()=>{const e=()=>v({});return document.addEventListener(ie,e),()=>document.removeEventListener(ie,e)},[]),(0,j.jsx)(Z.div,l(l({},h),{},{ref:y,style:l({pointerEvents:S?k?"auto":"none":void 0},e.style),onFocusCapture:_(e.onFocusCapture,N.onFocusCapture),onBlurCapture:_(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:_(e.onPointerDownCapture,T.onPointerDownCapture)}))});le.displayName="DismissableLayer";var ce=d.forwardRef((e,t)=>{const n=d.useContext(ae),r=d.useRef(null),i=C(t,r);return d.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,j.jsx)(Z.div,l(l({},e),{},{ref:i}))});function ue(){const e=new CustomEvent(ie);document.dispatchEvent(e)}function de(e,t,n,r){let{discrete:i}=r;const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?ee(o,s):o.dispatchEvent(s)}ce.displayName="DismissableLayerBranch";var he=le,fe=ce,pe=null!==globalThis&&void 0!==globalThis&&globalThis.document?d.useLayoutEffect:()=>{};const me=["container"];var ge=d.forwardRef((e,t)=>{var n;const{container:r}=e,i=c(e,me),[o,s]=d.useState(!1);pe(()=>s(!0),[]);const a=r||o&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return a?E.createPortal((0,j.jsx)(Z.div,l(l({},i),{},{ref:t})),a):null});ge.displayName="Portal";var ve=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=d.useState(),r=d.useRef(null),i=d.useRef(e),o=d.useRef("none"),s=e?"mounted":"unmounted",[a,l]=function(e,t){return d.useReducer((e,n)=>{const r=t[e][n];return null!==r&&void 0!==r?r:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const e=ye(r.current);o.current="mounted"===a?e:"none"},[a]),pe(()=>{const t=r.current,n=i.current;if(n!==e){const r=o.current,s=ye(t);if(e)l("MOUNT");else if("none"===s||"none"===(null===t||void 0===t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==s?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,l]),pe(()=>{if(t){var e;let n;const s=null!==(e=t.ownerDocument.defaultView)&&void 0!==e?e:window,a=e=>{const o=ye(r.current).includes(e.animationName);if(e.target===t&&o&&(l("ANIMATION_END"),!i.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=s.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(o.current=ye(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{s.clearTimeout(n),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"===typeof n?n({present:r.isPresent}):d.Children.only(n),o=C(r.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||r.isPresent?d.cloneElement(i,{ref:o}):null};function ye(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}ve.displayName="Presence";var we=h[" useInsertionEffect ".trim().toString()]||pe;function be(e){let{prop:t,defaultProp:n,onChange:r=()=>{},caller:i}=e;const[o,s,a]=function(e){let{defaultProp:t,onChange:n}=e;const[r,i]=d.useState(t),o=d.useRef(r),s=d.useRef(n);return we(()=>{s.current=n},[n]),d.useEffect(()=>{var e;o.current!==r&&(null===(e=s.current)||void 0===e||e.call(s,r),o.current=r)},[r,o]),[r,i,s]}({defaultProp:n,onChange:r}),l=void 0!==t,c=l?t:o;{const e=d.useRef(void 0!==t);d.useEffect(()=>{const t=e.current;if(t!==l){const e=t?"controlled":"uncontrolled",n=l?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=l},[l,i])}const u=d.useCallback(e=>{if(l){const r=function(e){return"function"===typeof e}(e)?e(t):e;var n;if(r!==t)null===(n=a.current)||void 0===n||n.call(a,r)}else s(e)},[l,t,s,a]);return[c,u]}Symbol("RADIX:SYNC_STATE");var xe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ee=d.forwardRef((e,t)=>(0,j.jsx)(Z.span,l(l({},e),{},{ref:t,style:l(l({},xe),e.style)})));Ee.displayName="VisuallyHidden";var Se=Ee;const _e=["__scopeToast","hotkey","label"],ke=["__scopeToast","onFocusFromOutsideViewport"],Te=["forceMount","open","defaultOpen","onOpenChange"],Ce=["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"],Ne=["__scopeToast","children"],Ie=["__scopeToast"],Re=["__scopeToast"],Pe=["altText"],Ae=["__scopeToast"],je=["__scopeToast","altText"];var De="ToastProvider",[Oe,Me,Le]=Q("Toast"),[Fe,Ue]=M("Toast",[Le]),[Ve,ze]=Fe(De),Be=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[a,l]=d.useState(null),[c,u]=d.useState(0),h=d.useRef(!1),f=d.useRef(!1);return n.trim()||console.error("Invalid prop `label` supplied to `".concat(De,"`. Expected non-empty `string`.")),(0,j.jsx)(Oe.Provider,{scope:t,children:(0,j.jsx)(Ve,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:d.useCallback(()=>u(e=>e+1),[]),onToastRemove:d.useCallback(()=>u(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:s})})};Be.displayName=De;var qe="ToastViewport",He=["F8"],We="toast.viewportPause",Ke="toast.viewportResume",Ge=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=He,label:i="Notifications ({hotkey})"}=e,o=c(e,_e),s=ze(qe,n),a=Me(n),u=d.useRef(null),h=d.useRef(null),f=d.useRef(null),p=d.useRef(null),m=C(t,p,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;d.useEffect(()=>{const e=e=>{var t;0!==r.length&&r.every(t=>e[t]||e.code===t)&&(null===(t=p.current)||void 0===t||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),d.useEffect(()=>{const e=u.current,t=p.current;if(v&&e&&t){const n=()=>{if(!s.isClosePausedRef.current){const e=new CustomEvent(We);t.dispatchEvent(e),s.isClosePausedRef.current=!0}},r=()=>{if(s.isClosePausedRef.current){const e=new CustomEvent(Ke);t.dispatchEvent(e),s.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},o=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",o),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}},[v,s.isClosePausedRef]);const y=d.useCallback(e=>{let{tabbingDirection:t}=e;const n=a().map(e=>{const n=e.ref.current,r=[n,...ht(n)];return"forwards"===t?r:r.reverse()});return("forwards"===t?n.reverse():n).flat()},[a]);return d.useEffect(()=>{const e=p.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,s=t.shiftKey;var r;if(t.target===e&&s)return void(null===(r=h.current)||void 0===r||r.focus());const a=y({tabbingDirection:s?"backwards":"forwards"}),l=a.findIndex(e=>e===n);var i,o;if(ft(a.slice(l+1)))t.preventDefault();else s?null===(i=h.current)||void 0===i||i.focus():null===(o=f.current)||void 0===o||o.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[a,y]),(0,j.jsxs)(fe,{ref:u,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&(0,j.jsx)(Ye,{ref:h,onFocusFromOutsideViewport:()=>{ft(y({tabbingDirection:"forwards"}))}}),(0,j.jsx)(Oe.Slot,{scope:n,children:(0,j.jsx)(Z.ol,l(l({tabIndex:-1},o),{},{ref:m}))}),v&&(0,j.jsx)(Ye,{ref:f,onFocusFromOutsideViewport:()=>{ft(y({tabbingDirection:"backwards"}))}})]})});Ge.displayName=qe;var Qe="ToastFocusProxy",Ye=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r}=e,i=c(e,ke),o=ze(Qe,n);return(0,j.jsx)(Ee,l(l({"aria-hidden":!0,tabIndex:0},i),{},{ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null!==(t=o.viewport)&&void 0!==t&&t.contains(n))&&r()}}))});Ye.displayName=Qe;var Xe="Toast",$e=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o}=e,s=c(e,Te),[a,u]=be({prop:r,defaultProp:null===i||void 0===i||i,onChange:o,caller:Xe});return(0,j.jsx)(ve,{present:n||a,children:(0,j.jsx)(et,l(l({open:a},s),{},{ref:t,onClose:()=>u(!1),onPause:te(e.onPause),onResume:te(e.onResume),onSwipeStart:_(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(n,"px"))}),onSwipeCancel:_(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(t,"px")),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(n,"px")),u(!1)})}))})});$e.displayName=Xe;var[Je,Ze]=Fe(Xe,{onClose(){}}),et=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:u,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:g}=e,v=c(e,Ce),y=ze(Xe,n),[w,b]=d.useState(null),x=C(t,e=>b(e)),S=d.useRef(null),k=d.useRef(null),T=i||y.duration,N=d.useRef(0),I=d.useRef(T),R=d.useRef(0),{onToastAdd:P,onToastRemove:A}=y,D=te(()=>{var e;(null===w||void 0===w?void 0:w.contains(document.activeElement))&&(null===(e=y.viewport)||void 0===e||e.focus()),s()}),O=d.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(R.current),N.current=(new Date).getTime(),R.current=window.setTimeout(D,e))},[D]);d.useEffect(()=>{const e=y.viewport;if(e){const t=()=>{O(I.current),null===h||void 0===h||h()},n=()=>{const e=(new Date).getTime()-N.current;I.current=I.current-e,window.clearTimeout(R.current),null===u||void 0===u||u()};return e.addEventListener(We,n),e.addEventListener(Ke,t),()=>{e.removeEventListener(We,n),e.removeEventListener(Ke,t)}}},[y.viewport,T,u,h,O]),d.useEffect(()=>{o&&!y.isClosePausedRef.current&&O(T)},[o,T,y.isClosePausedRef,O]),d.useEffect(()=>(P(),()=>A()),[P,A]);const M=d.useMemo(()=>w?ct(w):null,[w]);return y.viewport?(0,j.jsxs)(j.Fragment,{children:[M&&(0,j.jsx)(tt,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:M}),(0,j.jsx)(Je,{scope:n,onClose:D,children:E.createPortal((0,j.jsx)(Oe.ItemSlot,{scope:n,children:(0,j.jsx)(he,{asChild:!0,onEscapeKeyDown:_(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,j.jsx)(Z.li,l(l({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection},v),{},{ref:x,style:l({userSelect:"none",touchAction:"none"},e.style),onKeyDown:_(e.onKeyDown,e=>{"Escape"===e.key&&(null===a||void 0===a||a(e.nativeEvent),e.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:_(e.onPointerDown,e=>{0===e.button&&(S.current={x:e.clientX,y:e.clientY})}),onPointerMove:_(e.onPointerMove,e=>{if(!S.current)return;const t=e.clientX-S.current.x,n=e.clientY-S.current.y,r=Boolean(k.current),i=["left","right"].includes(y.swipeDirection),o=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,s=i?o(0,t):0,a=i?0:o(0,n),l="touch"===e.pointerType?10:2,c={x:s,y:a},u={originalEvent:e,delta:c};r?(k.current=c,ut("toast.swipeMove",p,u,{discrete:!1})):dt(c,y.swipeDirection,l)?(k.current=c,ut("toast.swipeStart",f,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(S.current=null)}),onPointerUp:_(e.onPointerUp,e=>{const t=k.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),k.current=null,S.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};dt(t,y.swipeDirection,y.swipeThreshold)?ut("toast.swipeEnd",g,r,{discrete:!0}):ut("toast.swipeCancel",m,r,{discrete:!0}),n.addEventListener("click",e=>e.preventDefault(),{once:!0})}})}))})}),y.viewport)})]}):null}),tt=e=>{const{__scopeToast:t,children:n}=e,r=c(e,Ne),i=ze(Xe,t),[o,s]=d.useState(!1),[a,u]=d.useState(!1);return function(){const e=te(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});pe(()=>{let t=0,n=0;return t=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(n)}},[e])}(()=>s(!0)),d.useEffect(()=>{const e=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(e)},[]),a?null:(0,j.jsx)(ge,{asChild:!0,children:(0,j.jsx)(Ee,l(l({},r),{},{children:o&&(0,j.jsxs)(j.Fragment,{children:[i.label," ",n]})}))})},nt=d.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=c(e,Ie);return(0,j.jsx)(Z.div,l(l({},r),{},{ref:t}))});nt.displayName="ToastTitle";var rt=d.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=c(e,Re);return(0,j.jsx)(Z.div,l(l({},r),{},{ref:t}))});rt.displayName="ToastDescription";var it="ToastAction",ot=d.forwardRef((e,t)=>{const{altText:n}=e,r=c(e,Pe);return n.trim()?(0,j.jsx)(lt,{altText:n,asChild:!0,children:(0,j.jsx)(at,l(l({},r),{},{ref:t}))}):(console.error("Invalid prop `altText` supplied to `".concat(it,"`. Expected non-empty `string`.")),null)});ot.displayName=it;var st="ToastClose",at=d.forwardRef((e,t)=>{const{__scopeToast:n}=e,r=c(e,Ae),i=Ze(st,n);return(0,j.jsx)(lt,{asChild:!0,children:(0,j.jsx)(Z.button,l(l({type:"button"},r),{},{ref:t,onClick:_(e.onClick,i.onClose)}))})});at.displayName=st;var lt=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r}=e,i=c(e,je);return(0,j.jsx)(Z.div,l(l({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i),{},{ref:t}))});function ct(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...ct(e))}}),t}function ut(e,t,n,r){let{discrete:i}=r;const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?ee(o,s):o.dispatchEvent(s)}var dt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return"left"===t||"right"===t?o&&r>n:!o&&i>n};function ht(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ft(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var pt=Be,mt=Ge,gt=$e,vt=nt,yt=rt,wt=ot,bt=at;function xt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=xt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=xt(e))&&(r&&(r+=" "),r+=t);return r}const St=["class","className"],_t=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,kt=Et,Tt=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return kt(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(e=>{const t=null===n||void 0===n?void 0:n[e],r=null===o||void 0===o?void 0:o[e];if(null===t)return null;const s=_t(t)||_t(r);return i[e][s]}),a=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),u=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r}=t,i=c(t,St);return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes(l(l({},o),a)[t]):l(l({},o),a)[t]===n})?[...e,n,r]:e},[]);return kt(e,s,u,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)},Ct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Nt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const It=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Rt=(0,d.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:a,iconNode:u}=e,h=c(e,It);return(0,d.createElement)("svg",l(l({ref:t},Nt),{},{width:r,height:r,stroke:n,strokeWidth:o?24*Number(i)/Number(r):i,className:Ct("lucide",s)},h),[...u.map(e=>{let[t,n]=e;return(0,d.createElement)(t,n)}),...Array.isArray(a)?a:[a]])}),Pt=["className"],At=(e,t)=>{const n=(0,d.forwardRef)((n,r)=>{let{className:i}=n,o=c(n,Pt);return(0,d.createElement)(Rt,l({ref:r,iconNode:t,className:Ct("lucide-".concat((s=e,s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),i)},o));var s});return n.displayName="".concat(e),n},jt=At("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dt=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),o=i?Dt(e.slice(1),i):void 0;if(o)return o;if(0===t.validators.length)return;const s=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(s)}))||void 0===n?void 0:n.classGroupId},Ot=/^\[(.+)\]$/,Mt=e=>{if(Ot.test(e)){const t=Ot.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Lt=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return zt(Object.entries(e.classGroups),n).forEach(e=>{let[n,i]=e;Ft(i,r,n,t)}),r},Ft=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:Ut(t,e)).classGroupId=n)}if("function"===typeof e)return Vt(e)?void Ft(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[i,o]=e;Ft(o,Ut(t,i),n,r)})})},Ut=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Vt=e=>e.isThemeGetter,zt=(e,t)=>t?e.map(e=>{let[n,r]=e;return[n,r.map(e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[n,r]=e;return[t+n,r]})):e)]}):e,Bt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},qt=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],o=t.length,s=e=>{const n=[];let s,a=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===a){if(c===i&&(r||e.slice(d,d+o)===t)){n.push(e.slice(l,d)),l=d+o;continue}if("/"===c){s=d;continue}}"["===c?a++:"]"===c&&a--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return n?e=>n({className:e,parseClassName:s}):s},Ht=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},Wt=e=>l({cache:Bt(e.cacheSize),parseClassName:qt(e)},(e=>{const t=Lt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Dt(n,t)||Mt(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),Kt=/\s+/;function Gt(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Qt(e))&&(r&&(r+=" "),r+=t);return r}const Qt=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Qt(e[r]))&&(n&&(n+=" "),n+=t);return n};function Yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,o,s,a=function(t){const r=n.reduce((e,t)=>t(e),e());return i=Wt(r),o=i.cache.get,s=i.cache.set,a=l,l(t)};function l(e){const t=o(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(Kt);let a="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=r(u),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=Ht(t).join(":"),m=c?p+"!":p,g=m+f;if(o.includes(g))continue;o.push(g);const v=i(f,h);for(let n=0;n<v.length;++n){const e=v[n];o.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,i);return s(e,n),n}return function(){return a(Gt.apply(null,arguments))}}const Xt=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},$t=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jt=/^\d+\/\d+$/,Zt=new Set(["px","full","screen"]),en=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,on=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sn=e=>ln(e)||Zt.has(e)||Jt.test(e),an=e=>xn(e,"length",En),ln=e=>Boolean(e)&&!Number.isNaN(Number(e)),cn=e=>xn(e,"number",ln),un=e=>Boolean(e)&&Number.isInteger(Number(e)),dn=e=>e.endsWith("%")&&ln(e.slice(0,-1)),hn=e=>$t.test(e),fn=e=>en.test(e),pn=new Set(["length","size","percentage"]),mn=e=>xn(e,pn,Sn),gn=e=>xn(e,"position",Sn),vn=new Set(["image","url"]),yn=e=>xn(e,vn,kn),wn=e=>xn(e,"",_n),bn=()=>!0,xn=(e,t,n)=>{const r=$t.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},En=e=>tn.test(e)&&!nn.test(e),Sn=()=>!1,_n=e=>rn.test(e),kn=e=>on.test(e),Tn=(Symbol.toStringTag,()=>{const e=Xt("colors"),t=Xt("spacing"),n=Xt("blur"),r=Xt("brightness"),i=Xt("borderColor"),o=Xt("borderRadius"),s=Xt("borderSpacing"),a=Xt("borderWidth"),l=Xt("contrast"),c=Xt("grayscale"),u=Xt("hueRotate"),d=Xt("invert"),h=Xt("gap"),f=Xt("gradientColorStops"),p=Xt("gradientColorStopPositions"),m=Xt("inset"),g=Xt("margin"),v=Xt("opacity"),y=Xt("padding"),w=Xt("saturate"),b=Xt("scale"),x=Xt("sepia"),E=Xt("skew"),S=Xt("space"),_=Xt("translate"),k=()=>["auto",hn,t],T=()=>[hn,t],C=()=>["",sn,an],N=()=>["auto",ln,hn],I=()=>["","0",hn],R=()=>[ln,hn];return{cacheSize:500,separator:":",theme:{colors:[bn],spacing:[sn,an],blur:["none","",fn,hn],brightness:R(),borderColor:[e],borderRadius:["none","","full",fn,hn],borderSpacing:T(),borderWidth:C(),contrast:R(),grayscale:I(),hueRotate:R(),invert:I(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[dn,an],inset:k(),margin:k(),opacity:R(),padding:T(),saturate:R(),scale:R(),sepia:I(),skew:R(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",hn]}],container:["container"],columns:[{columns:[fn]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",hn]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",un,hn]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",hn]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",un,hn]}],"grid-cols":[{"grid-cols":[bn]}],"col-start-end":[{col:["auto",{span:["full",un,hn]},hn]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[bn]}],"row-start-end":[{row:["auto",{span:[un,hn]},hn]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",hn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",hn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",hn,t]}],"min-w":[{"min-w":[hn,t,"min","max","fit"]}],"max-w":[{"max-w":[hn,t,"none","full","min","max","fit","prose",{screen:[fn]},fn]}],h:[{h:[hn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[hn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[hn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[hn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fn,an]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cn]}],"font-family":[{font:[bn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",hn]}],"line-clamp":[{"line-clamp":["none",ln,cn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sn,hn]}],"list-image":[{"list-image":["none",hn]}],"list-style-type":[{list:["none","disc","decimal",hn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sn,an]}],"underline-offset":[{"underline-offset":["auto",sn,hn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",hn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",hn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",gn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yn]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[sn,hn]}],"outline-w":[{outline:[sn,an]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[sn,an]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fn,wn]}],"shadow-color":[{shadow:[bn]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fn,hn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",hn]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",hn]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",hn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[un,hn]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",hn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",hn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",hn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sn,an,cn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),Cn=Yt(Tn);function Nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cn(Et(t))}const In=["className"],Rn=["className","variant"],Pn=["className"],An=["className"],jn=["className"],Dn=["className"],On=pt,Mn=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,In);return(0,j.jsx)(mt,l({ref:t,className:Nn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n)},r))});Mn.displayName=mt.displayName;const Ln=Tt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Fn=d.forwardRef((e,t)=>{let{className:n,variant:r}=e,i=c(e,Rn);return(0,j.jsx)(gt,l({ref:t,className:Nn(Ln({variant:r}),n)},i))});Fn.displayName=gt.displayName;d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,Pn);return(0,j.jsx)(wt,l({ref:t,className:Nn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n)},r))}).displayName=wt.displayName;const Un=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,An);return(0,j.jsx)(bt,l(l({ref:t,className:Nn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":""},r),{},{children:(0,j.jsx)(jt,{className:"h-4 w-4"})}))});Un.displayName=bt.displayName;const Vn=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,jn);return(0,j.jsx)(vt,l({ref:t,className:Nn("text-sm font-semibold",n)},r))});Vn.displayName=vt.displayName;const zn=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,Dn);return(0,j.jsx)(yt,l({ref:t,className:Nn("text-sm opacity-90",n)},r))});zn.displayName=yt.displayName;const Bn=["id","title","description","action"];function qn(){const{toasts:e}=x();return(0,j.jsxs)(On,{children:[e.map(function(e){let{id:t,title:n,description:r,action:i}=e,o=c(e,Bn);return(0,j.jsxs)(Fn,l(l({},o),{},{children:[(0,j.jsxs)("div",{className:"grid gap-1",children:[n&&(0,j.jsx)(Vn,{children:n}),r&&(0,j.jsx)(zn,{children:r})]}),i,(0,j.jsx)(Un,{})]}),t)}),(0,j.jsx)(Mn,{})]})}var Hn=["light","dark"],Wn="(prefers-color-scheme: dark)",Kn=d.createContext(void 0),Gn={setTheme:e=>{},themes:[]};d.memo(e=>{let{forcedTheme:t,storageKey:n,attribute:r,enableSystem:i,enableColorScheme:o,defaultTheme:s,value:a,attrs:l,nonce:c}=e,u="system"===s,h="class"===r?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(l.map(e=>"'".concat(e,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(r,"',s='setAttribute';"),f=o?Hn.includes(s)&&s?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(s,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=a?a[e]:e,s=t?e+"|| ''":"'".concat(i,"'"),l="";return o&&n&&!t&&Hn.includes(e)&&(l+="d.style.colorScheme = '".concat(e,"';")),"class"===r?l+=t||i?"c.add(".concat(s,")"):"null":i&&(l+="d[s](n,".concat(s,")")),l},m=t?"!function(){".concat(h).concat(p(t),"}()"):i?"!function(){try{".concat(h,"var e=localStorage.getItem('").concat(n,"');if('system'===e||(!e&&").concat(u,")){var t='").concat(Wn,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(p("dark"),"}else{").concat(p("light"),"}}else if(e){").concat(a?"var x=".concat(JSON.stringify(a),";"):"").concat(p(a?"x[e]":"e",!0),"}").concat(u?"":"else{"+p(s,!1,!1)+"}").concat(f,"}catch(e){}}()"):"!function(){try{".concat(h,"var e=localStorage.getItem('").concat(n,"');if(e){").concat(a?"var x=".concat(JSON.stringify(a),";"):"").concat(p(a?"x[e]":"e",!0),"}else{").concat(p(s,!1,!1),";}").concat(f,"}catch(t){}}();");return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});const Qn=["message"];var Yn=Array(12).fill(0),Xn=e=>{let{visible:t,className:n}=e;return d.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},d.createElement("div",{className:"sonner-spinner"},Yn.map((e,t)=>d.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},$n=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},d.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Jn=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},d.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Zn=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},d.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),er=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},d.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tr=d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},d.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nr=1,rr=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n}=e,r=c(e,Qn),i="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:nr++,o=this.toasts.find(e=>e.id===i),s=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(t=>t.id===i?(this.publish(l(l(l({},t),e),{},{id:i,title:n})),l(l(l({},t),e),{},{id:i,dismissible:s,title:n})):t):this.addToast(l(l({title:n},r),{},{dismissible:s,id:i})),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create(l(l({},t),{},{message:e})),this.error=(e,t)=>this.create(l(l({},t),{},{message:e,type:"error"})),this.success=(e,t)=>this.create(l(l({},t),{},{type:"success",message:e})),this.info=(e,t)=>this.create(l(l({},t),{},{type:"info",message:e})),this.warning=(e,t)=>this.create(l(l({},t),{},{type:"warning",message:e})),this.loading=(e,t)=>this.create(l(l({},t),{},{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create(l(l({},t),{},{promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0})));let r,i=e instanceof Promise?e:e(),o=void 0!==n,s=i.then(async e=>{if(r=["resolve",e],d.isValidElement(e))o=!1,this.create({id:n,type:"default",message:e});else if(ir(e)&&!e.ok){o=!1;let r="function"==typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,i="function"==typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description;this.create({id:n,type:"error",message:r,description:i})}else if(void 0!==t.success){o=!1;let r="function"==typeof t.success?await t.success(e):t.success,i="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:r,description:i})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){o=!1;let r="function"==typeof t.error?await t.error(e):t.error,i="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:r,description:i})}}).finally(()=>{var e;o&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),a=()=>new Promise((e,t)=>s.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||nr++;return this.create(l({jsx:e(n),id:n},t)),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ir=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,or=(e,t)=>{let n=(null==t?void 0:t.id)||nr++;return rr.addToast(l(l({title:e},t),{},{id:n})),n};Object.assign(or,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:()=>rr.toasts,getToasts:()=>rr.getActiveToasts()});function sr(e){return void 0!==e.label}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var ar=3,lr=14;function cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var ur=e=>{var t,n,r,i,o,s,a,c,u,h,f;let{invert:p,toast:m,unstyled:g,interacting:v,setHeights:y,visibleToasts:w,heights:b,index:x,toasts:E,expanded:S,removeToast:_,defaultRichColors:k,closeButton:T,style:C,cancelButtonStyle:N,actionButtonStyle:I,className:R="",descriptionClassName:P="",duration:A,position:j,gap:D,loadingIcon:O,expandByDefault:M,classNames:L,icons:F,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:V}=e,[z,B]=d.useState(null),[q,H]=d.useState(null),[W,K]=d.useState(!1),[G,Q]=d.useState(!1),[Y,X]=d.useState(!1),[$,J]=d.useState(!1),[Z,ee]=d.useState(!1),[te,ne]=d.useState(0),[re,ie]=d.useState(0),oe=d.useRef(m.duration||A||4e3),se=d.useRef(null),ae=d.useRef(null),le=0===x,ce=x+1<=w,ue=m.type,de=!1!==m.dismissible,he=m.className||"",fe=m.descriptionClassName||"",pe=d.useMemo(()=>b.findIndex(e=>e.toastId===m.id)||0,[b,m.id]),me=d.useMemo(()=>{var e;return null!=(e=m.closeButton)?e:T},[m.closeButton,T]),ge=d.useMemo(()=>m.duration||A||4e3,[m.duration,A]),ve=d.useRef(0),ye=d.useRef(0),we=d.useRef(0),be=d.useRef(null),[xe,Ee]=j.split("-"),Se=d.useMemo(()=>b.reduce((e,t,n)=>n>=pe?e:e+t.height,0),[b,pe]),_e=(()=>{let[e,t]=d.useState(document.hidden);return d.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),ke=m.invert||p,Te="loading"===ue;ye.current=d.useMemo(()=>pe*D+Se,[pe,Se]),d.useEffect(()=>{oe.current=ge},[ge]),d.useEffect(()=>{K(!0)},[]),d.useEffect(()=>{let e=ae.current;if(e){let t=e.getBoundingClientRect().height;return ie(t),y(e=>[{toastId:m.id,height:t,position:m.position},...e]),()=>y(e=>e.filter(e=>e.toastId!==m.id))}},[y,m.id]),d.useLayoutEffect(()=>{if(!W)return;let e=ae.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,ie(n),y(e=>e.find(e=>e.toastId===m.id)?e.map(e=>e.toastId===m.id?l(l({},e),{},{height:n}):e):[{toastId:m.id,height:n,position:m.position},...e])},[W,m.title,m.description,y,m.id]);let Ce=d.useCallback(()=>{Q(!0),ne(ye.current),y(e=>e.filter(e=>e.toastId!==m.id)),setTimeout(()=>{_(m)},200)},[m,_,y,ye]);return d.useEffect(()=>{if(m.promise&&"loading"===ue||m.duration===1/0||"loading"===m.type)return;let e;return S||v||V&&_e?(()=>{if(we.current<ve.current){let e=(new Date).getTime()-ve.current;oe.current=oe.current-e}we.current=(new Date).getTime()})():oe.current!==1/0&&(ve.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=m.onAutoClose)||e.call(m,m),Ce()},oe.current)),()=>clearTimeout(e)},[S,v,m,ue,V,_e,Ce]),d.useEffect(()=>{m.delete&&Ce()},[Ce,m.delete]),d.createElement("li",{tabIndex:0,ref:ae,className:cr(R,he,null==L?void 0:L.toast,null==(t=null==m?void 0:m.classNames)?void 0:t.toast,null==L?void 0:L.default,null==L?void 0:L[ue],null==(n=null==m?void 0:m.classNames)?void 0:n[ue]),"data-sonner-toast":"","data-rich-colors":null!=(r=m.richColors)?r:k,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":Z,"data-removed":G,"data-visible":ce,"data-y-position":xe,"data-x-position":Ee,"data-index":x,"data-front":le,"data-swiping":Y,"data-dismissible":de,"data-type":ue,"data-invert":ke,"data-swipe-out":$,"data-swipe-direction":q,"data-expanded":!!(S||M&&W),style:l(l({"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":"".concat(G?te:ye.current,"px"),"--initial-height":M?"auto":"".concat(re,"px")},C),m.style),onDragEnd:()=>{X(!1),B(null),be.current=null},onPointerDown:e=>{Te||!de||(se.current=new Date,ne(ye.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(X(!0),be.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if($||!de)return;be.current=null;let i=Number((null==(e=ae.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(t=ae.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),s=(new Date).getTime()-(null==(n=se.current)?void 0:n.getTime()),a="x"===z?i:o,l=Math.abs(a)/s;if(Math.abs(a)>=20||l>.11)return ne(ye.current),null==(r=m.onDismiss)||r.call(m,m),H("x"===z?i>0?"right":"left":o>0?"down":"up"),Ce(),J(!0),void ee(!1);X(!1),B(null)},onPointerMove:t=>{var n,r,i,o;if(!be.current||!de||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let s=t.clientY-be.current.y,a=t.clientX-be.current.x,l=null!=(r=e.swipeDirections)?r:function(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(j);!z&&(Math.abs(a)>1||Math.abs(s)>1)&&B(Math.abs(a)>Math.abs(s)?"x":"y");let c={x:0,y:0};"y"===z?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&s<0||l.includes("bottom")&&s>0)&&(c.y=s):"x"===z&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&a<0||l.includes("right")&&a>0)&&(c.x=a),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ee(!0),null==(i=ae.current)||i.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(o=ae.current)||o.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},me&&!m.jsx?d.createElement("button",{"aria-label":U,"data-disabled":Te,"data-close-button":!0,onClick:Te||!de?()=>{}:()=>{var e;Ce(),null==(e=m.onDismiss)||e.call(m,m)},className:cr(null==L?void 0:L.closeButton,null==(i=null==m?void 0:m.classNames)?void 0:i.closeButton)},null!=(o=null==F?void 0:F.close)?o:tr):null,m.jsx||(0,d.isValidElement)(m.title)?m.jsx?m.jsx:"function"==typeof m.title?m.title():m.title:d.createElement(d.Fragment,null,ue||m.icon||m.promise?d.createElement("div",{"data-icon":"",className:cr(null==L?void 0:L.icon,null==(s=null==m?void 0:m.classNames)?void 0:s.icon)},m.promise||"loading"===m.type&&!m.icon?m.icon||function(){var e,t,n;return null!=F&&F.loading?d.createElement("div",{className:cr(null==L?void 0:L.loader,null==(e=null==m?void 0:m.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===ue},F.loading):O?d.createElement("div",{className:cr(null==L?void 0:L.loader,null==(t=null==m?void 0:m.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ue},O):d.createElement(Xn,{className:cr(null==L?void 0:L.loader,null==(n=null==m?void 0:m.classNames)?void 0:n.loader),visible:"loading"===ue})}():null,"loading"!==m.type?m.icon||(null==F?void 0:F[ue])||(e=>{switch(e){case"success":return $n;case"info":return Zn;case"warning":return Jn;case"error":return er;default:return null}})(ue):null):null,d.createElement("div",{"data-content":"",className:cr(null==L?void 0:L.content,null==(a=null==m?void 0:m.classNames)?void 0:a.content)},d.createElement("div",{"data-title":"",className:cr(null==L?void 0:L.title,null==(c=null==m?void 0:m.classNames)?void 0:c.title)},"function"==typeof m.title?m.title():m.title),m.description?d.createElement("div",{"data-description":"",className:cr(P,fe,null==L?void 0:L.description,null==(u=null==m?void 0:m.classNames)?void 0:u.description)},"function"==typeof m.description?m.description():m.description):null),(0,d.isValidElement)(m.cancel)?m.cancel:m.cancel&&sr(m.cancel)?d.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||N,onClick:e=>{var t,n;sr(m.cancel)&&de&&(null==(n=(t=m.cancel).onClick)||n.call(t,e),Ce())},className:cr(null==L?void 0:L.cancelButton,null==(h=null==m?void 0:m.classNames)?void 0:h.cancelButton)},m.cancel.label):null,(0,d.isValidElement)(m.action)?m.action:m.action&&sr(m.action)?d.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:e=>{var t,n;sr(m.action)&&(null==(n=(t=m.action).onClick)||n.call(t,e),!e.defaultPrevented&&Ce())},className:cr(null==L?void 0:L.actionButton,null==(f=null==m?void 0:m.classNames)?void 0:f.actionButton)},m.action.label):null))};function dr(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function hr(e,t){let n={};return[e,t].forEach((e,t)=>{let r=1===t,i=r?"--mobile-offset":"--offset",o=r?"16px":"32px";function s(e){["top","right","bottom","left"].forEach(t=>{n["".concat(i,"-").concat(t)]="number"==typeof e?"".concat(e,"px"):e})}"number"==typeof e||"string"==typeof e?s(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n["".concat(i,"-").concat(t)]=o:n["".concat(i,"-").concat(t)]="number"==typeof e[t]?"".concat(e[t],"px"):e[t]}):s(o)}),n}var fr=(0,d.forwardRef)(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:s,className:a,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:g=ar,toastOptions:v,dir:y=dr(),gap:w=lr,loadingIcon:b,icons:x,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=e,[k,T]=d.useState([]),C=d.useMemo(()=>Array.from(new Set([r].concat(k.filter(e=>e.position).map(e=>e.position)))),[k,r]),[N,I]=d.useState([]),[R,P]=d.useState(!1),[A,j]=d.useState(!1),[D,O]=d.useState("system"!==h?h:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=d.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=d.useRef(null),U=d.useRef(!1),V=d.useCallback(e=>{T(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||rr.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return d.useEffect(()=>rr.subscribe(e=>{e.dismiss?T(t=>t.map(t=>t.id===e.id?l(l({},t),{},{delete:!0}):t)):setTimeout(()=>{E.flushSync(()=>{T(t=>{let n=t.findIndex(t=>t.id===e.id);return-1!==n?[...t.slice(0,n),l(l({},t[n]),e),...t.slice(n+1)]:[e,...t]})})})}),[]),d.useEffect(()=>{if("system"!==h)return void O(h);if("system"===h&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;O(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{O(t?"dark":"light")}catch(n){console.error(n)}})}},[h]),d.useEffect(()=>{k.length<=1&&P(!1)},[k]),d.useEffect(()=>{let e=e=>{var t,n;i.every(t=>e[t]||e.code===t)&&(P(!0),null==(t=M.current)||t.focus()),"Escape"===e.code&&(document.activeElement===M.current||null!=(n=M.current)&&n.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),d.useEffect(()=>{if(M.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[M.current]),d.createElement("section",{ref:t,"aria-label":"".concat(S," ").concat(L),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((t,r)=>{var i;let[h,E]=t.split("-");return k.length?d.createElement("ol",{key:t,dir:"auto"===y?dr():y,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":h,"data-lifted":R&&k.length>1&&!o,"data-x-position":E,style:l(l({"--front-toast-height":"".concat((null==(i=N[0])?void 0:i.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(w,"px")},m),hr(c,u)),onBlur:e=>{U.current&&!e.currentTarget.contains(e.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||U.current||(U.current=!0,F.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{A||P(!1)},onDragEnd:()=>P(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||j(!0)},onPointerUp:()=>j(!1)},k.filter(e=>!e.position&&0===r||e.position===t).map((r,i)=>{var a,l;return d.createElement(ur,{key:r.id,icons:x,index:i,toast:r,defaultRichColors:f,duration:null!=(a=null==v?void 0:v.duration)?a:p,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(l=null==v?void 0:v.closeButton)?l:s,interacting:A,position:t,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,removeToast:V,toasts:k.filter(e=>e.position==r.position),heights:N.filter(e=>e.position==r.position),setHeights:I,expandByDefault:o,gap:w,loadingIcon:b,expanded:R,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const pr=e=>{let t=Object.assign({},(u(e),e));const{theme:n="system"}=(()=>{var e;return null!=(e=d.useContext(Kn))?e:Gn})();return(0,j.jsx)(fr,l({theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}}},t))};var mr=h[" useId ".trim().toString()]||(()=>{}),gr=0;function vr(e){const[t,n]=d.useState(mr());return pe(()=>{e||n(e=>null!==e&&void 0!==e?e:String(gr++))},[e]),e||(t?"radix-".concat(t):"")}const yr=["top","right","bottom","left"],wr=Math.min,br=Math.max,xr=Math.round,Er=Math.floor,Sr=e=>({x:e,y:e}),_r={left:"right",right:"left",bottom:"top",top:"bottom"},kr={start:"end",end:"start"};function Tr(e,t,n){return br(e,wr(t,n))}function Cr(e,t){return"function"===typeof e?e(t):e}function Nr(e){return e.split("-")[0]}function Ir(e){return e.split("-")[1]}function Rr(e){return"x"===e?"y":"x"}function Pr(e){return"y"===e?"height":"width"}const Ar=new Set(["top","bottom"]);function jr(e){return Ar.has(Nr(e))?"y":"x"}function Dr(e){return Rr(jr(e))}function Or(e){return e.replace(/start|end/g,e=>kr[e])}const Mr=["left","right"],Lr=["right","left"],Fr=["top","bottom"],Ur=["bottom","top"];function Vr(e,t,n,r){const i=Ir(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Lr:Mr:t?Mr:Lr;case"left":case"right":return t?Fr:Ur;default:return[]}}(Nr(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(Or)))),o}function zr(e){return e.replace(/left|right|bottom|top/g,e=>_r[e])}function Br(e){return"number"!==typeof e?function(e){return l({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function qr(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}const Hr=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Wr=["strategy"],Kr=["mainAxis","crossAxis","limiter"],Gr=["apply"];function Qr(e,t,n){let{reference:r,floating:i}=e;const o=jr(t),s=Dr(t),a=Pr(s),l=Nr(t),c="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ir(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1)}return f}async function Yr(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Cr(t,e),p=Br(f),m=a[h?"floating"===d?"reference":"floating":d],g=qr(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),w=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},b=qr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/w.y,bottom:(b.bottom-g.bottom+p.bottom)/w.y,left:(g.left-b.left+p.left)/w.x,right:(b.right-g.right+p.right)/w.x}}function Xr(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $r(e){return yr.some(t=>e[t]>=0)}const Jr=new Set(["left","top"]);function Zr(){return"undefined"!==typeof window}function ei(e){return ri(e)?(e.nodeName||"").toLowerCase():"#document"}function ti(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ni(e){var t;return null==(t=(ri(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ri(e){return!!Zr()&&(e instanceof Node||e instanceof ti(e).Node)}function ii(e){return!!Zr()&&(e instanceof Element||e instanceof ti(e).Element)}function oi(e){return!!Zr()&&(e instanceof HTMLElement||e instanceof ti(e).HTMLElement)}function si(e){return!(!Zr()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof ti(e).ShadowRoot)}const ai=new Set(["inline","contents"]);function li(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=bi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ai.has(i)}const ci=new Set(["table","td","th"]);function ui(e){return ci.has(ei(e))}const di=[":popover-open",":modal"];function hi(e){return di.some(t=>{try{return e.matches(t)}catch(lv){return!1}})}const fi=["transform","translate","scale","rotate","perspective"],pi=["transform","translate","scale","rotate","perspective","filter"],mi=["paint","layout","strict","content"];function gi(e){const t=vi(),n=ii(e)?bi(e):e;return fi.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||pi.some(e=>(n.willChange||"").includes(e))||mi.some(e=>(n.contain||"").includes(e))}function vi(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const yi=new Set(["html","body","#document"]);function wi(e){return yi.has(ei(e))}function bi(e){return ti(e).getComputedStyle(e)}function xi(e){return ii(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ei(e){if("html"===ei(e))return e;const t=e.assignedSlot||e.parentNode||si(e)&&e.host||ni(e);return si(t)?t.host:t}function Si(e){const t=Ei(e);return wi(t)?e.ownerDocument?e.ownerDocument.body:e.body:oi(t)&&li(t)?t:Si(t)}function _i(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Si(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=ti(i);if(o){const e=ki(s);return t.concat(s,s.visualViewport||[],li(i)?i:[],e&&n?_i(e):[])}return t.concat(i,_i(i,[],n))}function ki(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ti(e){const t=bi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=oi(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=xr(n)!==o||xr(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Ci(e){return ii(e)?e:e.contextElement}function Ni(e){const t=Ci(e);if(!oi(t))return Sr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Ti(t);let s=(o?xr(n.width):n.width)/r,a=(o?xr(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Ii=Sr(0);function Ri(e){const t=ti(e);return vi()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ii}function Pi(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Ci(e);let s=Sr(1);t&&(r?ii(r)&&(s=Ni(r)):s=Ni(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==ti(e))&&t}(o,n,r)?Ri(o):Sr(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const e=ti(o),t=r&&ii(r)?ti(r):r;let n=e,i=ki(n);for(;i&&r&&t!==n;){const e=Ni(i),t=i.getBoundingClientRect(),r=bi(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=s,n=ti(i),i=ki(n)}}return qr({width:u,height:d,x:l,y:c})}function Ai(e,t){const n=xi(e).scrollLeft;return t?t.left+n:Pi(ni(e)).left+n}function ji(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Ai(e,r)),y:r.top+t.scrollTop}}const Di=new Set(["absolute","fixed"]);function Oi(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=ti(e),r=ni(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=vi();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=ni(e),n=xi(e),r=e.ownerDocument.body,i=br(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=br(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ai(e);const a=-n.scrollTop;return"rtl"===bi(r).direction&&(s+=br(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(ni(e));else if(ii(t))r=function(e,t){const n=Pi(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=oi(e)?Ni(e):Sr(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=Ri(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return qr(r)}function Mi(e,t){const n=Ei(e);return!(n===t||!ii(n)||wi(n))&&("fixed"===bi(n).position||Mi(n,t))}function Li(e,t,n){const r=oi(t),i=ni(t),o="fixed"===n,s=Pi(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Sr(0);function c(){l.x=Ai(i)}if(r||!r&&!o)if(("body"!==ei(t)||li(i))&&(a=xi(t)),r){const e=Pi(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=!i||r||o?Sr(0):ji(i,a);return{x:s.left+a.scrollLeft-l.x-u.x,y:s.top+a.scrollTop-l.y-u.y,width:s.width,height:s.height}}function Fi(e){return"static"===bi(e).position}function Ui(e,t){if(!oi(e)||"fixed"===bi(e).position)return null;if(t)return t(e);let n=e.offsetParent;return ni(e)===n&&(n=n.ownerDocument.body),n}function Vi(e,t){const n=ti(e);if(hi(e))return n;if(!oi(e)){let t=Ei(e);for(;t&&!wi(t);){if(ii(t)&&!Fi(t))return t;t=Ei(t)}return n}let r=Ui(e,t);for(;r&&ui(r)&&Fi(r);)r=Ui(r,t);return r&&wi(r)&&Fi(r)&&!gi(r)?n:r||function(e){let t=Ei(e);for(;oi(t)&&!wi(t);){if(gi(t))return t;if(hi(t))return null;t=Ei(t)}return null}(e)||n}const zi={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=ni(r),a=!!t&&hi(t.floating);if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Sr(1);const u=Sr(0),d=oi(r);if((d||!d&&!o)&&(("body"!==ei(r)||li(s))&&(l=xi(r)),oi(r))){const e=Pi(r);c=Ni(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!s||d||o?Sr(0):ji(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:ni,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?hi(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=_i(e,[],!1).filter(e=>ii(e)&&"body"!==ei(e)),i=null;const o="fixed"===bi(e).position;let s=o?Ei(e):e;for(;ii(s)&&!wi(s);){const t=bi(s),n=gi(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&Di.has(i.position)||li(s)&&!n&&Mi(e,s))?r=r.filter(e=>e!==s):i=t,s=Ei(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((e,n)=>{const r=Oi(t,n,i);return e.top=br(r.top,e.top),e.right=wr(r.right,e.right),e.bottom=wr(r.bottom,e.bottom),e.left=br(r.left,e.left),e},Oi(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Vi,getElementRects:async function(e){const t=this.getOffsetParent||Vi,n=this.getDimensions,r=await n(e.floating);return{reference:Li(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ti(e);return{width:t,height:n}},getScale:Ni,isElement:ii,isRTL:function(e){return"rtl"===bi(e).direction}};function Bi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qi(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,u=Ci(e),d=i||o?[...u?_i(u):[],..._i(t)]:[];d.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const h=u&&a?function(e,t){let n,r=null;const i=ni(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,c){void 0===a&&(a=!1),void 0===c&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||t(),!f||!p)return;const m={rootMargin:-Er(h)+"px "+-Er(i.clientWidth-(d+f))+"px "+-Er(i.clientHeight-(h+p))+"px "+-Er(d)+"px",threshold:br(0,wr(1,c))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||Bi(u,e.getBoundingClientRect())||s(),g=!1}try{r=new IntersectionObserver(v,l(l({},m),{},{root:i.ownerDocument}))}catch(lv){r=new IntersectionObserver(v,m)}r.observe(e)}(!0),o}(u,n):null;let f,p=-1,m=null;s&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g=c?Pi(e):null;return c&&function t(){const r=Pi(e);g&&!Bi(g,r)&&n();g=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(f)}}const Hi=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,c=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=Nr(n),a=Ir(n),l="y"===jr(n),c=Jr.has(s)?-1:1,u=o&&l?-1:1,d=Cr(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"===typeof p&&(f="end"===a?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:l(l({},c),{},{placement:s})}}}},Wi=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,o=Cr(e,t),{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=o,d=c(o,Kr),h={x:n,y:r},f=await Yr(t,d),p=jr(Nr(i)),m=Rr(p);let g=h[m],v=h[p];if(s){const e="y"===m?"bottom":"right";g=Tr(g+f["y"===m?"top":"left"],g,g-f[e])}if(a){const e="y"===p?"bottom":"right";v=Tr(v+f["y"===p?"top":"left"],v,v-f[e])}const y=u.fn(l(l({},t),{},{[m]:g,[p]:v}));return l(l({},y),{},{data:{x:y.x-n,y:y.y-r,enabled:{[m]:s,[p]:a}}})}}},Ki=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,d=Cr(e,t),{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=d,y=c(d,Hr);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const w=Nr(i),b=jr(a),x=Nr(a)===a,E=await(null==l.isRTL?void 0:l.isRTL(u.floating)),S=p||(x||!v?[zr(a)]:function(e){const t=zr(e);return[Or(e),t,Or(t)]}(a)),_="none"!==g;!p&&_&&S.push(...Vr(a,v,g,E));const k=[a,...S],T=await Yr(t,y),C=[];let N=(null==(r=o.flip)?void 0:r.overflows)||[];if(h&&C.push(T[w]),f){const e=function(e,t,n){void 0===n&&(n=!1);const r=Ir(e),i=Dr(e),o=Pr(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=zr(s)),[s,zr(s)]}(i,s,E);C.push(T[e[0]],T[e[1]])}if(N=[...N,{placement:i,overflows:C}],!C.every(e=>e<=0)){var I,R;const e=((null==(I=o.flip)?void 0:I.index)||0)+1,t=k[e];if(t){if(!("alignment"===f&&b!==jr(t))||N.every(e=>e.overflows[0]>0&&jr(e.placement)===b))return{data:{index:e,overflows:N},reset:{placement:t}}}let n=null==(R=N.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:R.placement;if(!n)switch(m){case"bestFit":{var P;const e=null==(P=N.filter(e=>{if(_){const t=jr(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},Gi=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,u=Cr(e,t),{apply:d=()=>{}}=u,h=c(u,Gr),f=await Yr(t,h),p=Nr(i),m=Ir(i),g="y"===jr(i),{width:v,height:y}=o.floating;let w,b;"top"===p||"bottom"===p?(w=p,b=m===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(b=p,w="end"===m?"top":"bottom");const x=y-f.top-f.bottom,E=v-f.left-f.right,S=wr(y-f[w],x),_=wr(v-f[b],E),k=!t.middlewareData.shift;let T=S,C=_;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=E),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(T=x),k&&!m){const e=br(f.left,0),t=br(f.right,0),n=br(f.top,0),r=br(f.bottom,0);g?C=v-2*(0!==e||0!==t?e+t:br(f.left,f.right)):T=y-2*(0!==n||0!==r?n+r:br(f.top,f.bottom))}await d(l(l({},t),{},{availableWidth:C,availableHeight:T}));const N=await s.getDimensions(a.floating);return v!==N.width||y!==N.height?{reset:{rects:!0}}:{}}}},Qi=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,r=Cr(e,t),{strategy:i="referenceHidden"}=r,o=c(r,Wr);switch(i){case"referenceHidden":{const e=Xr(await Yr(t,l(l({},o),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:$r(e)}}}case"escaped":{const e=Xr(await Yr(t,l(l({},o),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:$r(e)}}}default:return{}}}}},Yi=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=Cr(e,t)||{};if(null==u)return{};const h=Br(d),f={x:n,y:r},p=Dr(i),m=Pr(p),g=await s.getDimensions(u),v="y"===p,y=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",x=o.reference[m]+o.reference[p]-f[p]-o.floating[m],E=f[p]-o.reference[p],S=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let _=S?S[b]:0;_&&await(null==s.isElement?void 0:s.isElement(S))||(_=a.floating[b]||o.floating[m]);const k=x/2-E/2,T=_/2-g[m]/2-1,C=wr(h[y],T),N=wr(h[w],T),I=C,R=_-g[m]-N,P=_/2-g[m]/2+k,A=Tr(I,P,R),j=!c.arrow&&null!=Ir(i)&&P!==A&&o.reference[m]/2-(P<I?C:N)-g[m]/2<0,D=j?P<I?P-I:P-R:0;return{[p]:f[p]+D,data:l({[p]:A,centerOffset:P-A-D},j&&{alignmentOffset:D}),reset:j}}}),Xi=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Cr(e,t),d={x:n,y:r},h=jr(i),f=Rr(h);let p=d[f],m=d[h];const g=Cr(a,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:l({mainAxis:0,crossAxis:0},g);if(c){const e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+v.mainAxis,n=o.reference[f]+o.reference[e]-v.mainAxis;p<t?p=t:p>n&&(p=n)}if(u){var y,w;const e="y"===f?"width":"height",t=Jr.has(Nr(i)),n=o.reference[h]-o.floating[e]+(t&&(null==(y=s.offset)?void 0:y[h])||0)+(t?0:v.crossAxis),r=o.reference[h]+o.reference[e]+(t?0:(null==(w=s.offset)?void 0:w[h])||0)-(t?v.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[h]:m}}}},$i=(e,t,n)=>{const r=new Map,i=l({platform:zi},n),o=l(l({},i.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=Qr(u,r,c),f=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:n,fn:o}=a[g],{x:v,y:y,data:w,reset:b}=await o({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=y?y:h,p=l(l({},p),{},{[n]:l(l({},p[n]),w)}),b&&m<=50&&(m++,"object"===typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:h}=Qr(u,f,c))),g=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}})(e,t,l(l({},i),{},{platform:o}))};var Ji="undefined"!==typeof document?d.useLayoutEffect:function(){};function Zi(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Zi(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!Zi(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function eo(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function to(e,t){const n=eo(e);return Math.round(t*n)/n}function no(e){const t=d.useRef(e);return Ji(()=>{t.current=e}),t}const ro=(e,t)=>l(l({},Hi(e)),{},{options:[e,t]}),io=(e,t)=>l(l({},Wi(e)),{},{options:[e,t]}),oo=(e,t)=>l(l({},Xi(e)),{},{options:[e,t]}),so=(e,t)=>l(l({},Ki(e)),{},{options:[e,t]}),ao=(e,t)=>l(l({},Gi(e)),{},{options:[e,t]}),lo=(e,t)=>l(l({},Qi(e)),{},{options:[e,t]}),co=(e,t)=>l(l({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?Yi({element:n.current,padding:r}).fn(t):{}:n?Yi({element:n,padding:r}).fn(t):{};var i}}))(e)),{},{options:[e,t]}),uo=["children","width","height"];var ho=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5}=e,o=c(e,uo);return(0,j.jsx)(Z.svg,l(l({},o),{},{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,j.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});ho.displayName="Arrow";var fo=ho;const po=["__scopePopper","virtualRef"],mo=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],go=["__scopePopper"];var vo="Popper",[yo,wo]=M(vo),[bo,xo]=yo(vo),Eo=e=>{const{__scopePopper:t,children:n}=e,[r,i]=d.useState(null);return(0,j.jsx)(bo,{scope:t,anchor:r,onAnchorChange:i,children:n})};Eo.displayName=vo;var So="PopperAnchor",_o=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r}=e,i=c(e,po),o=xo(So,n),s=d.useRef(null),a=C(t,s);return d.useEffect(()=>{o.onAnchorChange((null===r||void 0===r?void 0:r.current)||s.current)}),r?null:(0,j.jsx)(Z.div,l(l({},i),{},{ref:a}))});_o.displayName=So;var ko="PopperContent",[To,Co]=yo(ko),No=d.forwardRef((e,t)=>{var n,r,i,o,s,a,u,h;const{__scopePopper:f,side:p="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:w=!0,collisionBoundary:b=[],collisionPadding:x=0,sticky:S="partial",hideWhenDetached:_=!1,updatePositionStrategy:k="optimized",onPlaced:T}=e,N=c(e,mo),I=xo(ko,f),[R,P]=d.useState(null),A=C(t,e=>P(e)),[D,O]=d.useState(null),M=function(e){const[t,n]=d.useState(void 0);return pe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,o;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(D),L=null!==(n=null===M||void 0===M?void 0:M.width)&&void 0!==n?n:0,F=null!==(r=null===M||void 0===M?void 0:M.height)&&void 0!==r?r:0,U=p+("center"!==g?"-"+g:""),V="number"===typeof x?x:l({top:0,right:0,bottom:0,left:0},x),z=Array.isArray(b)?b:[b],B=z.length>0,q={padding:V,boundary:z.filter(Ao),altBoundary:B},{refs:H,floatingStyles:W,placement:K,isPositioned:G,middlewareData:Q}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=d.useState(r);Zi(p,r)||m(r);const[g,v]=d.useState(null),[y,w]=d.useState(null),b=d.useCallback(e=>{e!==k.current&&(k.current=e,v(e))},[]),x=d.useCallback(e=>{e!==T.current&&(T.current=e,w(e))},[]),S=o||g,_=s||y,k=d.useRef(null),T=d.useRef(null),C=d.useRef(h),N=null!=c,I=no(c),R=no(i),P=no(u),A=d.useCallback(()=>{if(!k.current||!T.current)return;const e={placement:t,strategy:n,middleware:p};R.current&&(e.platform=R.current),$i(k.current,T.current,e).then(e=>{const t=l(l({},e),{},{isPositioned:!1!==P.current});j.current&&!Zi(C.current,t)&&(C.current=t,E.flushSync(()=>{f(t)}))})},[p,t,n,R,P]);Ji(()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,f(e=>l(l({},e),{},{isPositioned:!1})))},[u]);const j=d.useRef(!1);Ji(()=>(j.current=!0,()=>{j.current=!1}),[]),Ji(()=>{if(S&&(k.current=S),_&&(T.current=_),S&&_){if(I.current)return I.current(S,_,A);A()}},[S,_,A,I,N]);const D=d.useMemo(()=>({reference:k,floating:T,setReference:b,setFloating:x}),[b,x]),O=d.useMemo(()=>({reference:S,floating:_}),[S,_]),M=d.useMemo(()=>{const e={position:n,left:0,top:0};if(!O.floating)return e;const t=to(O.floating,h.x),r=to(O.floating,h.y);return a?l(l({},e),{},{transform:"translate("+t+"px, "+r+"px)"},eo(O.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,a,O.floating,h.x,h.y]);return d.useMemo(()=>l(l({},h),{},{update:A,refs:D,elements:O,floatingStyles:M}),[h,A,D,O,M])}({strategy:"fixed",placement:U,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qi(...t,{animationFrame:"always"===k})},elements:{reference:I.anchor},middleware:[ro({mainAxis:m+F,alignmentAxis:v}),w&&io(l({mainAxis:!0,crossAxis:!1,limiter:"partial"===S?oo():void 0},q)),w&&so(l({},q)),ao(l(l({},q),{},{apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:o,height:s}=n.reference,a=t.floating.style;a.setProperty("--radix-popper-available-width","".concat(r,"px")),a.setProperty("--radix-popper-available-height","".concat(i,"px")),a.setProperty("--radix-popper-anchor-width","".concat(o,"px")),a.setProperty("--radix-popper-anchor-height","".concat(s,"px"))}})),D&&co({element:D,padding:y}),jo({arrowWidth:L,arrowHeight:F}),_&&lo(l({strategy:"referenceHidden"},q))]}),[Y,X]=Do(K),$=te(T);pe(()=>{G&&(null===$||void 0===$||$())},[G,$]);const J=null===(i=Q.arrow)||void 0===i?void 0:i.x,ee=null===(o=Q.arrow)||void 0===o?void 0:o.y,ne=0!==(null===(s=Q.arrow)||void 0===s?void 0:s.centerOffset),[re,ie]=d.useState();return pe(()=>{R&&ie(window.getComputedStyle(R).zIndex)},[R]),(0,j.jsx)("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:l(l({},W),{},{transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[null===(a=Q.transformOrigin)||void 0===a?void 0:a.x,null===(u=Q.transformOrigin)||void 0===u?void 0:u.y].join(" ")},(null===(h=Q.hide)||void 0===h?void 0:h.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,j.jsx)(To,{scope:f,placedSide:Y,onArrowChange:O,arrowX:J,arrowY:ee,shouldHideArrow:ne,children:(0,j.jsx)(Z.div,l(l({"data-side":Y,"data-align":X},N),{},{ref:A,style:l(l({},N.style),{},{animation:G?void 0:"none"})}))})})});No.displayName=ko;var Io="PopperArrow",Ro={top:"bottom",right:"left",bottom:"top",left:"right"},Po=d.forwardRef(function(e,t){const{__scopePopper:n}=e,r=c(e,go),i=Co(Io,n),o=Ro[i.placedSide];return(0,j.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,j.jsx)(fo,l(l({},r),{},{ref:t,style:l(l({},r.style),{},{display:"block"})}))})});function Ao(e){return null!==e}Po.displayName=Io;var jo=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=Do(a),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(r=null===(i=c.arrow)||void 0===i?void 0:i.x)&&void 0!==r?r:0)+d/2,v=(null!==(o=null===(s=c.arrow)||void 0===s?void 0:s.y)&&void 0!==o?o:0)+h/2;let y="",w="";return"bottom"===f?(y=u?m:"".concat(g,"px"),w="".concat(-h,"px")):"top"===f?(y=u?m:"".concat(g,"px"),w="".concat(l.floating.height+h,"px")):"right"===f?(y="".concat(-h,"px"),w=u?m:"".concat(v,"px")):"left"===f&&(y="".concat(l.floating.width+h,"px"),w=u?m:"".concat(v,"px")),{data:{x:y,y:w}}}});function Do(e){const[t,n="center"]=e.split("-");return[t,n]}var Oo=Eo,Mo=_o,Lo=No,Fo=Po;const Uo=["__scopeTooltip"],Vo=["forceMount","side"],zo=["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"],Bo=["__scopeTooltip"];var[qo,Ho]=M("Tooltip",[wo]),Wo=wo(),Ko="TooltipProvider",Go=700,Qo="tooltip.open",[Yo,Xo]=qo(Ko),$o=e=>{const{__scopeTooltip:t,delayDuration:n=Go,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,s=d.useRef(!0),a=d.useRef(!1),l=d.useRef(0);return d.useEffect(()=>{const e=l.current;return()=>window.clearTimeout(e)},[]),(0,j.jsx)(Yo,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:d.useCallback(e=>{a.current=e},[]),disableHoverableContent:i,children:o})};$o.displayName=Ko;var Jo="Tooltip",[Zo,es]=qo(Jo),ts=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=e,c=Xo(Jo,e.__scopeTooltip),u=Wo(t),[h,f]=d.useState(null),p=vr(),m=d.useRef(0),g=null!==s&&void 0!==s?s:c.disableHoverableContent,v=null!==a&&void 0!==a?a:c.delayDuration,y=d.useRef(!1),[w,b]=be({prop:r,defaultProp:null!==i&&void 0!==i&&i,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(Qo))):c.onClose(),null===o||void 0===o||o(e)},caller:Jo}),x=d.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),E=d.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),S=d.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),_=d.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},v)},[v,b]);return d.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),(0,j.jsx)(Oo,l(l({},u),{},{children:(0,j.jsx)(Zo,{scope:t,contentId:p,open:w,stateAttribute:x,trigger:h,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayedRef.current?_():E()},[c.isOpenDelayedRef,_,E]),onTriggerLeave:d.useCallback(()=>{g?S():(window.clearTimeout(m.current),m.current=0)},[S,g]),onOpen:E,onClose:S,disableHoverableContent:g,children:n})}))};ts.displayName=Jo;var ns="TooltipTrigger",rs=d.forwardRef((e,t)=>{const{__scopeTooltip:n}=e,r=c(e,Uo),i=es(ns,n),o=Xo(ns,n),s=Wo(n),a=C(t,d.useRef(null),i.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),f=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),(0,j.jsx)(Mo,l(l({asChild:!0},s),{},{children:(0,j.jsx)(Z.button,l(l({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r),{},{ref:a,onPointerMove:_(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),h.current=!0))}),onPointerLeave:_(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:_(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:_(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:_(e.onBlur,i.onClose),onClick:_(e.onClick,i.onClose)}))}))});rs.displayName=ns;var is="TooltipPortal",[os,ss]=qo(is,{forceMount:void 0}),as=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=es(is,t);return(0,j.jsx)(os,{scope:t,forceMount:n,children:(0,j.jsx)(ve,{present:n||o.open,children:(0,j.jsx)(ge,{asChild:!0,container:i,children:r})})})};as.displayName=is;var ls="TooltipContent",cs=d.forwardRef((e,t)=>{const n=ss(ls,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top"}=e,o=c(e,Vo),s=es(ls,e.__scopeTooltip);return(0,j.jsx)(ve,{present:r||s.open,children:s.disableHoverableContent?(0,j.jsx)(ps,l(l({side:i},o),{},{ref:t})):(0,j.jsx)(us,l(l({side:i},o),{},{ref:t}))})}),us=d.forwardRef((e,t)=>{const n=es(ls,e.__scopeTooltip),r=Xo(ls,e.__scopeTooltip),i=d.useRef(null),o=C(t,i),[s,a]=d.useState(null),{trigger:c,onClose:u}=n,h=i.current,{onPointerInTransitChange:f}=r,p=d.useCallback(()=>{a(null),f(!1)},[f]),m=d.useCallback((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect())),o=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;n.length>=2;){const e=n[n.length-1],r=n[n.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...i,...function(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}(t.getBoundingClientRect())]);a(o),f(!0)},[f]);return d.useEffect(()=>()=>p(),[p]),d.useEffect(()=>{if(c&&h){const e=e=>m(e,h),t=e=>m(e,c);return c.addEventListener("pointerleave",e),h.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),h.removeEventListener("pointerleave",t)}}},[c,h,m,p]),d.useEffect(()=>{if(s){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=(null===c||void 0===c?void 0:c.contains(t))||(null===h||void 0===h?void 0:h.contains(t)),i=!function(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const e=t[o],a=t[s],l=e.x,c=e.y,u=a.x,d=a.y;c>r!==d>r&&n<(u-l)*(r-c)/(d-c)+l&&(i=!i)}return i}(n,s);r?p():i&&(p(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,h,s,u,p]),(0,j.jsx)(ps,l(l({},e),{},{ref:o}))}),[ds,hs]=qo(Jo,{isInside:!1}),fs=H("TooltipContent"),ps=d.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s}=e,a=c(e,zo),u=es(ls,n),h=Wo(n),{onClose:f}=u;return d.useEffect(()=>(document.addEventListener(Qo,f),()=>document.removeEventListener(Qo,f)),[f]),d.useEffect(()=>{if(u.trigger){const e=e=>{const t=e.target;null!==t&&void 0!==t&&t.contains(u.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,f]),(0,j.jsx)(le,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:(0,j.jsxs)(Lo,l(l(l({"data-state":u.stateAttribute},h),a),{},{ref:t,style:l(l({},a.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[(0,j.jsx)(fs,{children:r}),(0,j.jsx)(ds,{scope:n,isInside:!0,children:(0,j.jsx)(Se,{id:u.contentId,role:"tooltip",children:i||r})})]}))})});cs.displayName=ls;var ms="TooltipArrow",gs=d.forwardRef((e,t)=>{const{__scopeTooltip:n}=e,r=c(e,Bo),i=Wo(n);return hs(ms,n).isInside?null:(0,j.jsx)(Fo,l(l(l({},i),r),{},{ref:t}))});gs.displayName=ms;var vs=cs;const ys=["className","sideOffset"],ws=$o;d.forwardRef((e,t)=>{let{className:n,sideOffset:r=4}=e,i=c(e,ys);return(0,j.jsx)(vs,l({ref:t,sideOffset:r,className:Nn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},i))}).displayName=vs.displayName;var bs="undefined"===typeof window||"Deno"in globalThis;function xs(){}function Es(e,t){return"function"===typeof e?e(t):e}function Ss(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s)if(r){if(t.queryHash!==ks(s,t.options))return!1}else if(!Cs(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(o&&!o(t)))}function _s(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ts(t.options.mutationKey)!==Ts(o))return!1}else if(!Cs(t.options.mutationKey,o))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function ks(e,t){return((null===t||void 0===t?void 0:t.queryKeyHashFn)||Ts)(e)}function Ts(e){return JSON.stringify(e,(e,t)=>Rs(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function Cs(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(n=>Cs(e[n],t[n])))}function Ns(e,t){if(e===t)return e;const n=Is(e)&&Is(t);if(n||Rs(e)&&Rs(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<s;u++){const r=n?u:o[u];(!n&&l.has(r)||n)&&void 0===e[r]&&void 0===t[r]?(a[r]=void 0,c++):(a[r]=Ns(e[r],t[r]),a[r]===e[r]&&void 0!==e[r]&&c++)}return i===s&&c===i?e:a}return t}function Is(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rs(e){if(!Ps(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Ps(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Ps(e){return"[object Object]"===Object.prototype.toString.call(e)}function As(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Ns(e,t):t}function js(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Ds(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Os=Symbol();function Ms(e,t){return!e.queryFn&&null!==t&&void 0!==t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Os?e.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'")))}function Ls(e,t){N(e,t),t.add(e)}var Fs=e=>setTimeout(e,0);var Us,Vs,zs,Bs,qs,Hs,Ws=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=Fs;const o=r=>{t?e.push(r):i(()=>{n(r)})};return{batch:o=>{let s;t++;try{s=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o(()=>{e(...n)})},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),Ks=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gs=new(Us=new WeakMap,Vs=new WeakMap,zs=new WeakMap,class extends Ks{constructor(){super(),I(this,Us,void 0),I(this,Vs,void 0),I(this,zs,void 0),A(zs,this,e=>{if(!bs&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){P(Vs,this)||this.setEventListener(P(zs,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=P(Vs,this))||void 0===e||e.call(this),A(Vs,this,void 0))}setEventListener(e){var t;A(zs,this,e),null===(t=P(Vs,this))||void 0===t||t.call(this),A(Vs,this,e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){P(Us,this)!==e&&(A(Us,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"===typeof P(Us,this)?P(Us,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),Qs=new(Bs=new WeakMap,qs=new WeakMap,Hs=new WeakMap,class extends Ks{constructor(){super(),I(this,Bs,!0),I(this,qs,void 0),I(this,Hs,void 0),A(Hs,this,e=>{if(!bs&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){P(qs,this)||this.setEventListener(P(Hs,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=P(qs,this))||void 0===e||e.call(this),A(qs,this,void 0))}setEventListener(e){var t;A(Hs,this,e),null===(t=P(qs,this))||void 0===t||t.call(this),A(qs,this,e(this.setOnline.bind(this)))}setOnline(e){P(Bs,this)!==e&&(A(Bs,this,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return P(Bs,this)}});function Ys(e){return Math.min(1e3*2**e,3e4)}function Xs(e){return"online"!==(null!==e&&void 0!==e?e:"online")||Qs.isOnline()}var $s,Js=class extends Error{constructor(e){super("CancelledError"),this.revert=null===e||void 0===e?void 0:e.revert,this.silent=null===e||void 0===e?void 0:e.silent}};function Zs(e){return e instanceof Js}function ea(e){let t,n=!1,r=0,i=!1;const o=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),s=()=>Gs.isFocused()&&("always"===e.networkMode||Qs.isOnline())&&e.canRun(),a=()=>Xs(e.networkMode)&&e.canRun(),l=n=>{var r,s;i||(i=!0,null===(r=e.onSuccess)||void 0===r||r.call(e,n),null===(s=t)||void 0===s||s(),o.resolve(n))},c=n=>{var r,s;i||(i=!0,null===(r=e.onError)||void 0===r||r.call(e,n),null===(s=t)||void 0===s||s(),o.reject(n))},u=()=>new Promise(n=>{var r;t=e=>{(i||s())&&n(e)},null===(r=e.onPause)||void 0===r||r.call(e)}).then(()=>{var n;(t=void 0,i)||(null===(n=e.onContinue)||void 0===n||n.call(e))}),d=()=>{if(i)return;let t;const o=0===r?e.initialPromise:void 0;try{t=null!==o&&void 0!==o?o:e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch(t=>{var o,a,l;if(i)return;const h=null!==(o=e.retry)&&void 0!==o?o:bs?0:3,f=null!==(a=e.retryDelay)&&void 0!==a?a:Ys,p="function"===typeof f?f(r,t):f,m=!0===h||"number"===typeof h&&r<h||"function"===typeof h&&h(r,t);var g;!n&&m?(r++,null===(l=e.onFail)||void 0===l||l.call(e,r,t),(g=p,new Promise(e=>{setTimeout(e,g)})).then(()=>s()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:o,cancel:t=>{var n;i||(c(new Js(t)),null===(n=e.abort)||void 0===n||n.call(e))},continue:()=>{var e;return null===(e=t)||void 0===e||e(),o},cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():u().then(d),o)}}var ta,na,ra,ia,oa,sa,aa,la,ca,ua=($s=new WeakMap,class{constructor(){I(this,$s,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.gcTime)&&e>=0&&e!==1/0&&A($s,this,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!==e&&void 0!==e?e:bs?1/0:3e5)}clearGcTimeout(){P($s,this)&&(clearTimeout(P($s,this)),A($s,this,void 0))}}),da=(ta=new WeakMap,na=new WeakMap,ra=new WeakMap,ia=new WeakMap,oa=new WeakMap,sa=new WeakMap,aa=new WeakMap,la=new WeakSet,class extends ua{constructor(e){var t;super(),Ls(this,la),I(this,ta,void 0),I(this,na,void 0),I(this,ra,void 0),I(this,ia,void 0),I(this,oa,void 0),I(this,sa,void 0),I(this,aa,void 0),A(aa,this,!1),A(sa,this,e.defaultOptions),this.setOptions(e.options),this.observers=[],A(ia,this,e.client),A(ra,this,P(ia,this).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,A(ta,this,function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!==r&&void 0!==r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=null!==(t=e.state)&&void 0!==t?t:P(ta,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=P(oa,this))||void 0===e?void 0:e.promise}setOptions(e){this.options=l(l({},P(sa,this)),e),this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||P(ra,this).remove(this)}setData(e,t){const n=As(this.state.data,e,this.options);return R(la,this,ha).call(this,{data:n,type:"success",dataUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,manual:null===t||void 0===t?void 0:t.manual}),n}setState(e,t){R(la,this,ha).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null===(t=P(oa,this))||void 0===t?void 0:t.promise;return null===(n=P(oa,this))||void 0===n||n.cancel(e),r?r.then(xs).catch(xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(ta,this))}isActive(){return this.observers.some(e=>!1!==function(e,t){return"function"===typeof e?e(t):e}(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Os||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Es(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=P(oa,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=P(oa,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(ra,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(P(oa,this)&&(P(aa,this)?P(oa,this).cancel({revert:!0}):P(oa,this).cancelRetry()),this.scheduleGc()),P(ra,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||R(la,this,ha).call(this,{type:"invalidate"})}fetch(e,t){var n,r;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&null!==t&&void 0!==t&&t.cancelRefetch)this.cancel({silent:!0});else if(P(oa,this))return P(oa,this).continueRetry(),P(oa,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const i=new AbortController,o=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(A(aa,this,!0),i.signal)})},s=()=>{const e=Ms(this.options,t),n=(()=>{const e={client:P(ia,this),queryKey:this.queryKey,meta:this.meta};return o(e),e})();return A(aa,this,!1),this.options.persister?this.options.persister(e,n,this):e(n)},a=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:P(ia,this),state:this.state,fetchFn:s};return o(e),e})();var l;(null===(n=this.options.behavior)||void 0===n||n.onFetch(a,this),A(na,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(r=a.fetchOptions)||void 0===r?void 0:r.meta))&&R(la,this,ha).call(this,{type:"fetch",meta:null===(l=a.fetchOptions)||void 0===l?void 0:l.meta});const c=e=>{var t,n,r,i;(Zs(e)&&e.silent||R(la,this,ha).call(this,{type:"error",error:e}),Zs(e))||(null===(t=(n=P(ra,this).config).onError)||void 0===t||t.call(n,e,this),null===(r=(i=P(ra,this).config).onSettled)||void 0===r||r.call(i,this.state.data,e,this));this.scheduleGc()};return A(oa,this,ea({initialPromise:null===t||void 0===t?void 0:t.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:e=>{var t,n,r,i;if(void 0!==e){try{this.setData(e)}catch(o){return void c(o)}null===(t=(n=P(ra,this).config).onSuccess)||void 0===t||t.call(n,e,this),null===(r=(i=P(ra,this).config).onSettled)||void 0===r||r.call(i,e,this.state.error,this),this.scheduleGc()}else c(new Error("".concat(this.queryHash," data is undefined")))},onError:c,onFail:(e,t)=>{R(la,this,ha).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{R(la,this,ha).call(this,{type:"pause"})},onContinue:()=>{R(la,this,ha).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(oa,this).start()}});function ha(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return l(l({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return l(l({},t),{},{fetchStatus:"paused"});case"continue":return l(l({},t),{},{fetchStatus:"fetching"});case"fetch":return l(l(l({},t),function(e,t){return l({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xs(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}(t.data,this.options)),{},{fetchMeta:null!==(n=e.meta)&&void 0!==n?n:null});case"success":return A(na,this,void 0),l(l({},t),{},{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!==(r=e.dataUpdatedAt)&&void 0!==r?r:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const i=e.error;return Zs(i)&&i.revert&&P(na,this)?l(l({},P(na,this)),{},{fetchStatus:"idle"}):l(l({},t),{},{error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"});case"invalidate":return l(l({},t),{},{isInvalidated:!0});case"setState":return l(l({},t),e.state)}})(this.state),Ws.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),P(ra,this).notify({query:this,type:"updated",action:e})})}var fa,pa,ma,ga,va,ya,wa,ba=(ca=new WeakMap,class extends Ks{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),I(this,ca,void 0),this.config=e,A(ca,this,new Map)}build(e,t,n){var r;const i=t.queryKey,o=null!==(r=t.queryHash)&&void 0!==r?r:ks(i,t);let s=this.get(o);return s||(s=new da({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){P(ca,this).has(e.queryHash)||(P(ca,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=P(ca,this).get(e.queryHash);t&&(e.destroy(),t===e&&P(ca,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ws.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(ca,this).get(e)}getAll(){return[...P(ca,this).values()]}find(e){const t=l({exact:!0},e);return this.getAll().find(e=>Ss(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Ss(e,t)):t}notify(e){Ws.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ws.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ws.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}}),xa=(fa=new WeakMap,pa=new WeakMap,ma=new WeakMap,ga=new WeakSet,class extends ua{constructor(e){super(),Ls(this,ga),I(this,fa,void 0),I(this,pa,void 0),I(this,ma,void 0),this.mutationId=e.mutationId,A(pa,this,e.mutationCache),A(fa,this,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(fa,this).includes(e)||(P(fa,this).push(e),this.clearGcTimeout(),P(pa,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){A(fa,this,P(fa,this).filter(t=>t!==e)),this.scheduleGc(),P(pa,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(fa,this).length||("pending"===this.state.status?this.scheduleGc():P(pa,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=P(ma,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;const n=()=>{R(ga,this,Ea).call(this,{type:"continue"})};A(ma,this,ea({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{R(ga,this,Ea).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{R(ga,this,Ea).call(this,{type:"pause"})},onContinue:n,retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(pa,this).canRun(this)}));const r="pending"===this.state.status,i=!P(ma,this).canStart();try{var o,s,a,l,c,u,d,h;if(r)n();else{var f,p,m,g;R(ga,this,Ea).call(this,{type:"pending",variables:e,isPaused:i}),await(null===(f=(p=P(pa,this).config).onMutate)||void 0===f?void 0:f.call(p,e,this));const t=await(null===(m=(g=this.options).onMutate)||void 0===m?void 0:m.call(g,e));t!==this.state.context&&R(ga,this,Ea).call(this,{type:"pending",context:t,variables:e,isPaused:i})}const t=await P(ma,this).start();return await(null===(o=(s=P(pa,this).config).onSuccess)||void 0===o?void 0:o.call(s,t,e,this.state.context,this)),await(null===(a=(l=this.options).onSuccess)||void 0===a?void 0:a.call(l,t,e,this.state.context)),await(null===(c=(u=P(pa,this).config).onSettled)||void 0===c?void 0:c.call(u,t,null,this.state.variables,this.state.context,this)),await(null===(d=(h=this.options).onSettled)||void 0===d?void 0:d.call(h,t,null,e,this.state.context)),R(ga,this,Ea).call(this,{type:"success",data:t}),t}catch(k){try{var v,y,w,b,x,E,S,_;throw await(null===(v=(y=P(pa,this).config).onError)||void 0===v?void 0:v.call(y,k,e,this.state.context,this)),await(null===(w=(b=this.options).onError)||void 0===w?void 0:w.call(b,k,e,this.state.context)),await(null===(x=(E=P(pa,this).config).onSettled)||void 0===x?void 0:x.call(E,void 0,k,this.state.variables,this.state.context,this)),await(null===(S=(_=this.options).onSettled)||void 0===S?void 0:S.call(_,void 0,k,e,this.state.context)),k}finally{R(ga,this,Ea).call(this,{type:"error",error:k})}}finally{P(pa,this).runNext(this)}}});function Ea(e){this.state=(t=>{switch(e.type){case"failed":return l(l({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return l(l({},t),{},{isPaused:!0});case"continue":return l(l({},t),{},{isPaused:!1});case"pending":return l(l({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return l(l({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return l(l({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),Ws.batch(()=>{P(fa,this).forEach(t=>{t.onMutationUpdate(e)}),P(pa,this).notify({mutation:this,type:"updated",action:e})})}var Sa,_a,ka,Ta,Ca,Na,Ia,Ra,Pa=(va=new WeakMap,ya=new WeakMap,wa=new WeakMap,class extends Ks{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),I(this,va,void 0),I(this,ya,void 0),I(this,wa,void 0),this.config=e,A(va,this,new Set),A(ya,this,new Map),A(wa,this,0)}build(e,t,n){var r;const i=new xa({mutationCache:this,mutationId:A(wa,this,(r=P(wa,this),++r)),options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){P(va,this).add(e);const t=Aa(e);if("string"===typeof t){const n=P(ya,this).get(t);n?n.push(e):P(ya,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(va,this).delete(e)){const t=Aa(e);if("string"===typeof t){const n=P(ya,this).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&P(ya,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Aa(e);if("string"===typeof t){const n=P(ya,this).get(t),r=null===n||void 0===n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=Aa(e);if("string"===typeof t){var n,r;const i=null===(n=P(ya,this).get(t))||void 0===n?void 0:n.find(t=>t!==e&&t.state.isPaused);return null!==(r=null===i||void 0===i?void 0:i.continue())&&void 0!==r?r:Promise.resolve()}return Promise.resolve()}clear(){Ws.batch(()=>{P(va,this).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(va,this).clear(),P(ya,this).clear()})}getAll(){return Array.from(P(va,this))}find(e){const t=l({exact:!0},e);return this.getAll().find(e=>_s(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>_s(e,t))}notify(e){Ws.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Ws.batch(()=>Promise.all(e.map(e=>e.continue().catch(xs))))}});function Aa(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function ja(e){return{onFetch:(t,n)=>{var r,i,o;const s=t.options,a=null===(r=t.fetchOptions)||void 0===r||null===(r=r.meta)||void 0===r||null===(r=r.fetchMore)||void 0===r?void 0:r.direction,l=(null===(i=t.state.data)||void 0===i?void 0:i.pages)||[],c=(null===(o=t.state.data)||void 0===o?void 0:o.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let n=!1;const r=Ms(t.options,t.fetchOptions),i=async(e,i,o)=>{if(n)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:o?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),a=await r(s),{maxPages:l}=t.options,c=o?Ds:js;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,i,l)}};if(a&&l.length){const e="backward"===a,t={pages:l,pageParams:c},n=(e?Oa:Da)(s,t);u=await i(t,n,e)}else{const t=null!==e&&void 0!==e?e:l.length;do{var o;const e=0===d?null!==(o=c[0])&&void 0!==o?o:s.initialPageParam:Da(s,u);if(d>0&&null==e)break;u=await i(u,e),d++}while(d<t)}return u};t.options.persister?t.fetchFn=()=>{var e,r;return null===(e=(r=t.options).persister)||void 0===e?void 0:e.call(r,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Da(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Oa(e,t){var n;let{pages:r,pageParams:i}=t;return r.length>0?null===(n=e.getPreviousPageParam)||void 0===n?void 0:n.call(e,r[0],r,i[0],i):void 0}var Ma,La=(Sa=new WeakMap,_a=new WeakMap,ka=new WeakMap,Ta=new WeakMap,Ca=new WeakMap,Na=new WeakMap,Ia=new WeakMap,Ra=new WeakMap,class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};I(this,Sa,void 0),I(this,_a,void 0),I(this,ka,void 0),I(this,Ta,void 0),I(this,Ca,void 0),I(this,Na,void 0),I(this,Ia,void 0),I(this,Ra,void 0),A(Sa,this,e.queryCache||new ba),A(_a,this,e.mutationCache||new Pa),A(ka,this,e.defaultOptions||{}),A(Ta,this,new Map),A(Ca,this,new Map),A(Na,this,0)}mount(){var e;A(Na,this,(e=P(Na,this),e++,e)),1===P(Na,this)&&(A(Ia,this,Gs.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(Sa,this).onFocus())})),A(Ra,this,Qs.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(Sa,this).onOnline())})))}unmount(){var e,t,n;A(Na,this,(e=P(Na,this),e--,e)),0===P(Na,this)&&(null===(t=P(Ia,this))||void 0===t||t.call(this),A(Ia,this,void 0),null===(n=P(Ra,this))||void 0===n||n.call(this),A(Ra,this,void 0))}isFetching(e){return P(Sa,this).findAll(l(l({},e),{},{fetchStatus:"fetching"})).length}isMutating(e){return P(_a,this).findAll(l(l({},e),{},{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=P(Sa,this).get(n.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=P(Sa,this).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Es(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return P(Sa,this).findAll(e).map(e=>{let{queryKey:t,state:n}=e;return[t,n.data]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=P(Sa,this).get(r.queryHash),o=function(e,t){return"function"===typeof e?e(t):e}(t,null===i||void 0===i?void 0:i.state.data);if(void 0!==o)return P(Sa,this).build(this,r).setData(o,l(l({},n),{},{manual:!0}))}setQueriesData(e,t,n){return Ws.batch(()=>P(Sa,this).findAll(e).map(e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=P(Sa,this).get(n.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=P(Sa,this);Ws.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=P(Sa,this);return Ws.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(l({type:"active"},e),t)))}cancelQueries(e){const t=l({revert:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=Ws.batch(()=>P(Sa,this).findAll(e).map(e=>e.cancel(t)));return Promise.all(n).then(xs).catch(xs)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ws.batch(()=>{var n,r;return P(Sa,this).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null===e||void 0===e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(l(l({},e),{},{type:null!==(n=null!==(r=null===e||void 0===e?void 0:e.refetchType)&&void 0!==r?r:null===e||void 0===e?void 0:e.type)&&void 0!==n?n:"active"}),t)})}refetchQueries(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=l(l({},n),{},{cancelRefetch:null===(t=n.cancelRefetch)||void 0===t||t}),i=Ws.batch(()=>P(Sa,this).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(xs)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(i).then(xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=P(Sa,this).build(this,t);return n.isStaleByTime(Es(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xs).catch(xs)}fetchInfiniteQuery(e){return e.behavior=ja(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xs).catch(xs)}ensureInfiniteQueryData(e){return e.behavior=ja(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qs.isOnline()?P(_a,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(Sa,this)}getMutationCache(){return P(_a,this)}getDefaultOptions(){return P(ka,this)}setDefaultOptions(e){A(ka,this,e)}setQueryDefaults(e,t){P(Ta,this).set(Ts(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(Ta,this).values()],n={};return t.forEach(t=>{Cs(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){P(Ca,this).set(Ts(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(Ca,this).values()],n={};return t.forEach(t=>{Cs(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=l(l(l(l({},P(ka,this).queries),this.getQueryDefaults(e.queryKey)),e),{},{_defaulted:!0});return t.queryHash||(t.queryHash=ks(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Os&&(t.enabled=!1),t}defaultMutationOptions(e){return null!==e&&void 0!==e&&e._defaulted?e:l(l(l(l({},P(ka,this).mutations),(null===e||void 0===e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{},{_defaulted:!0})}clear(){P(Sa,this).clear(),P(_a,this).clear()}}),Fa=d.createContext(void 0),Ua=e=>{let{client:t,children:n}=e;return d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,j.jsx)(Fa.Provider,{value:t,children:n})};function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Ma||(Ma={}));const za="popstate";function Ba(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function qa(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Ha(e,t){return{usr:e.state,key:e.key,idx:t}}function Wa(e,t,n,r){return void 0===n&&(n=null),Va({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ga(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Ka(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ga(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Qa(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ma.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=Ma.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:Ka(e);return n=n.replace(/ $/,"%20"),Ba(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(Va({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(za,d),l=e,()=>{i.removeEventListener(za,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Ma.Push;let r=Wa(f.location,e,t);n&&n(r,e),c=u()+1;let d=Ha(r,c),h=f.createHref(r);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=Ma.Replace;let r=Wa(f.location,e,t);n&&n(r,e),c=u();let i=Ha(r,c),d=f.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var Ya;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Ya||(Ya={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Xa(e,t,n){return void 0===n&&(n="/"),$a(e,t,n,!1)}function $a(e,t,n,r){let i=dl(("string"===typeof t?Ga(t):t).pathname||"/",n);if(null==i)return null;let o=Ja(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=ul(i);s=ll(o[a],e,r)}return s}function Ja(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(Ba(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=gl([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(Ba(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Ja(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:al(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Za(e.path))i(e,t,r);else i(e,t)}),t}function Za(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=Za(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const el=/^:[\w-]+$/,tl=3,nl=2,rl=1,il=10,ol=-2,sl=e=>"*"===e;function al(e,t){let n=e.split("/"),r=n.length;return n.some(sl)&&(r+=ol),t&&(r+=nl),n.filter(e=>!sl(e)).reduce((e,t)=>e+(el.test(t)?tl:""===t?rl:il),r)}function ll(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=cl({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=cl({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:gl([o,u.pathname]),pathnameBase:vl(gl([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=gl([o,u.pathnameBase]))}return s}function cl(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);qa("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function ul(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return qa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function dl(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function hl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function fl(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function pl(e,t){let n=fl(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function ml(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Ga(e):(i=Va({},e),Ba(!i.pathname||!i.pathname.includes("?"),hl("?","pathname","search",i)),Ba(!i.pathname||!i.pathname.includes("#"),hl("#","pathname","hash",i)),Ba(!i.search||!i.search.includes("#"),hl("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Ga(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:yl(r),hash:wl(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const gl=e=>e.join("/").replace(/\/\/+/g,"/"),vl=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yl=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",wl=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function bl(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const xl=["post","put","patch","delete"],El=(new Set(xl),["get",...xl]);new Set(El),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}const _l=d.createContext(null);const kl=d.createContext(null);const Tl=d.createContext(null);const Cl=d.createContext(null);const Nl=d.createContext({outlet:null,matches:[],isDataRoute:!1});const Il=d.createContext(null);function Rl(){return null!=d.useContext(Cl)}function Pl(){return Rl()||Ba(!1),d.useContext(Cl).location}function Al(e){d.useContext(Tl).static||d.useLayoutEffect(e)}function jl(){let{isDataRoute:e}=d.useContext(Nl);return e?function(){let{router:e}=ql(zl.UseNavigateStable),t=Wl(Bl.UseNavigateStable),n=d.useRef(!1);Al(()=>{n.current=!0});let r=d.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Sl({fromRouteId:t},i)))},[e,t]);return r}():function(){Rl()||Ba(!1);let e=d.useContext(_l),{basename:t,future:n,navigator:r}=d.useContext(Tl),{matches:i}=d.useContext(Nl),{pathname:o}=Pl(),s=JSON.stringify(pl(i,n.v7_relativeSplatPath)),a=d.useRef(!1);Al(()=>{a.current=!0});let l=d.useCallback(function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof n)return void r.go(n);let l=ml(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:gl([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,s,o,e]);return l}()}function Dl(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=d.useContext(Tl),{matches:i}=d.useContext(Nl),{pathname:o}=Pl(),s=JSON.stringify(pl(i,r.v7_relativeSplatPath));return d.useMemo(()=>ml(e,JSON.parse(s),o,"path"===n),[e,s,o,n])}function Ol(e,t,n,r){Rl()||Ba(!1);let{navigator:i}=d.useContext(Tl),{matches:o}=d.useContext(Nl),s=o[o.length-1],a=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,u=Pl();if(t){var h;let e="string"===typeof t?Ga(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||Ba(!1),c=e}else c=u;let f=c.pathname||"/",p=f;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=Xa(e,{pathname:p});let g=Vl(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:gl([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:gl([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&g?d.createElement(Cl.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ma.Pop}},g):g}function Ml(){let e=function(){var e;let t=d.useContext(Il),n=Hl(Bl.UseRouteError),r=Wl(Bl.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=bl(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:i},n):null,null)}const Ll=d.createElement(Ml,null);class Fl extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?d.createElement(Nl.Provider,{value:this.props.routeContext},d.createElement(Il.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ul(e){let{routeContext:t,match:n,children:r}=e,i=d.useContext(_l);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Nl.Provider,{value:t},r)}function Vl(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=s.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));e>=0||Ba(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let e=s[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight((e,r,i)=>{let o,u=!1,h=null,f=null;var p;n&&(o=a&&r.route.id?a[r.route.id]:void 0,h=r.route.errorElement||Ll,l&&(c<0&&0===i?(p="route-fallback",!1||Kl[p]||(Kl[p]=!0),u=!0,f=null):c===i&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=o?h:u?f:r.route.Component?d.createElement(r.route.Component,null):r.route.element?r.route.element:e,d.createElement(Ul,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?d.createElement(Fl,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var zl=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zl||{}),Bl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bl||{});function ql(e){let t=d.useContext(_l);return t||Ba(!1),t}function Hl(e){let t=d.useContext(kl);return t||Ba(!1),t}function Wl(e){let t=function(){let e=d.useContext(Nl);return e||Ba(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Ba(!1),n.route.id}const Kl={};function Gl(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}h.startTransition;function Ql(e){let{to:t,replace:n,state:r,relative:i}=e;Rl()||Ba(!1);let{future:o,static:s}=d.useContext(Tl),{matches:a}=d.useContext(Nl),{pathname:l}=Pl(),c=jl(),u=ml(t,pl(a,o.v7_relativeSplatPath),l,"path"===i),h=JSON.stringify(u);return d.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Yl(e){Ba(!1)}function Xl(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ma.Pop,navigator:o,static:s=!1,future:a}=e;Rl()&&Ba(!1);let l=t.replace(/^\/*/,"/"),c=d.useMemo(()=>({basename:l,navigator:o,static:s,future:Sl({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);"string"===typeof r&&(r=Ga(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=d.useMemo(()=>{let e=dl(u,l);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:i}},[l,u,h,f,p,m,i]);return null==g?null:d.createElement(Tl.Provider,{value:c},d.createElement(Cl.Provider,{children:n,value:g}))}function $l(e){let{children:t,location:n}=e;return Ol(Jl(t),n)}new Promise(()=>{});d.Component;function Jl(e,t){void 0===t&&(t=[]);let n=[];return d.Children.forEach(e,(e,r)=>{if(!d.isValidElement(e))return;let i=[...t,r];if(e.type===d.Fragment)return void n.push.apply(n,Jl(e.props.children,i));e.type!==Yl&&Ba(!1),e.props.index&&e.props.children&&Ba(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Jl(e.props.children,i)),n.push(o)}),n}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}function ec(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const tc=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(cj){}new Map;const nc=h.startTransition;S.flushSync,h.useId;function rc(e){let{basename:t,children:n,future:r,window:i}=e,o=d.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),Qa(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Wa("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:Ka(t)},null,e)}({window:i,v5Compat:!0}));let s=o.current,[a,l]=d.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=d.useCallback(e=>{c&&nc?nc(()=>l(e)):l(e)},[l,c]);return d.useLayoutEffect(()=>s.listen(u),[s,u]),d.useEffect(()=>Gl(r),[r]),d.createElement(Xl,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const ic="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,oc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sc=d.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=ec(e,tc),{basename:p}=d.useContext(Tl),m=!1;if("string"===typeof c&&oc.test(c)&&(n=c,ic))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=dl(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(cj){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;Rl()||Ba(!1);let{basename:r,navigator:i}=d.useContext(Tl),{hash:o,pathname:s,search:a}=Dl(e,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:gl([r,s])),i.createHref({pathname:l,search:a,hash:o})}(c,{relative:i}),v=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=void 0===t?{}:t,l=jl(),c=Pl(),u=Dl(e,{relative:s});return d.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:Ka(c)===Ka(u);l(e,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,e,o,s,a])}(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});return d.createElement("a",Zl({},f,{href:n||g,onClick:m||o?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:l}))});var ac,lc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ac||(ac={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(lc||(lc={}));const cc=["className","variant","size","asChild"],uc=Tt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-6",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),dc=d.forwardRef((e,t)=>{let{className:n,variant:r,size:i,asChild:o=!1}=e,s=c(e,cc);const a=o?z:"button";return(0,j.jsx)(a,l({className:Nn(uc({variant:r,size:i,className:n})),ref:t},s))});dc.displayName="Button";const hc=["className"],fc=["className"],pc=["className","children"],mc=["className","children"],gc=["className","children"],vc=["className","children"],yc=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,hc);return(0,j.jsx)("div",l({ref:t,className:Nn("rounded-lg border bg-card text-card-foreground",n)},r))});yc.displayName="Card";const wc=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,fc);return(0,j.jsx)("div",l({ref:t,className:Nn("flex flex-col space-y-1.5 p-5",n)},r))});wc.displayName="CardHeader";const bc=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,pc);return(0,j.jsx)("h3",l(l({ref:t,className:Nn("text-lg font-medium leading-none tracking-tight",n)},i),{},{children:r}))});bc.displayName="CardTitle";const xc=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,mc);return(0,j.jsx)("p",l(l({ref:t,className:Nn("text-sm text-muted-foreground",n)},i),{},{children:r}))});xc.displayName="CardDescription";const Ec=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,gc);return(0,j.jsx)("div",l(l({ref:t,className:Nn("p-5 pt-0",n)},i),{},{children:r}))});Ec.displayName="CardContent";d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,vc);return(0,j.jsx)("div",l(l({ref:t,className:Nn("flex items-center p-5 pt-0",n)},i),{},{children:r}))}).displayName="CardFooter";const Sc=["className","variant"],_c=Tt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function kc(e){let{className:t,variant:n}=e,r=c(e,Sc);return(0,j.jsx)("div",l({className:Nn(_c({variant:n}),t)},r))}const Tc=At("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),Cc=At("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Nc=At("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ic=At("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Rc=At("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Pc=At("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ac=At("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),jc=At("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Dc=At("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Oc=At("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Mc=At("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Lc=At("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Fc=()=>(0,j.jsxs)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:[(0,j.jsx)("section",{className:"container px-4 pt-20 pb-16",children:(0,j.jsxs)("div",{className:"max-w-4xl mx-auto text-center animate-in fade-in duration-700",children:[(0,j.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,j.jsx)("img",{src:"/loanhub-logo.png",alt:"LoanHub",className:"h-16 w-16"}),(0,j.jsx)("h1",{className:"text-5xl md:text-6xl font-bold text-foreground bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"LoanHub"})]}),(0,j.jsxs)(kc,{className:"mb-4",variant:"secondary",children:[(0,j.jsx)(Tc,{className:"h-3 w-3 mr-1"}),"Modern Loan Management Platform"]}),(0,j.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-6",children:"Streamline Your Loan Management"}),(0,j.jsx)("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Empower your organization with intelligent loan processing, flexible interest rates, and seamless employee management."}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[(0,j.jsx)(sc,{to:"/company/register",children:(0,j.jsxs)(dc,{size:"lg",className:"gap-2 group",children:[(0,j.jsx)(Cc,{className:"h-5 w-5"}),"Get Started as Company",(0,j.jsx)(Nc,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),(0,j.jsx)(sc,{to:"/employee/register",children:(0,j.jsxs)(dc,{size:"lg",variant:"outline",className:"gap-2",children:[(0,j.jsx)(Ic,{className:"h-5 w-5"}),"Join as Employee"]})})]}),(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-8 max-w-2xl mx-auto pt-8 border-t",children:[(0,j.jsxs)("div",{className:"animate-in slide-in-from-bottom duration-700 delay-100",children:[(0,j.jsx)("div",{className:"text-3xl font-bold text-foreground",children:"100%"}),(0,j.jsx)("div",{className:"text-sm text-muted-foreground",children:"Secure"})]}),(0,j.jsxs)("div",{className:"animate-in slide-in-from-bottom duration-700 delay-200",children:[(0,j.jsx)("div",{className:"text-3xl font-bold text-foreground",children:"24/7"}),(0,j.jsx)("div",{className:"text-sm text-muted-foreground",children:"Available"})]}),(0,j.jsxs)("div",{className:"animate-in slide-in-from-bottom duration-700 delay-300",children:[(0,j.jsx)("div",{className:"text-3xl font-bold text-foreground",children:"Fast"}),(0,j.jsx)("div",{className:"text-sm text-muted-foreground",children:"Processing"})]})]})]})}),(0,j.jsx)("section",{className:"container px-4 py-16",children:(0,j.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,j.jsxs)("div",{className:"text-center mb-12 animate-in fade-in duration-700",children:[(0,j.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Powerful Features"}),(0,j.jsx)("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Everything you need to manage loans efficiently and effectively"})]}),(0,j.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,j.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-100",children:(0,j.jsxs)(wc,{children:[(0,j.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,j.jsx)(Rc,{className:"h-6 w-6 text-primary"})}),(0,j.jsx)(bc,{children:"Role-Based Access"}),(0,j.jsx)(xc,{children:"Secure permissions for Admin, Manager, and HR roles with granular access control"})]})}),(0,j.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-200",children:(0,j.jsxs)(wc,{children:[(0,j.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,j.jsx)(Pc,{className:"h-6 w-6 text-primary"})}),(0,j.jsx)(bc,{children:"Flexible Interest Rates"}),(0,j.jsx)(xc,{children:"Set different rates for each repayment term - 3, 6, or 12 months"})]})}),(0,j.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-300",children:(0,j.jsxs)(wc,{children:[(0,j.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,j.jsx)(Ac,{className:"h-6 w-6 text-primary"})}),(0,j.jsx)(bc,{children:"Real-Time Calculations"}),(0,j.jsx)(xc,{children:"Instant loan calculations with interest, total amount, and monthly payments"})]})}),(0,j.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-100",children:(0,j.jsxs)(wc,{children:[(0,j.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,j.jsx)(jc,{className:"h-6 w-6 text-primary"})}),(0,j.jsx)(bc,{children:"Loan Comments & Notes"}),(0,j.jsx)(xc,{children:"Add purpose descriptions, rejection reasons, and internal notes for better tracking"})]})}),(0,j.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-200",children:(0,j.jsxs)(wc,{children:[(0,j.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,j.jsx)(Dc,{className:"h-6 w-6 text-primary"})}),(0,j.jsx)(bc,{children:"Employee Management"}),(0,j.jsx)(xc,{children:"Search, filter, and manage your team with powerful tools and insights"})]})}),(0,j.jsx)(yc,{className:"shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 duration-300 animate-in slide-in-from-bottom delay-300",children:(0,j.jsxs)(wc,{children:[(0,j.jsx)("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:(0,j.jsx)(Oc,{className:"h-6 w-6 text-primary"})}),(0,j.jsx)(bc,{children:"Fast Approval Process"}),(0,j.jsx)(xc,{children:"Streamlined workflow for quick loan reviews and instant notifications"})]})})]})]})}),(0,j.jsx)("section",{className:"container px-4 py-16",children:(0,j.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,j.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[(0,j.jsxs)("div",{className:"animate-in slide-in-from-left duration-700",children:[(0,j.jsx)(kc,{className:"mb-4",children:"For Companies"}),(0,j.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Manage Loans with Confidence"}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{className:"flex gap-3",children:[(0,j.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-semibold mb-1",children:"Complete Control"}),(0,j.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set your own interest rates and approval workflows"})]})]}),(0,j.jsxs)("div",{className:"flex gap-3",children:[(0,j.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-semibold mb-1",children:"Track Everything"}),(0,j.jsx)("p",{className:"text-sm text-muted-foreground",children:"Monitor all loans, employees, and financial metrics in one place"})]})]}),(0,j.jsxs)("div",{className:"flex gap-3",children:[(0,j.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-semibold mb-1",children:"Save Time"}),(0,j.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automated calculations and smart search features"})]})]})]}),(0,j.jsx)(sc,{to:"/company/register",className:"inline-block mt-6",children:(0,j.jsxs)(dc,{className:"gap-2",children:["Start Managing Loans",(0,j.jsx)(Nc,{className:"h-4 w-4"})]})})]}),(0,j.jsxs)("div",{className:"animate-in slide-in-from-right duration-700",children:[(0,j.jsx)(kc,{className:"mb-4",children:"For Employees"}),(0,j.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Get Loans Quickly & Easily"}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{className:"flex gap-3",children:[(0,j.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-semibold mb-1",children:"Transparent Pricing"}),(0,j.jsx)("p",{className:"text-sm text-muted-foreground",children:"See exact costs before requesting with real-time calculations"})]})]}),(0,j.jsxs)("div",{className:"flex gap-3",children:[(0,j.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-semibold mb-1",children:"Flexible Terms"}),(0,j.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose repayment terms that work for your budget"})]})]}),(0,j.jsxs)("div",{className:"flex gap-3",children:[(0,j.jsx)(Mc,{className:"h-6 w-6 text-primary flex-shrink-0"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-semibold mb-1",children:"Track Status"}),(0,j.jsx)("p",{className:"text-sm text-muted-foreground",children:"View your loan history and status updates in real-time"})]})]})]}),(0,j.jsx)(sc,{to:"/employee/register",className:"inline-block mt-6",children:(0,j.jsxs)(dc,{className:"gap-2",children:["Request Your First Loan",(0,j.jsx)(Nc,{className:"h-4 w-4"})]})})]})]})})}),(0,j.jsx)("section",{className:"container px-4 py-16",children:(0,j.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,j.jsx)(yc,{className:"shadow-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20 animate-in fade-in duration-700",children:(0,j.jsxs)(Ec,{className:"p-12 text-center",children:[(0,j.jsx)(Lc,{className:"h-16 w-16 text-primary mx-auto mb-6"}),(0,j.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Ready to Get Started?"}),(0,j.jsx)("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join hundreds of companies and employees managing loans efficiently with our platform"}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,j.jsx)(sc,{to:"/company/login",children:(0,j.jsxs)(dc,{size:"lg",variant:"outline",className:"gap-2",children:[(0,j.jsx)(Cc,{className:"h-5 w-5"}),"Company Login"]})}),(0,j.jsx)(sc,{to:"/employee/login",children:(0,j.jsxs)(dc,{size:"lg",variant:"outline",className:"gap-2",children:[(0,j.jsx)(Ic,{className:"h-5 w-5"}),"Employee Login"]})})]})]})})})}),(0,j.jsx)("footer",{className:"container px-4 py-8 border-t",children:(0,j.jsxs)("div",{className:"max-w-6xl mx-auto text-center text-sm text-muted-foreground",children:[(0,j.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,j.jsx)("img",{src:"/loanhub-logo.png",alt:"LoanHub",className:"h-5 w-5"}),(0,j.jsx)("span",{className:"font-semibold text-foreground",children:"LoanHub"})]}),(0,j.jsx)("p",{children:"\xa9 2025 LoanHub. Built with modern technology for seamless loan processing."})]})})]}),Uc=()=>{const e=Pl();return(0,d.useEffect)(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),(0,j.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center",style:{background:"var(--gradient-primary)"},children:(0,j.jsxs)("div",{className:"text-center space-y-6",children:[(0,j.jsx)("h1",{className:"text-6xl font-bold text-foreground",children:"404"}),(0,j.jsx)("p",{className:"text-xl text-muted-foreground",children:"Oops! Page not found"}),(0,j.jsx)(dc,{asChild:!0,size:"lg",children:(0,j.jsx)(sc,{to:"/",children:"Return to Home"})})]})})},Vc=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},zc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vc(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Bc;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qc=function(e){return function(e){const t=Vc(e);return zc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Hc=function(e){try{return zc.decodeString(e,!0)}catch(cj){console.error("base64Decode failed: ",cj)}return null};function Wc(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Kc=()=>{try{return Wc().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCmP1JpjnjF9BxH1kpUaXDJpY2WMi1zOMk",REACT_APP_FIREBASE_APP_ID:"1:403432314491:web:4068d5ffa73638b1e174de",REACT_APP_FIREBASE_AUTH_DOMAIN:"loan-manage-c2f66.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-F5K0Z6WNQV",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"403432314491",REACT_APP_FIREBASE_PROJECT_ID:"loan-manage-c2f66",REACT_APP_FIREBASE_STORAGE_BUCKET:"loan-manage-c2f66.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(cj){return}const t=e&&Hc(e[1]);return t&&JSON.parse(t)})()}catch(cj){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(cj))}},Gc=e=>{var t;return null===(t=Kc())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Qc=()=>{var e;return null===(e=Kc())||void 0===e?void 0:e.config},Yc=e=>{var t;return null===(t=Kc())||void 0===t?void 0:t["_".concat(e)]};class Xc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function $c(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Jc(e){return(await fetch(e,{credentials:"include"})).ok}const Zc={};let eu=!1;function tu(e,t){if("undefined"===typeof window||"undefined"===typeof document||!$c(window.location.host)||Zc[e]===t||Zc[e]||eu)return;function n(e){return"__firebase__banner__".concat(e)}Zc[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Zc))Zc[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{eu=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function nu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ru(){var e;const t=null===(e=Kc())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(cj){return!1}}function iu(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ou(){return!ru()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function su(){try{return"object"===typeof indexedDB}catch(cj){return!1}}function au(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class lu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,lu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(uu,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new lu(n,o,t)}}const uu=/\{\$([^}]+)}/g;function du(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(hu(n)&&hu(o)){if(!du(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hu(e){return null!==e&&"object"===typeof e}function fu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function mu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class gu{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vu),void 0===r.error&&(r.error=vu),void 0===r.complete&&(r.complete=vu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(cj){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(cj){"undefined"!==typeof console&&console.error&&console.error(cj)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vu(){}function yu(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function wu(e){return e&&e._delegate?e._delegate:e}class bu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xu="[DEFAULT]";class Eu{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xc;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(cj){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(cj){if(r)return null;throw cj}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xu})}catch(cj){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(cj){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===xu?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;return this.component?this.component.multipleInstances?e:xu:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Su{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Eu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _u=[];var ku;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ku||(ku={}));const Tu={debug:ku.DEBUG,verbose:ku.VERBOSE,info:ku.INFO,warn:ku.WARN,error:ku.ERROR,silent:ku.SILENT},Cu=ku.INFO,Nu={[ku.DEBUG]:"log",[ku.VERBOSE]:"log",[ku.INFO]:"info",[ku.WARN]:"warn",[ku.ERROR]:"error"},Iu=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Nu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Ru{constructor(e){this.name=e,this._logLevel=Cu,this._logHandler=Iu,this._userLogHandler=null,_u.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ku))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.DEBUG,...t),this._logHandler(this,ku.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.VERBOSE,...t),this._logHandler(this,ku.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.INFO,...t),this._logHandler(this,ku.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.WARN,...t),this._logHandler(this,ku.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ku.ERROR,...t),this._logHandler(this,ku.ERROR,...t)}}let Pu,Au;const ju=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Mu=new WeakMap,Lu=new WeakMap;let Fu={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Du.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ou.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zu(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Uu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Au||(Au=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bu(this),n),zu(ju.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zu(e.apply(Bu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Bu(this),t,...r);return Ou.set(o,t.sort?t.sort():[t]),zu(o)}}function Vu(e){return"function"===typeof e?Uu(e):(e instanceof IDBTransaction&&function(e){if(Du.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Du.set(e,t)}(e),t=e,(Pu||(Pu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Fu):e);var t}function zu(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(zu(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&ju.set(t,e)}).catch(()=>{}),Lu.set(t,e),t}(e);if(Mu.has(e))return Mu.get(e);const t=Vu(e);return t!==e&&(Mu.set(e,t),Lu.set(t,e)),t}const Bu=e=>Lu.get(e);function qu(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=zu(s);return r&&s.addEventListener("upgradeneeded",e=>{r(zu(s.result),e.oldVersion,e.newVersion,zu(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}const Hu=["get","getKey","getAll","getAllKeys","count"],Wu=["put","add","delete","clear"],Ku=new Map;function Gu(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ku.get(t))return Ku.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Wu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hu.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Ku.set(t,o),o}Fu=(e=>l(l({},e),{},{get:(t,n,r)=>Gu(t,n)||e.get(t,n,r),has:(t,n)=>!!Gu(t,n)||e.has(t,n)}))(Fu);class Qu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Yu="@firebase/app",Xu="0.14.4",$u=new Ru("@firebase/app"),Ju="@firebase/app-compat",Zu="@firebase/analytics-compat",ed="@firebase/analytics",td="@firebase/app-check-compat",nd="@firebase/app-check",rd="@firebase/auth",id="@firebase/auth-compat",od="@firebase/database",sd="@firebase/data-connect",ad="@firebase/database-compat",ld="@firebase/functions",cd="@firebase/functions-compat",ud="@firebase/installations",dd="@firebase/installations-compat",hd="@firebase/messaging",fd="@firebase/messaging-compat",pd="@firebase/performance",md="@firebase/performance-compat",gd="@firebase/remote-config",vd="@firebase/remote-config-compat",yd="@firebase/storage",wd="@firebase/storage-compat",bd="@firebase/firestore",xd="@firebase/ai",Ed="@firebase/firestore-compat",Sd="firebase",_d="[DEFAULT]",kd={[Yu]:"fire-core",[Ju]:"fire-core-compat",[ed]:"fire-analytics",[Zu]:"fire-analytics-compat",[nd]:"fire-app-check",[td]:"fire-app-check-compat",[rd]:"fire-auth",[id]:"fire-auth-compat",[od]:"fire-rtdb",[sd]:"fire-data-connect",[ad]:"fire-rtdb-compat",[ld]:"fire-fn",[cd]:"fire-fn-compat",[ud]:"fire-iid",[dd]:"fire-iid-compat",[hd]:"fire-fcm",[fd]:"fire-fcm-compat",[pd]:"fire-perf",[md]:"fire-perf-compat",[gd]:"fire-rc",[vd]:"fire-rc-compat",[yd]:"fire-gcs",[wd]:"fire-gcs-compat",[bd]:"fire-fst",[Ed]:"fire-fst-compat",[xd]:"fire-vertex","fire-js":"fire-js",[Sd]:"fire-js-all"},Td=new Map,Cd=new Map,Nd=new Map;function Id(e,t){try{e.container.addComponent(t)}catch(cj){$u.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),cj)}}function Rd(e){const t=e.name;if(Nd.has(t))return $u.debug("There were multiple attempts to register component ".concat(t,".")),!1;Nd.set(t,e);for(const n of Td.values())Id(n,e);for(const n of Cd.values())Id(n,e);return!0}function Pd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ad(e){return null!==e&&void 0!==e&&void 0!==e.settings}const jd=new cu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dd{constructor(e,t,n){this._isDeleted=!1,this._options=l({},e),this._config=l({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jd.create("app-deleted",{appName:this._name})}}const Od="12.4.0";function Md(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=l({name:_d,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw jd.create("bad-app-name",{appName:String(i)});if(n||(n=Qc()),!n)throw jd.create("no-options");const o=Td.get(i);if(o){if(du(n,o.options)&&du(r,o.config))return o;throw jd.create("duplicate-app",{appName:i})}const s=new Su(i);for(const l of Nd.values())s.addComponent(l);const a=new Dd(n,r,s);return Td.set(i,a),a}function Ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d;const t=Td.get(e);if(!t&&e===_d&&Qc())return Md();if(!t)throw jd.create("no-app",{appName:e});return t}function Fd(e,t,n){var r;let i=null!==(r=kd[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $u.warn(e.join(" "))}Rd(new bu("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Ud="firebase-heartbeat-store";let Vd=null;function zd(){return Vd||(Vd=qu("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ud)}catch(cj){console.warn(cj)}}}).catch(e=>{throw jd.create("idb-open",{originalErrorMessage:e.message})})),Vd}async function Bd(e,t){try{const n=(await zd()).transaction(Ud,"readwrite"),r=n.objectStore(Ud);await r.put(t,qd(e)),await n.done}catch(cj){if(cj instanceof lu)$u.warn(cj.message);else{const t=jd.create("idb-set",{originalErrorMessage:null===cj||void 0===cj?void 0:cj.message});$u.warn(t.message)}}}function qd(e){return"".concat(e.name,"!").concat(e.options.appId)}class Hd{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Kd(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wd();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(cj){$u.warn(cj)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Wd(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Gd(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gd(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(cj){return $u.warn(cj),""}}}function Wd(){return(new Date).toISOString().substring(0,10)}class Kd{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!su()&&au().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await zd()).transaction(Ud),n=await t.objectStore(Ud).get(qd(e));return await t.done,n}catch(cj){if(cj instanceof lu)$u.warn(cj.message);else{const t=jd.create("idb-get",{originalErrorMessage:null===cj||void 0===cj?void 0:cj.message});$u.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Bd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Bd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Gd(e){return qc(JSON.stringify({version:2,heartbeats:e})).length}var Qd;Qd="",Rd(new bu("platform-logger",e=>new Qu(e),"PRIVATE")),Rd(new bu("heartbeat",e=>new Hd(e),"PRIVATE")),Fd(Yu,Xu,Qd),Fd(Yu,Xu,"esm2020"),Fd("fire-js","");const Yd=["providerId"],Xd=["uid","auth","stsTokenManager"],$d=["providerId","signInMethod"];function Jd(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zd=Jd,eh=new cu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),th=new Ru("@firebase/auth");function nh(e){if(th.logLevel<=ku.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];th.error("Auth (".concat(Od,"): ").concat(e),...n)}}function rh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ah(e,...n)}function ih(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ah(e,...n)}function oh(e,t,n){const r=l(l({},Zd()),{},{[t]:n});return new cu("auth","Firebase",r).create(t,{appName:e.name})}function sh(e){return oh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ah(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return eh.create(e,...n)}function lh(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ah(t,...r)}}function ch(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nh(t),new Error(t)}function uh(e,t){e||ch(t)}function dh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hh(){return"http:"===fh()||"https:"===fh()}function fh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ph{constructor(e,t){this.shortDelay=e,this.longDelay=t,uh(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nu())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hh()||iu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function mh(e,t){uh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class gh{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ch("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ch("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ch("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yh=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wh=new ph(3e4,6e4);function bh(e,t){return e.tenantId&&!t.tenantId?l(l({},t),{},{tenantId:e.tenantId}):t}async function xh(e,t,n,r){return Eh(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=fu(l({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const c=l({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&$c(e.emulatorConfig.host)&&(c.credentials="include"),gh.fetch()(await _h(e,e.config.apiHost,n,s),c)})}async function Eh(e,t,n){e._canInitEmulator=!1;const r=l(l({},vh),t);try{const t=new Th(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ch(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ch(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Ch(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Ch(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw oh(e,a,s);rh(e,a)}}catch(cj){if(cj instanceof lu)throw cj;rh(e,"network-request-failed",{message:String(cj)})}}async function Sh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await xh(e,t,n,r,i);return"mfaPendingCredential"in o&&rh(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function _h(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?mh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(yh.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function kh(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Th{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ih(this.auth,"network-request-failed")),wh.get())})}}function Ch(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ih(e,t,r);return i.customData._tokenResponse=n,i}function Nh(e){return void 0!==e&&void 0!==e.enterprise}class Ih{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kh(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rh(e,t){return xh(e,"GET","/v2/recaptchaConfig",bh(e,t))}async function Ph(e,t){return xh(e,"POST","/v1/accounts:lookup",t)}function Ah(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(cj){}}function jh(e){return 1e3*Number(e)}function Dh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const e=Hc(n);return e?JSON.parse(e):(nh("Failed to decode base64 JWT payload"),null)}catch(cj){return nh("Caught error parsing JWT payload as JSON",null===cj||void 0===cj?void 0:cj.toString()),null}}function Oh(e){const t=Dh(e);return lh(t,"internal-error"),lh("undefined"!==typeof t.exp,"internal-error"),lh("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Mh(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(cj){throw cj instanceof lu&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(cj)&&e.auth.currentUser===e&&await e.auth.signOut(),cj}}class Lh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(cj){return void((null===cj||void 0===cj?void 0:cj.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Fh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ah(this.lastLoginAt),this.creationTime=Ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Mh(e,Ph(n,{idToken:r}));lh(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?Vh(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fh(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Vh(e){return e.map(e=>{let{providerId:t}=e,n=c(e,Yd);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lh(e.idToken,"internal-error"),lh("undefined"!==typeof e.idToken,"internal-error"),lh("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Oh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lh(0!==e.length,"internal-error");const t=Oh(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(lh(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Eh(e,{},async()=>{const n=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await _h(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&$c(e.emulatorConfig.host)&&(a.credentials="include"),gh.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new zh;return n&&(lh("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(lh("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(lh("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zh,this.toJSON())}_performRefresh(){return ch("not implemented")}}function Bh(e,t){lh("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class qh{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=c(e,Xd);this.providerId="firebase",this.proactiveRefresh=new Lh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Mh(this,this.stsTokenManager.getToken(this.auth,e));return lh(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wu(e),r=await n.getIdToken(t),i=Dh(r);lh(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ah(jh(i.auth_time)),issuedAtTime:Ah(jh(i.iat)),expirationTime:Ah(jh(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=wu(e);await Uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(lh(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>l({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qh(l(l({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){lh(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Uh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ad(this.auth.app))return Promise.reject(sh(this.auth));const e=await this.getIdToken();return await Mh(this,async function(e,t){return xh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return l(l({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>l({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:b,isAnonymous:x,providerData:E,stsTokenManager:S}=t;lh(w&&S,e,"internal-error");const _=zh.fromJSON(this.name,S);lh("string"===typeof w,e,"internal-error"),Bh(d,e.name),Bh(h,e.name),lh("boolean"===typeof b,e,"internal-error"),lh("boolean"===typeof x,e,"internal-error"),Bh(f,e.name),Bh(p,e.name),Bh(m,e.name),Bh(g,e.name),Bh(v,e.name),Bh(y,e.name);const k=new qh({uid:w,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:_,createdAt:v,lastLoginAt:y});return E&&Array.isArray(E)&&(k.providerData=E.map(e=>l({},e))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new zh;r.updateFromServerResponse(t);const i=new qh({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Uh(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];lh(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Vh(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new zh;s.updateFromIdToken(n);const a=new qh({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Fh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const Hh=new Map;function Wh(e){uh(e instanceof Function,"Expected a class definition");let t=Hh.get(e);return t?(uh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hh.set(e,t),t)}class Kh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Kh.type="NONE";const Gh=Kh;function Qh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Yh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Qh(this.userKey,r.apiKey,i),this.fullPersistenceKey=Qh("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Ph(this.auth,{idToken:e}).catch(()=>{});return t?qh._fromGetAccountInfoResponse(this.auth,t,e):null}return qh._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Yh(Wh(Gh),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Wh(Gh);const o=Qh(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await Ph(e,{idToken:t}).catch(()=>{});if(!r)break;n=await qh._fromGetAccountInfoResponse(e,r,t)}else n=qh._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new Yh(i,e,n)):new Yh(i,e,n)}}function Xh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ef(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($h(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nf(t))return"Blackberry";if(rf(t))return"Webos";if(Jh(t))return"Safari";if((t.includes("chrome/")||Zh(t))&&!t.includes("edge/"))return"Chrome";if(tf(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function $h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/firefox\//i.test(e)}function Jh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/crios\//i.test(e)}function ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/iemobile/i.test(e)}function tf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/android/i.test(e)}function nf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/blackberry/i.test(e)}function rf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/webos/i.test(e)}function of(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sf(){return function(){const e=nu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function af(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu();return of(e)||tf(e)||rf(e)||nf(e)||/windows phone/i.test(e)||ef(e)}function lf(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Xh(nu());break;case"Worker":t="".concat(Xh(nu()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Od,"/").concat(r)}class cf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(cj){r(cj)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(cj){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===cj||void 0===cj?void 0:cj.message})}}}class uf{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class df{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ff(this),this.idTokenSubscription=new ff(this),this.beforeStateQueue=new cf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wh(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Yh.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(cj){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ph(this,{idToken:e}),n=await qh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ad(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(cj){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(cj))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return lh(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(cj){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(cj){if((null===cj||void 0===cj?void 0:cj.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ad(this.app))return Promise.reject(sh(this));const t=e?wu(e):null;return t&&lh(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&lh(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ad(this.app)?Promise.reject(sh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ad(this.app)?Promise.reject(sh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wh(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return xh(e,"GET","/v2/passwordPolicy",bh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new uf(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return xh(e,"POST","/v2/accounts:revokeToken",bh(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wh(e)||this._popupRedirectResolver;lh(t,this,"argument-error"),this.redirectPersistenceManager=await Yh.create(this,[Wh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(lh(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lh(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ad(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(th.logLevel<=ku.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];th.warn("Auth (".concat(Od,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function hf(e){return wu(e)}class ff{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new gu(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return lh(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mf(e){return pf.loadJS(e)}function gf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class vf{constructor(){this.enterprise=new yf}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yf{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wf="NO_RECAPTCHA";class bf{constructor(e){this.type="recaptcha-enterprise",this.auth=hf(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Nh(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(wf)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new vf).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Rh(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Ih(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Nh(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=pf.recaptchaEnterpriseScript;0!==t.length&&(t+=i),mf(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function xf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new bf(e);let s;if(i)s=wf;else try{s=await o.verify(n)}catch(c){s=await o.verify(n,!0)}const a=l({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ef(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await xf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await xf(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await xf(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await xf(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Sf(e){const t=hf(e),n=await Rh(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ih(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new bf(t).verify()}}function _f(e,t,n){const r=hf(e);lh(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=kf(t),{host:s,port:a}=function(e){const t=kf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Tf(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Tf(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return lh(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void lh(du(c,r.config.emulator)&&du(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,$c(s)?(Jc("".concat(o,"//").concat(s).concat(l)),tu("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function kf(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Tf(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Cf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ch("not implemented")}_getIdTokenResponse(e){return ch("not implemented")}_linkToIdToken(e,t){return ch("not implemented")}_getReauthenticationResolver(e){return ch("not implemented")}}async function Nf(e,t){return xh(e,"POST","/v1/accounts:signUp",t)}async function If(e,t){return Sh(e,"POST","/v1/accounts:signInWithPassword",bh(e,t))}class Rf extends Cf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rf(e,t,"password")}static _fromEmailAndCode(e,t){return new Rf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ef(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",If,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Sh(e,"POST","/v1/accounts:signInWithEmailLink",bh(e,t))}(e,{email:this._email,oobCode:this._password});default:rh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ef(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nf,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Sh(e,"POST","/v1/accounts:signInWithEmailLink",bh(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:rh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pf(e,t){return Sh(e,"POST","/v1/accounts:signInWithIdp",bh(e,t))}class Af extends Cf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Af(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=c(t,$d);if(!n||!r)return null;const o=new Af(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Pf(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pf(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}}async function jf(e,t){return xh(e,"POST","/v1/accounts:sendVerificationCode",bh(e,t))}const Df={USER_NOT_FOUND:"user-not-found"};class Of extends Cf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Of({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Of({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Sh(e,"POST","/v1/accounts:signInWithPhoneNumber",bh(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Sh(e,"POST","/v1/accounts:signInWithPhoneNumber",bh(e,t));if(n.temporaryProof)throw Ch(e,"account-exists-with-different-credential",n);return n}(e,l({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Sh(e,"POST","/v1/accounts:signInWithPhoneNumber",bh(e,l(l({},t),{},{operation:"REAUTH"})),Df)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Of({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Mf{constructor(e){var t,n,r,i,o,s;const a=pu(mu(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);lh(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=pu(mu(e)).link,n=t?pu(mu(t)).deep_link_id:null,r=pu(mu(e)).deep_link_id;return(r?pu(mu(r)).link:null)||r||n||t||e}(e);try{return new Mf(t)}catch(n){return null}}}class Lf{constructor(){this.providerId=Lf.PROVIDER_ID}static credential(e,t){return Rf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Mf.parseLink(t);return lh(n,"argument-error"),Rf._fromEmailAndCode(e,n.code,n.tenantId)}}Lf.PROVIDER_ID="password",Lf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ff{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uf extends Ff{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vf extends Uf{constructor(){super("facebook.com")}static credential(e){return Af._fromParams({providerId:Vf.PROVIDER_ID,signInMethod:Vf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vf.credentialFromTaggedObject(e)}static credentialFromError(e){return Vf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Vf.credential(t.oauthAccessToken)}catch(n){return null}}}Vf.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vf.PROVIDER_ID="facebook.com";class zf extends Uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Af._fromParams({providerId:zf.PROVIDER_ID,signInMethod:zf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zf.credentialFromTaggedObject(e)}static credentialFromError(e){return zf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zf.credential(n,r)}catch(i){return null}}}zf.GOOGLE_SIGN_IN_METHOD="google.com",zf.PROVIDER_ID="google.com";class Bf extends Uf{constructor(){super("github.com")}static credential(e){return Af._fromParams({providerId:Bf.PROVIDER_ID,signInMethod:Bf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bf.credentialFromTaggedObject(e)}static credentialFromError(e){return Bf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bf.credential(t.oauthAccessToken)}catch(n){return null}}}Bf.GITHUB_SIGN_IN_METHOD="github.com",Bf.PROVIDER_ID="github.com";class qf extends Uf{constructor(){super("twitter.com")}static credential(e,t){return Af._fromParams({providerId:qf.PROVIDER_ID,signInMethod:qf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qf.credentialFromTaggedObject(e)}static credentialFromError(e){return qf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return qf.credential(n,r)}catch(i){return null}}}async function Hf(e,t){return Sh(e,"POST","/v1/accounts:signUp",bh(e,t))}qf.TWITTER_SIGN_IN_METHOD="twitter.com",qf.PROVIDER_ID="twitter.com";class Wf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await qh._fromIdTokenResponse(e,n,r),o=Kf(n);return new Wf({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Kf(n);return new Wf({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Kf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Gf extends lu{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Gf(e,t,n,r)}}function Qf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Gf._fromErrorAndOperation(e,n,t,r);throw n})}async function Yf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Mh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Wf._forOperation(e,"link",r)}async function Xf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ad(r.app))return Promise.reject(sh(r));const i="reauthenticate";try{const o=await Mh(e,Qf(r,i,t,e),n);lh(o.idToken,r,"internal-error");const s=Dh(o.idToken);lh(s,r,"internal-error");const{sub:a}=s;return lh(e.uid===a,r,"user-mismatch"),Wf._forOperation(e,i,o)}catch(cj){throw(null===cj||void 0===cj?void 0:cj.code)==="auth/".concat("user-not-found")&&rh(r,"user-mismatch"),cj}}async function $f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ad(e.app))return Promise.reject(sh(e));const r="signIn",i=await Qf(e,r,t),o=await Wf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Jf(e,t){return $f(hf(e),t)}async function Zf(e){const t=hf(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ep(e,t,n){if(Ad(e.app))return Promise.reject(sh(e));const r=hf(e),i=Ef(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hf,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Zf(e),t}),s=await Wf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function tp(e,t,n){return Ad(e.app)?Promise.reject(sh(e)):Jf(wu(e),Lf.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Zf(e),t})}function np(e,t,n,r){return wu(e).onAuthStateChanged(t,n,r)}function rp(e){return wu(e).signOut()}function ip(e,t){return xh(e,"POST","/v2/accounts/mfaEnrollment:start",bh(e,t))}new WeakMap;const op="__sak";class sp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ap extends sp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=af(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);sf()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ap.type="LOCAL";const lp=ap;function cp(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function up(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class dp{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=up(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return cp(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=up(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=up(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=cp(n);const i=setInterval(()=>{const e=cp(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}dp.type="COOKIE";class hp extends sp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hp.type="SESSION";const fp=hp;class pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new pp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pp.receivers=[];class gp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=mp("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function vp(){return window}function yp(){return"undefined"!==typeof vp().WorkerGlobalScope&&"function"===typeof vp().importScripts}const wp="firebaseLocalStorageDb",bp="firebaseLocalStorage",xp="fbase_key";class Ep{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sp(e,t){return e.transaction([bp],t?"readwrite":"readonly").objectStore(bp)}function _p(){const e=indexedDB.open(wp,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(bp,{keyPath:xp})}catch(cj){n(cj)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(bp)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(wp);return new Ep(e).toPromise()}(),t(await _p()))})})}async function kp(e,t,n){const r=Sp(e,!0).put({[xp]:t,value:n});return new Ep(r).toPromise()}function Tp(e,t){const n=Sp(e,!0).delete(t);return new Ep(n).toPromise()}class Cp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _p()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(cj){if(t++>3)throw cj;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pp._getInstance(yp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new gp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await kp(e,op,"1"),await Tp(e,op),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kp(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Sp(e,!1).get(t),r=await new Ep(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tp(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Sp(e,!1).getAll();return new Ep(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Cp.type="LOCAL";const Np=Cp;function Ip(e,t){return xh(e,"POST","/v2/accounts/mfaSignIn:start",bh(e,t))}gf("rcb"),new ph(3e4,6e4);const Rp="recaptcha";async function Pp(e,t,n){if(!e._getRecaptchaConfig())try{await Sf(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){lh("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Ef(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===wf){lh((null===n||void 0===n?void 0:n.type)===Rp,e,"argument-error");return ip(e,await Ap(e,t,n))}return ip(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;lh("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;lh(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ef(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===wf){lh((null===n||void 0===n?void 0:n.type)===Rp,e,"argument-error");return Ip(e,await Ap(e,t,n))}return Ip(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ef(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===wf){lh((null===n||void 0===n?void 0:n.type)===Rp,e,"argument-error");return jf(e,await Ap(e,t,n))}return jf(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ap(e,t,n){lh(n.type===Rp,e,"argument-error");const r=await n.verify();lh("string"===typeof r,e,"argument-error");const i=l({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class jp{constructor(e){this.providerId=jp.PROVIDER_ID,this.auth=hf(e)}verifyPhoneNumber(e,t){return Pp(this.auth,e,wu(t))}static credential(e,t){return Of._fromVerification(e,t)}static credentialFromResult(e){const t=e;return jp.credentialFromTaggedObject(t)}static credentialFromError(e){return jp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Of._fromTokenResponse(n,r):null}}function Dp(e,t){return t?Wh(t):(lh(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jp.PROVIDER_ID="phone",jp.PHONE_SIGN_IN_METHOD="phone";class Op extends Cf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mp(e){return $f(e.auth,new Op(e),e.bypassAuthState)}function Lp(e){const{auth:t,user:n}=e;return lh(n,t,"internal-error"),Xf(n,new Op(e),e.bypassAuthState)}async function Fp(e){const{auth:t,user:n}=e;return lh(n,t,"internal-error"),Yf(n,new Op(e),e.bypassAuthState)}class Up{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(cj){this.reject(cj)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(cj){this.reject(cj)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mp;case"linkViaPopup":case"linkViaRedirect":return Fp;case"reauthViaPopup":case"reauthViaRedirect":return Lp;default:rh(this.auth,"internal-error")}}resolve(e){uh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vp=new ph(2e3,1e4);class zp extends Up{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,zp.currentPopupAction&&zp.currentPopupAction.cancel(),zp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lh(e,this.auth,"internal-error"),e}async onExecution(){uh(1===this.filter.length,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ih(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ih(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ih(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Vp.get())};e()}}zp.currentPopupAction=null;const Bp=new Map;class qp extends Up{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Bp.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Kp(t),r=Wp(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(cj){e=()=>Promise.reject(cj)}Bp.set(this.auth._key(),e)}return this.bypassAuthState||Bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Hp(e,t){Bp.set(e._key(),t)}function Wp(e){return Wh(e._redirectPersistence)}function Kp(e){return Qh("pendingRedirect",e.config.apiKey,e.name)}async function Gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ad(e.app))return Promise.reject(sh(e));const r=hf(e),i=Dp(r,t),o=new qp(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Qp{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Xp(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ih(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yp(e))}saveEventToCache(e){this.cachedEventUids.add(Yp(e)),this.lastProcessedEventTime=Date.now()}}function Yp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Xp(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const $p=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jp=/^https?/;async function Zp(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return xh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(em(r))return}catch(n){}rh(e,"unauthorized-domain")}function em(e){const t=dh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Jp.test(n))return!1;if($p.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tm=new ph(3e4,6e4);function nm(){const e=vp().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function rm(e){return new Promise((t,n)=>{var r,i;function o(){nm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nm(),n(ih(e,"network-request-failed"))},timeout:tm.get()})}if(null!==(r=vp().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=vp().gapi)||void 0===i||!i.load){const t=gf("iframefcb");return vp()[t]=()=>{gapi.load?o():n(ih(e,"network-request-failed"))},mf("".concat(pf.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw im=null,e})}let im=null;const om=new ph(5e3,15e3),sm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},am=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lm(e){const t=e.config;lh(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?mh(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Od},i=am.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(fu(r).slice(1))}async function cm(e){const t=await function(e){return im=im||rm(e),im}(e),n=vp().gapi;return lh(n,e,"internal-error"),t.open({where:document.body,url:lm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sm,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ih(e,"network-request-failed"),o=vp().setTimeout(()=>{r(i)},om.get());function s(){vp().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const um={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(cj){}}}function hm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=l(l({},um),{},{width:r.toString(),height:i.toString(),top:o,left:s}),u=nu().toLowerCase();n&&(a=Zh(u)?"_blank":n),$h(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return of(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new dm(null);const h=window.open(t||"",a,d);lh(h,e,"popup-blocked");try{h.focus()}catch(cj){}return new dm(h)}const fm="__/auth/handler",pm="emulator/auth/handler",mm=encodeURIComponent("fac");async function gm(e,t,n,r,i,o){lh(e.config.authDomain,e,"auth-domain-config-required"),lh(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Od,eventId:i};if(t instanceof Ff){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Uf){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(mm,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fm);return mh(t,pm)}(e),"?").concat(fu(a).slice(1)).concat(c)}const vm="webStorageSupport";const ym=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fp,this._completeRedirectFn=Gp,this._overrideRedirectResult=Hp}async _openPopup(e,t,n,r){var i;uh(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return hm(e,await gm(e,t,n,dh(),r),mp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vp().location.href=e}(await gm(e,t,n,dh(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(uh(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await cm(e),n=new Qp(e);return t.register("authEvent",t=>{lh(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vm,{type:vm},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[vm];void 0!==i&&t(!!i),rh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return af()||Jh()||of()}};var wm="@firebase/auth",bm="1.11.0";class xm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lh(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Em=Yc("authIdTokenMaxAge")||300;let Sm=null;var _m;pf={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ih("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_m="Browser",Rd(new bu("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;lh(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:_m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lf(_m)},c=new df(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wh);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Rd(new bu("auth-internal",e=>(e=>new xm(e))(hf(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Fd(wm,bm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_m)),Fd(wm,bm,"esm2020");var km,Tm,Cm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nm={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||c.l(e)>0;)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=o*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Tm=Nm.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},km=Nm.Integer=r}).apply("undefined"!==typeof Cm?Cm:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Im,Rm,Pm,Am,jm,Dm,Om,Mm,Lm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fm={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Lm&&Lm];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function m(){var e=b;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,w=!1,b=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(E)}};function E(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}w=!1}function S(){this.u=this.u,this.C=this.C}function _(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},_.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){_.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,_),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),I=0;function R(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++I,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function A(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function j(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(P(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}M.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=F(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new R(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),V={};function z(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)z(e,t[o],n,r,i);return null}return n=X(n),e&&e[N]?e.J(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[U]=l=new M(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=X(n),e&&e[N]?e.K(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=X(n),e&&e[N]?(e=e.i,(o=String(t).toString())in e.g&&((n=F(t=e.g[o],n,r,i))>-1&&(P(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[N])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(L(n,e),0==n.h&&(n.src=null,t[U]=null)):P(e)}}}function K(e){return e in V?V[e]:V[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[U])instanceof M?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){S.call(this),this.i=new M(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new _(t,e);else if(t instanceof _)t.target=t.target||e;else{var i=t;O(t=new _(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&L(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,S),$.prototype[N]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)P(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ie(e){A(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){_.call(this,"d")}function he(){_.call(this,"c")}u(de,_),u(he,_);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){_.call(this,fe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){_.call(this,fe.STAT_EVENT,e),this.stat=t}function we(e){const t=me();J(t,new ye(t,e))}function be(e,t){_.call(this,fe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function Ee(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,_),fe.STAT_EVENT="statevent",u(ye,_),fe.Ja="timingevent",u(be,_),Ee.prototype.ua=function(){this.g=!1},Ee.prototype.info=function(){};var _e,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Te={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Ne(e){return encodeURIComponent(String(e))}function Ie(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},_e=new Ce;var Ae={},je={};function De(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),wt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Pe,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=z(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?j(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Le(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Ae:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ve(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Xt(n),we(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!T(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ye(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Ve(a),Fe(a)),r.g=s}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Re.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ve(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,we(12),Be(this),ze(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Le(this,n),t==je){4==l&&(this.m=4,we(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ae){this.m=4,we(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),qe(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,we(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,we(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else Se(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=Ie(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Be(this),ze(this)}}}catch(yg){}},Re.prototype.cancel=function(){this.K=!0,Be(this)},Re.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),we(17)),Be(this),this.m=2,ze(this)):Ue(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,bt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),wt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ne(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,bt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function wt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function bt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function St(){this.g=new ae}function _t(e){this.i=e.Sb||null,this.h=e.ab||!1}function kt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Tt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return A(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=It(n),"string"===typeof e?null!=n&&Ne(n):it(e,t,n))}function Pt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ne(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ne(n[t])),e.push(r)}}return this.i=e.join("&")},u(_t,le),_t.prototype.g=function(){return new kt(this.i,this.h)},u(kt,$),(e=kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):Nt(this),3==this.readyState&&Tt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Pt,$);var At=/^https?$/i,jt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Lt(e)}function Ot(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Mt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!At.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var s=Ft(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Ot(e)}}finally{Lt(e)}}}function Lt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Re(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||x(),w||(y(),w=!0),b.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Rt(r,e.u,e.o),n=new Re(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&A(e.H,function(e,n){it(t,n,e)}),e.l&&A({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var o=i[u].g;const n=i[u].map;if((o-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}catch(c){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||x(),w||(y(),w=!0),b.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Rt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new be(r,n)),Wt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new Ee;if(o.Image){const r=new Image;r.onload=c(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Et,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ee;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else we(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Pt(new _t({ab:n})):new Pt(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){$.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!T(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Pt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_e.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Dt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(jt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Lt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),Pt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mt(this):this.Xa())},e.Xa=function(){Mt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){we(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Re(this,this.j,e);let o=this.o;if(this.U&&(o?(o=j(o),O(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),o&&(this.R?t="headers="+Ne(It(o))+"&"+t:this.u&&Rt(n,this.u,o)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),we(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,an),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Mm=Fm.createWebChannelTransport=function(){return new ln},Om=Fm.getStatEventTarget=function(){return me()},Dm=Fm.Event=fe,jm=Fm.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Am=Fm.ErrorCode=ke,Te.COMPLETE="complete",Pm=Fm.EventType=Te,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,Rm=Fm.WebChannel=ce,Fm.FetchXmlHttpFactory=_t,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,Im=Fm.XhrIo=Pt}).apply("undefined"!==typeof Lm?Lm:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Um="@firebase/firestore",Vm="4.9.2";class zm{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zm.UNAUTHENTICATED=new zm(null),zm.GOOGLE_CREDENTIALS=new zm("google-credentials-uid"),zm.FIRST_PARTY=new zm("first-party-uid"),zm.MOCK_USER=new zm("mock-user");let Bm="12.3.0";const qm=new Ru("@firebase/firestore");function Hm(){return qm.logLevel}function Wm(e){if(qm.logLevel<=ku.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qm);qm.debug("Firestore (".concat(Bm,"): ").concat(e),...i)}}function Km(e){if(qm.logLevel<=ku.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qm);qm.error("Firestore (".concat(Bm,"): ").concat(e),...i)}}function Gm(e){if(qm.logLevel<=ku.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qm);qm.warn("Firestore (".concat(Bm,"): ").concat(e),...i)}}function Qm(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ym(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Xm(e,r,n)}function Xm(e,t,n){let r="FIRESTORE (".concat(Bm,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Km(r),new Error(r)}function $m(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Xm(t,i,r)}function Jm(e,t){return e}const Zm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class eg extends lu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class tg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ng{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class rg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zm.UNAUTHENTICATED))}shutdown(){}}class ig{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class og{constructor(e){this.t=e,this.currentUser=zm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$m(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new tg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tg,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Wm("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Wm("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tg)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Wm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($m("string"==typeof t.accessToken,31837,{l:t}),new ng(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $m(null===e||"string"==typeof e,2055,{h:e}),new zm(e)}}class sg{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=zm.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ag{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new sg(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(zm.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cg{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ad(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$m(void 0===this.o,3512);const n=e=>{null!=e.error&&Wm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Wm("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Wm("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Wm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?($m("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new lg(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ug(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class dg{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ug(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function hg(e,t){return e<t?-1:e>t?1:0}function fg(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return gg(n)===gg(i)?hg(n,i):gg(n)?1:-1}return hg(e.length,t.length)}const pg=55296,mg=57343;function gg(e){const t=e.charCodeAt(0);return t>=pg&&t<=mg}function vg(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const yg="__name__";class wg{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ym(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ym(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===wg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wg?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=wg.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return hg(e.length,t.length)}static compareSegments(e,t){const n=wg.isNumericId(e),r=wg.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?wg.extractNumericId(e).compare(wg.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return km.fromString(e.substring(4,e.length-2))}}class bg extends wg{construct(e,t,n){return new bg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new eg(Zm.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new bg(e)}static emptyPath(){return new bg([])}}const xg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Eg extends wg{construct(e,t,n){return new Eg(e,t,n)}static isValidIdentifier(e){return xg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Eg.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===yg}static keyField(){return new Eg([yg])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new eg(Zm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new eg(Zm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new eg(Zm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new eg(Zm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Eg(t)}static emptyPath(){return new Eg([])}}class Sg{constructor(e){this.path=e}static fromPath(e){return new Sg(bg.fromString(e))}static fromName(e){return new Sg(bg.fromString(e).popFirst(5))}static empty(){return new Sg(bg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sg(new bg(e.slice()))}}function _g(e,t,n){if(!n)throw new eg(Zm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function kg(e){if(!Sg.isDocumentKey(e))throw new eg(Zm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Tg(e){if(Sg.isDocumentKey(e))throw new eg(Zm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cg(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Ng(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ym(12329,{type:typeof e})}function Ig(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new eg(Zm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(e);throw new eg(Zm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Rg(e,t){const n={typeString:e};return t&&(n.value=t),n}function Pg(e,t){if(!Cg(e))throw new eg(Zm.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new eg(Zm.INVALID_ARGUMENT,n);return!0}const Ag=-62135596800,jg=1e6;class Dg{static now(){return Dg.fromMillis(Date.now())}static fromDate(e){return Dg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*jg);return new Dg(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new eg(Zm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new eg(Zm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ag)throw new eg(Zm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new eg(Zm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jg}_compareTo(e){return this.seconds===e.seconds?hg(this.nanoseconds,e.nanoseconds):hg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dg._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pg(e,Dg._jsonSchema))return new Dg(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ag;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dg._jsonSchemaVersion="firestore/timestamp/1.0",Dg._jsonSchema={type:Rg("string",Dg._jsonSchemaVersion),seconds:Rg("number"),nanoseconds:Rg("number")};class Og{static fromTimestamp(e){return new Og(e)}static min(){return new Og(new Dg(0,0))}static max(){return new Og(new Dg(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mg=-1;class Lg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Lg.UNKNOWN_ID=-1;function Fg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Og.fromTimestamp(1e9===r?new Dg(n+1,0):new Dg(n,r));return new Vg(i,Sg.empty(),t)}function Ug(e){return new Vg(e.readTime,e.key,Mg)}class Vg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vg(Og.min(),Sg.empty(),Mg)}static max(){return new Vg(Og.max(),Sg.empty(),Mg)}}function zg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Sg.comparator(e.documentKey,t.documentKey),0!==n?n:hg(e.largestBatchId,t.largestBatchId))}const Bg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Hg(e){if(e.code!==Zm.FAILED_PRECONDITION||e.message!==Bg)throw e;Wm("LocalStore","Unexpectedly lost primary lease")}class Wg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ym(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Wg((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Wg?t:Wg.resolve(t)}catch(e){return Wg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Wg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Wg.reject(t)}static resolve(e){return new Wg((t,n)=>{t(e)})}static reject(e){return new Wg((t,n)=>{n(e)})}static waitFor(e){return new Wg((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Wg.resolve(!1);for(const n of e)t=t.next(e=>e?Wg.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Wg((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Wg((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Kg(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gg(e){return"IndexedDbTransactionError"===e.name}class Qg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qg.ce=-1;const Yg=-1;function Xg(e){return null==e}function $g(e){return 0===e&&1/e==-1/0}function Jg(e){return"number"==typeof e&&Number.isInteger(e)&&!$g(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Zg="\x01";function ev(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=nv(t)),t=tv(e.get(n),t);return nv(t)}function tv(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Zg:n+="\x01\x11";break;default:n+=t}}return n}function nv(e){return e+Zg+"\x01"}const rv="remoteDocuments",iv="owner",ov="mutationQueues",sv="mutations";const av="documentMutations",lv="remoteDocumentsV14",cv="remoteDocumentGlobal",uv="targets",dv="targetDocuments",hv="targetGlobal",fv="collectionParents",pv="clientMetadata",mv="bundles",gv="namedQueries",vv="indexConfiguration",yv="indexState",wv="indexEntries",bv="documentOverlays",xv="globals",Ev=[ov,sv,av,rv,uv,iv,hv,dv,pv,cv,fv,mv,gv],Sv=[ov,sv,av,lv,uv,iv,hv,dv,pv,cv,fv,mv,gv,bv],_v=Sv,kv=[..._v,vv,yv,wv];function Tv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Cv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Iv{constructor(e,t){this.comparator=e,this.root=t||Pv.EMPTY}insert(e,t){return new Iv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pv.BLACK,null,null))}remove(e){return new Iv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rv(this.root,e,this.comparator,!0)}}class Rv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Pv.RED,this.left=null!=r?r:Pv.EMPTY,this.right=null!=i?i:Pv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Pv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ym(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ym(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ym(27949);return e+(this.isRed()?0:1)}}Pv.EMPTY=null,Pv.RED=!0,Pv.BLACK=!1,Pv.EMPTY=new class{constructor(){this.size=0}get key(){throw Ym(57766)}get value(){throw Ym(16141)}get color(){throw Ym(16727)}get left(){throw Ym(29726)}get right(){throw Ym(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Pv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Av{constructor(e){this.comparator=e,this.data=new Iv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Av))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Av(this.comparator);return t.data=e,t}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dv{constructor(e){this.fields=e,e.sort(Eg.comparator)}static empty(){return new Dv([])}unionWith(e){let t=new Av(Eg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vg(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ov extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ov("Invalid base64 string: "+e):e}}(e);return new Mv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Mv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mv.EMPTY_BYTE_STRING=new Mv("");const Lv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fv(e){if($m(!!e,39018),"string"==typeof e){let t=0;const n=Lv.exec(e);if($m(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Uv(e.seconds),nanos:Uv(e.nanos)}}function Uv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vv(e){return"string"==typeof e?Mv.fromBase64String(e):Mv.fromUint8Array(e)}const zv="server_timestamp",Bv="__type__",qv="__previous_value__",Hv="__local_write_time__";function Wv(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Bv])||void 0===t?void 0:t.stringValue)===zv}function Kv(e){const t=e.mapValue.fields[qv];return Wv(t)?Kv(t):t}function Gv(e){const t=Fv(e.mapValue.fields[Hv].timestampValue);return new Dg(t.seconds,t.nanos)}class Qv{constructor(e,t,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Yv="(default)";class Xv{constructor(e,t){this.projectId=e,this.database=t||Yv}static empty(){return new Xv("","")}get isDefaultDatabase(){return this.database===Yv}isEqual(e){return e instanceof Xv&&e.projectId===this.projectId&&e.database===this.database}}const $v="__type__",Jv="__max__",Zv={mapValue:{fields:{__type__:{stringValue:Jv}}}},ey="__vector__",ty="value";function ny(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wv(e)?4:wy(e)?9007199254740991:vy(e)?10:11:Ym(28295,{value:e})}function ry(e,t){if(e===t)return!0;const n=ny(e);if(n!==ny(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gv(e).isEqual(Gv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fv(e.timestampValue),r=Fv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vv(e.bytesValue).isEqual(Vv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uv(e.geoPointValue.latitude)===Uv(t.geoPointValue.latitude)&&Uv(e.geoPointValue.longitude)===Uv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uv(e.integerValue)===Uv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Uv(e.doubleValue),r=Uv(t.doubleValue);return n===r?$g(n)===$g(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vg(e.arrayValue.values||[],t.arrayValue.values||[],ry);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tv(n)!==Tv(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ry(n[i],r[i])))return!1;return!0}(e,t);default:return Ym(52216,{left:e})}}function iy(e,t){return void 0!==(e.values||[]).find(e=>ry(e,t))}function oy(e,t){if(e===t)return 0;const n=ny(e),r=ny(t);if(n!==r)return hg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Uv(e.integerValue||e.doubleValue),r=Uv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sy(e.timestampValue,t.timestampValue);case 4:return sy(Gv(e),Gv(t));case 5:return fg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vv(e),r=Vv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=hg(n[i],r[i]);if(0!==e)return e}return hg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=hg(Uv(e.latitude),Uv(t.latitude));return 0!==n?n:hg(Uv(e.longitude),Uv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ay(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[ty])||void 0===n?void 0:n.arrayValue,c=null===(r=a[ty])||void 0===r?void 0:r.arrayValue,u=hg((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:ay(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Zv.mapValue&&t===Zv.mapValue)return 0;if(e===Zv.mapValue)return 1;if(t===Zv.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=fg(r[s],o[s]);if(0!==e)return e;const t=oy(n[r[s]],i[o[s]]);if(0!==t)return t}return hg(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ym(23264,{he:n})}}function sy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hg(e,t);const n=Fv(e),r=Fv(t),i=hg(n.seconds,r.seconds);return 0!==i?i:hg(n.nanos,r.nanos)}function ay(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=oy(n[i],r[i]);if(e)return e}return hg(n.length,r.length)}function ly(e){return cy(e)}function cy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Vv(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Sg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=cy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(cy(e.fields[i]));return n+"}"}(e.mapValue):Ym(61005,{value:e})}function uy(e){switch(ny(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kv(e);return t?16+uy(t):16;case 5:return 2*e.stringValue.length;case 6:return Vv(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+uy(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Cv(e.fields,(e,n)=>{t+=e.length+uy(n)}),t}(e.mapValue);default:throw Ym(13486,{value:e})}}function dy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function hy(e){return!!e&&"integerValue"in e}function fy(e){return!!e&&"arrayValue"in e}function py(e){return!!e&&"nullValue"in e}function my(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gy(e){return!!e&&"mapValue"in e}function vy(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[$v])||void 0===t?void 0:t.stringValue)===ey}function yy(e){if(e.geoPointValue)return{geoPointValue:l({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:l({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Cv(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=yy(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yy(e.arrayValue.values[n]);return t}return l({},e)}function wy(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Jv}class by{constructor(e){this.value=e}static empty(){return new by({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yy(t)}setAll(e){let t=Eg.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=yy(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());gy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ry(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];gy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Cv(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new by(yy(this.value))}}function xy(e){const t=[];return Cv(e.fields,(e,n)=>{const r=new Eg([e]);if(gy(n)){const e=xy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Dv(t)}class Ey{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ey(e,0,Og.min(),Og.min(),Og.min(),by.empty(),0)}static newFoundDocument(e,t,n,r){return new Ey(e,1,t,Og.min(),n,r,0)}static newNoDocument(e,t){return new Ey(e,2,t,Og.min(),Og.min(),by.empty(),0)}static newUnknownDocument(e,t){return new Ey(e,3,t,Og.min(),Og.min(),by.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Og.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=by.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=by.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Og.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ey&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ey(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Sy{constructor(e,t){this.position=e,this.inclusive=t}}function _y(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Sg.comparator(Sg.fromName(s.referenceValue),n.key):oy(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ky(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ry(e.position[n],t.position[n]))return!1;return!0}class Ty{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Cy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ny{}class Iy extends Ny{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ly(e,t,n):"array-contains"===t?new zy(e,n):"in"===t?new By(e,n):"not-in"===t?new qy(e,n):"array-contains-any"===t?new Hy(e,n):new Iy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Fy(e,n):new Uy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(oy(t,this.value)):null!==t&&ny(this.value)===ny(t)&&this.matchesComparison(oy(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ym(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ry extends Ny{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ry(e,t)}matches(e){return Py(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Py(e){return"and"===e.op}function Ay(e){return jy(e)&&Py(e)}function jy(e){for(const t of e.filters)if(t instanceof Ry)return!1;return!0}function Dy(e){if(e instanceof Iy)return e.field.canonicalString()+e.op.toString()+ly(e.value);if(Ay(e))return e.filters.map(e=>Dy(e)).join(",");{const t=e.filters.map(e=>Dy(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Oy(e,t){return e instanceof Iy?function(e,t){return t instanceof Iy&&e.op===t.op&&e.field.isEqual(t.field)&&ry(e.value,t.value)}(e,t):e instanceof Ry?function(e,t){return t instanceof Ry&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Oy(n,t.filters[r]),!0)}(e,t):void Ym(19439)}function My(e){return e instanceof Iy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ly(e.value))}(e):e instanceof Ry?function(e){return e.op.toString()+" {"+e.getFilters().map(My).join(" ,")+"}"}(e):"Filter"}class Ly extends Iy{constructor(e,t,n){super(e,t,n),this.key=Sg.fromName(n.referenceValue)}matches(e){const t=Sg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fy extends Iy{constructor(e,t){super(e,"in",t),this.keys=Vy("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Uy extends Iy{constructor(e,t){super(e,"not-in",t),this.keys=Vy("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Sg.fromName(e.referenceValue))}class zy extends Iy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fy(t)&&iy(t.arrayValue,this.value)}}class By extends Iy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&iy(this.value.arrayValue,t)}}class qy extends Iy{constructor(e,t){super(e,"not-in",t)}matches(e){if(iy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!iy(this.value.arrayValue,t)}}class Hy extends Iy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>iy(this.value.arrayValue,e))}}class Wy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function Ky(e){return new Wy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Gy(e){const t=Jm(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Dy(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Xg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ly(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ly(e)).join(",")),t.Te=e}return t.Te}function Qy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Cy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Oy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ky(e.startAt,t.startAt)&&ky(e.endAt,t.endAt)}function Yy(e){return Sg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Xy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $y(e,t,n,r,i,o,s,a){return new Xy(e,t,n,r,i,o,s,a)}function Jy(e){return new Xy(e)}function Zy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ew(e){return null!==e.collectionGroup}function tw(e){const t=Jm(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Av(Eg.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ty(r,n))}),e.has(Eg.keyField().canonicalString())||t.Ie.push(new Ty(Eg.keyField(),n))}return t.Ie}function nw(e){const t=Jm(e);return t.Ee||(t.Ee=rw(t,tw(e))),t.Ee}function rw(e,t){if("F"===e.limitType)return Ky(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ty(e.field,t)});const n=e.endAt?new Sy(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sy(e.startAt.position,e.startAt.inclusive):null;return Ky(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function iw(e,t){const n=e.filters.concat([t]);return new Xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ow(e,t,n){return new Xy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sw(e,t){return Qy(nw(e),nw(t))&&e.limitType===t.limitType}function aw(e){return"".concat(Gy(nw(e)),"|lt:").concat(e.limitType)}function lw(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>My(e)).join(", "),"]")),Xg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ly(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ly(e)).join(",")),"Target(".concat(t,")")}(nw(e)),"; limitType=").concat(e.limitType,")")}function cw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of tw(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=_y(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,tw(e),t))&&!(e.endAt&&!function(e,t,n){const r=_y(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,tw(e),t))}(e,t)}function uw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dw(e){return(t,n)=>{let r=!1;for(const i of tw(e)){const e=hw(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function hw(e,t,n){const r=e.field.isKeyField()?Sg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oy(r,i):Ym(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ym(19790,{direction:e.dir})}}class fw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Cv(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Nv(this.inner)}size(){return this.innerSize}}const pw=new Iv(Sg.comparator);function mw(){return pw}const gw=new Iv(Sg.comparator);function vw(){let e=gw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function yw(e){let t=gw;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ww(){return xw()}function bw(){return xw()}function xw(){return new fw(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ew=new Iv(Sg.comparator),Sw=new Av(Sg.comparator);function _w(){let e=Sw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const kw=new Av(hg);function Tw(){return kw}function Cw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(t)?"-0":t}}function Nw(e){return{integerValue:""+e}}function Iw(e,t){return Jg(t)?Nw(t):Cw(e,t)}class Rw{constructor(){this._=void 0}}function Pw(e,t,n){return e instanceof Dw?function(e,t){const n={fields:{[Bv]:{stringValue:zv},[Hv]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Wv(t)&&(t=Kv(t)),t&&(n.fields[qv]=t),{mapValue:n}}(n,t):e instanceof Ow?Mw(e,t):e instanceof Lw?Fw(e,t):function(e,t){const n=jw(e,t),r=Vw(n)+Vw(e.Ae);return hy(n)&&hy(e.Ae)?Nw(r):Cw(e.serializer,r)}(e,t)}function Aw(e,t,n){return e instanceof Ow?Mw(e,t):e instanceof Lw?Fw(e,t):n}function jw(e,t){return e instanceof Uw?function(e){return hy(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Dw extends Rw{}class Ow extends Rw{constructor(e){super(),this.elements=e}}function Mw(e,t){const n=zw(t);for(const r of e.elements)n.some(e=>ry(e,r))||n.push(r);return{arrayValue:{values:n}}}class Lw extends Rw{constructor(e){super(),this.elements=e}}function Fw(e,t){let n=zw(t);for(const r of e.elements)n=n.filter(e=>!ry(e,r));return{arrayValue:{values:n}}}class Uw extends Rw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Vw(e){return Uv(e.integerValue||e.doubleValue)}function zw(e){return fy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Bw{constructor(e,t){this.version=e,this.transformResults=t}}class qw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qw}static exists(e){return new qw(void 0,e)}static updateTime(e){return new qw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ww{}function Kw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nb(e.key,qw.none()):new $w(e.key,e.data,qw.none());{const n=e.data,r=by.empty();let i=new Av(Eg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Jw(e.key,r,new Dv(i.toArray()),qw.none())}}function Gw(e,t,n){e instanceof $w?function(e,t,n){const r=e.value.clone(),i=eb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jw?function(e,t,n){if(!Hw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=eb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qw(e,t,n,r){return e instanceof $w?function(e,t,n,r){if(!Hw(e.precondition,t))return n;const i=e.value.clone(),o=tb(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jw?function(e,t,n,r){if(!Hw(e.precondition,t))return n;const i=tb(e.fieldTransforms,r,t),o=t.data;return o.setAll(Zw(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Hw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Yw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=jw(r.transform,e||null);null!=i&&(null===n&&(n=by.empty()),n.set(r.field,i))}return n||null}function Xw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vg(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ow&&t instanceof Ow||e instanceof Lw&&t instanceof Lw?vg(e.elements,t.elements,ry):e instanceof Uw&&t instanceof Uw?ry(e.Ae,t.Ae):e instanceof Dw&&t instanceof Dw}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $w extends Ww{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jw extends Ww{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Zw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function eb(e,t,n){const r=new Map;$m(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Aw(s,a,n[i]))}return r}function tb(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Pw(e,o,t))}return r}class nb extends Ww{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rb extends Ww{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ib{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Gw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Qw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Qw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=bw();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Kw(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Og.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_w())}isEqual(e){return this.batchId===e.batchId&&vg(this.mutations,e.mutations,(e,t)=>Xw(e,t))&&vg(this.baseMutations,e.baseMutations,(e,t)=>Xw(e,t))}}class ob{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){$m(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Ew;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ob(e,t,n,r)}}class sb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ab{constructor(e,t){this.count=e,this.unchangedNames=t}}var lb,cb;function ub(e){switch(e){case Zm.OK:return Ym(64938);case Zm.CANCELLED:case Zm.UNKNOWN:case Zm.DEADLINE_EXCEEDED:case Zm.RESOURCE_EXHAUSTED:case Zm.INTERNAL:case Zm.UNAVAILABLE:case Zm.UNAUTHENTICATED:return!1;case Zm.INVALID_ARGUMENT:case Zm.NOT_FOUND:case Zm.ALREADY_EXISTS:case Zm.PERMISSION_DENIED:case Zm.FAILED_PRECONDITION:case Zm.ABORTED:case Zm.OUT_OF_RANGE:case Zm.UNIMPLEMENTED:case Zm.DATA_LOSS:return!0;default:return Ym(15467,{code:e})}}function db(e){if(void 0===e)return Km("GRPC error has no .code"),Zm.UNKNOWN;switch(e){case lb.OK:return Zm.OK;case lb.CANCELLED:return Zm.CANCELLED;case lb.UNKNOWN:return Zm.UNKNOWN;case lb.DEADLINE_EXCEEDED:return Zm.DEADLINE_EXCEEDED;case lb.RESOURCE_EXHAUSTED:return Zm.RESOURCE_EXHAUSTED;case lb.INTERNAL:return Zm.INTERNAL;case lb.UNAVAILABLE:return Zm.UNAVAILABLE;case lb.UNAUTHENTICATED:return Zm.UNAUTHENTICATED;case lb.INVALID_ARGUMENT:return Zm.INVALID_ARGUMENT;case lb.NOT_FOUND:return Zm.NOT_FOUND;case lb.ALREADY_EXISTS:return Zm.ALREADY_EXISTS;case lb.PERMISSION_DENIED:return Zm.PERMISSION_DENIED;case lb.FAILED_PRECONDITION:return Zm.FAILED_PRECONDITION;case lb.ABORTED:return Zm.ABORTED;case lb.OUT_OF_RANGE:return Zm.OUT_OF_RANGE;case lb.UNIMPLEMENTED:return Zm.UNIMPLEMENTED;case lb.DATA_LOSS:return Zm.DATA_LOSS;default:return Ym(39323,{code:e})}}(cb=lb||(lb={}))[cb.OK=0]="OK",cb[cb.CANCELLED=1]="CANCELLED",cb[cb.UNKNOWN=2]="UNKNOWN",cb[cb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cb[cb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cb[cb.NOT_FOUND=5]="NOT_FOUND",cb[cb.ALREADY_EXISTS=6]="ALREADY_EXISTS",cb[cb.PERMISSION_DENIED=7]="PERMISSION_DENIED",cb[cb.UNAUTHENTICATED=16]="UNAUTHENTICATED",cb[cb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cb[cb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cb[cb.ABORTED=10]="ABORTED",cb[cb.OUT_OF_RANGE=11]="OUT_OF_RANGE",cb[cb.UNIMPLEMENTED=12]="UNIMPLEMENTED",cb[cb.INTERNAL=13]="INTERNAL",cb[cb.UNAVAILABLE=14]="UNAVAILABLE",cb[cb.DATA_LOSS=15]="DATA_LOSS";let hb=null;function fb(){return new TextEncoder}const pb=new km([4294967295,4294967295],0);function mb(e){const t=fb().encode(e),n=new Tm;return n.update(t),new Uint8Array(n.digest())}function gb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new km([n,r],0),new km([i,o],0)]}class vb{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new yb("Invalid padding: ".concat(t));if(n<0)throw new yb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new yb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new yb("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=km.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(km.fromNumber(n)));return 1===r.compare(pb)&&(r=new km([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=mb(e),[n,r]=gb(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vb(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=mb(e),[n,r]=gb(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class yb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wb{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,bb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new wb(Og.min(),r,new Iv(hg),mw(),_w())}}class bb{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bb(n,t,_w(),_w(),_w())}}class xb{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Eb{constructor(e,t){this.targetId=e,this.Ce=t}}class Sb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mv.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class _b{constructor(){this.ve=0,this.Fe=Cb(),this.Me=Mv.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_w(),t=_w(),n=_w();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ym(38017,{changeType:i})}}),new bb(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Cb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$m(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kb{constructor(e){this.Ge=e,this.ze=new Map,this.je=mw(),this.Je=Tb(),this.He=Tb(),this.Ye=new Iv(hg)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ym(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(Yy(o))if(0===n){const e=new Sg(o.path);this.et(t,e,Ey.newNoDocument(e,Og.min()))}else $m(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=hb)||void 0===i||i.lt(function(e,t,n,r,i){var o,s,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Vv(n).toUint8Array()}catch(e){if(e instanceof Ov)return Gm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new vb(o,r,i)}catch(e){return Gm(e instanceof yb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Yy(i.target)){const t=new Sg(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ey.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=_w();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new wb(e,t,this.Ye,this.je,n);return this.je=mw(),this.Je=Tb(),this.He=Tb(),this.Ye=new Iv(hg),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _b,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Av(hg),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Av(hg),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Wm("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _b),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Tb(){return new Iv(Sg.comparator)}function Cb(){return new Iv(Sg.comparator)}const Nb={asc:"ASCENDING",desc:"DESCENDING"},Ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rb={and:"AND",or:"OR"};class Pb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ab(e,t){return e.useProto3Json||Xg(t)?t:{value:t}}function jb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Db(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ob(e,t){return jb(e,t.toTimestamp())}function Mb(e){return $m(!!e,49232),Og.fromTimestamp(function(e){const t=Fv(e);return new Dg(t.seconds,t.nanos)}(e))}function Lb(e,t){return Fb(e,t).canonicalString()}function Fb(e,t){const n=function(e){return new bg(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ub(e){const t=bg.fromString(e);return $m(ox(t),10190,{key:t.toString()}),t}function Vb(e,t){return Lb(e.databaseId,t.path)}function zb(e,t){const n=Ub(t);if(n.get(1)!==e.databaseId.projectId)throw new eg(Zm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new eg(Zm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sg(Wb(n))}function Bb(e,t){return Lb(e.databaseId,t)}function qb(e){const t=Ub(e);return 4===t.length?bg.emptyPath():Wb(t)}function Hb(e){return new bg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wb(e){return $m(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Kb(e,t,n){return{name:Vb(e,t),fields:n.value.mapValue.fields}}function Gb(e,t){let n;if(t instanceof $w)n={update:Kb(e,t.key,t.value)};else if(t instanceof nb)n={delete:Vb(e,t.key)};else if(t instanceof Jw)n={update:Kb(e,t.key,t.data),updateMask:ix(t.fieldMask)};else{if(!(t instanceof rb))return Ym(16599,{Vt:t.type});n={verify:Vb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Dw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ow)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uw)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Ym(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ob(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ym(27497)}(e,t.precondition)),n}function Qb(e,t){return{documents:[Bb(e,t.path)]}}function Yb(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Bb(e,i);const o=function(e){if(0!==e.length)return rx(Ry.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:tx(e.field),direction:Jb(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ab(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Xb(e){let t=qb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$m(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=$b(e);return t instanceof Ry&&Ay(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Ty(nx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Xg(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Sy(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Sy(n,t)}(n.endAt)),$y(t,i,s,o,a,"F",l,c)}function $b(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nx(e.unaryFilter.field);return Iy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=nx(e.unaryFilter.field);return Iy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nx(e.unaryFilter.field);return Iy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=nx(e.unaryFilter.field);return Iy.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ym(61313);default:return Ym(60726)}}(e):void 0!==e.fieldFilter?function(e){return Iy.create(nx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ym(58110);default:return Ym(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ry.create(e.compositeFilter.filters.map(e=>$b(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ym(1026)}}(e.compositeFilter.op))}(e):Ym(30097,{filter:e})}function Jb(e){return Nb[e]}function Zb(e){return Ib[e]}function ex(e){return Rb[e]}function tx(e){return{fieldPath:e.canonicalString()}}function nx(e){return Eg.fromServerFormat(e.fieldPath)}function rx(e){return e instanceof Iy?function(e){if("=="===e.op){if(my(e.value))return{unaryFilter:{field:tx(e.field),op:"IS_NAN"}};if(py(e.value))return{unaryFilter:{field:tx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(my(e.value))return{unaryFilter:{field:tx(e.field),op:"IS_NOT_NAN"}};if(py(e.value))return{unaryFilter:{field:tx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tx(e.field),op:Zb(e.op),value:e.value}}}(e):e instanceof Ry?function(e){const t=e.getFilters().map(e=>rx(e));return 1===t.length?t[0]:{compositeFilter:{op:ex(e.op),filters:t}}}(e):Ym(54877,{filter:e})}function ix(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ox(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class sx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Og.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Og.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mv.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new sx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ax{constructor(e){this.yt=e}}function lx(e){const t=Xb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ow(t,t.limit,"L"):t}class cx{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Uv(e.integerValue));else if("doubleValue"in e){const n=Uv(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),$g(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Fv(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Vv(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?wy(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):vy(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ym(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=ty,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Uv(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Sg.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}cx.Kt=new cx;class ux{constructor(){this.Cn=new dx}addToCollectionParentIndex(e,t){return this.Cn.add(t),Wg.resolve()}getCollectionParents(e,t){return Wg.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Wg.resolve()}deleteFieldIndex(e,t){return Wg.resolve()}deleteAllFieldIndexes(e){return Wg.resolve()}createTargetIndexes(e,t){return Wg.resolve()}getDocumentsMatchingTarget(e,t){return Wg.resolve(null)}getIndexType(e,t){return Wg.resolve(0)}getFieldIndexes(e,t){return Wg.resolve([])}getNextCollectionGroupToUpdate(e){return Wg.resolve(null)}getMinOffset(e,t){return Wg.resolve(Vg.min())}getMinOffsetFromCollectionGroup(e,t){return Wg.resolve(Vg.min())}updateCollectionGroup(e,t,n){return Wg.resolve()}updateIndexEntries(e,t){return Wg.resolve()}}class dx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Av(bg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Av(bg.comparator)).toArray()}}new Uint8Array(0);const hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fx=41943040;class px{static withCacheSize(e){return new px(e,px.DEFAULT_COLLECTION_PERCENTILE,px.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}px.DEFAULT_COLLECTION_PERCENTILE=10,px.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,px.DEFAULT=new px(fx,px.DEFAULT_COLLECTION_PERCENTILE,px.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),px.DISABLED=new px(-1,0,0);class mx{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mx(0)}static cr(){return new mx(-1)}}const gx="LruGarbageCollector",vx=1048576;function yx(e,t){let[n,r]=e,[i,o]=t;const s=hg(n,i);return 0===s?hg(r,o):s}class wx{constructor(e){this.Ir=e,this.buffer=new Av(yx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();yx(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Wm(gx,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Gg(e)?Wm(gx,"Ignoring IndexedDB error during garbage collection: ",e):await Hg(e)}await this.Vr(3e5)})}}class xx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Wg.resolve(Qg.ce);const n=new wx(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wm("LruGarbageCollector","Garbage collection skipped; disabled"),Wg.resolve(hx)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Wm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),hx):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Wm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Hm()<=ku.DEBUG&&Wm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Wg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Ex(e,t){return new xx(e,t)}class Sx{constructor(){this.changes=new fw(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ey.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Wg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _x{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Qw(n.mutation,e,Dv.empty(),Dg.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,_w()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_w();const r=ww();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=vw();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ww();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,_w()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=mw();const o=xw(),s=xw();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Jw)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Qw(s.mutation,t,s.mutation.getFieldMask(),Dg.now())):o.set(t.key,Dv.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new _x(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=xw();let r=new Iv((e,t)=>e-t),i=_w();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Dv.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||_w()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=bw();l.forEach(e=>{if(!i.has(e)){const r=Kw(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Wg.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Sg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ew(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Wg.resolve(ww());let s=Mg,a=i;return o.next(t=>Wg.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Wg.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,_w())).next(e=>({batchId:s,changes:yw(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Sg(t)).next(e=>{let t=vw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=vw();return this.indexManager.getCollectionParents(e,i).next(s=>Wg.forEach(s,s=>{const a=function(e,t){return new Xy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ey.newInvalidDocument(r)))});let n=vw();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Qw(o.mutation,r,Dv.empty(),Dg.now()),cw(t,r)&&(n=n.insert(e,r))}),n})}}class Tx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Wg.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Mb(e.createTime)}}(t)),Wg.resolve()}getNamedQuery(e,t){return Wg.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:lx(e.bundledQuery),readTime:Mb(e.readTime)}}(t)),Wg.resolve()}}class Cx{constructor(){this.overlays=new Iv(Sg.comparator),this.qr=new Map}getOverlay(e,t){return Wg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ww();return Wg.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Wg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Wg.resolve()}getOverlaysForCollection(e,t,n){const r=ww(),i=t.length+1,o=new Sg(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Wg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Iv((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ww(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ww(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Wg.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new sb(t,n));let i=this.qr.get(t);void 0===i&&(i=_w(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Nx{constructor(){this.sessionToken=Mv.EMPTY_BYTE_STRING}getSessionToken(e){return Wg.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Wg.resolve()}}class Ix{constructor(){this.Qr=new Av(Rx.$r),this.Ur=new Av(Rx.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Rx(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Rx(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Sg(new bg([])),n=new Rx(t,e),r=new Rx(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Sg(new bg([])),n=new Rx(t,e),r=new Rx(t,e+1);let i=_w();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Rx(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rx{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Sg.comparator(e.key,t.key)||hg(e.Yr,t.Yr)}static Kr(e,t){return hg(e.Yr,t.Yr)||Sg.comparator(e.key,t.key)}}class Px{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Av(Rx.$r)}checkEmpty(e){return Wg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ib(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new Rx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Wg.resolve(o)}lookupMutationBatch(e,t){return Wg.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Wg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Wg.resolve(0===this.mutationQueue.length?Yg:this.tr-1)}getAllMutationBatches(e){return Wg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rx(t,0),r=new Rx(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Wg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Av(hg);return t.forEach(e=>{const t=new Rx(e,0),r=new Rx(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Wg.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Sg.isDocumentKey(i)||(i=i.child(""));const o=new Rx(new Sg(i),0);let s=new Av(hg);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),Wg.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){$m(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Wg.forEach(t.mutations,r=>{const i=new Rx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Rx(t,0),r=this.Zr.firstAfterOrEqual(n);return Wg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Wg.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ax{constructor(e){this.ri=e,this.docs=new Iv(Sg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Wg.resolve(n?n.document.mutableCopy():Ey.newInvalidDocument(t))}getEntries(e,t){let n=mw();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ey.newInvalidDocument(e))}),Wg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=mw();const o=t.path,s=new Sg(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||zg(Ug(s),n)<=0||(r.has(s.key)||cw(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Wg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ym(9500)}ii(e,t){return Wg.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new jx(this)}getSize(e){return Wg.resolve(this.size)}}class jx extends Sx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Wg.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Dx{constructor(e){this.persistence=e,this.si=new fw(e=>Gy(e),Qy),this.lastRemoteSnapshotVersion=Og.min(),this.highestTargetId=0,this.oi=0,this._i=new Ix,this.targetCount=0,this.ai=mx.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Wg.resolve()}getLastRemoteSnapshotVersion(e){return Wg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Wg.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Wg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Wg.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new mx(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Wg.resolve()}updateTargetData(e,t){return this.Pr(t),Wg.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Wg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Wg.waitFor(i).next(()=>r)}getTargetCount(e){return Wg.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Wg.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Wg.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Wg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Wg.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Wg.resolve(n)}containsKey(e,t){return Wg.resolve(this._i.containsKey(t))}}class Ox{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qg(0),this.li=!1,this.li=!0,this.hi=new Nx,this.referenceDelegate=e(this),this.Pi=new Dx(this),this.indexManager=new ux,this.remoteDocumentCache=function(e){return new Ax(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new ax(t),this.Ii=new Tx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Px(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Wm("MemoryPersistence","Starting transaction:",e);const r=new Mx(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Wg.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Mx extends qg{constructor(e){super(),this.currentSequenceNumber=e}}class Lx{constructor(e){this.persistence=e,this.Ri=new Ix,this.Vi=null}static mi(e){return new Lx(e)}get fi(){if(this.Vi)return this.Vi;throw Ym(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Wg.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Wg.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Wg.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wg.forEach(this.fi,n=>{const r=Sg.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Og.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Wg.or([()=>Wg.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Fx{constructor(e,t){this.persistence=e,this.pi=new fw(e=>ev(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Ex(this,t)}static mi(e,t){return new Fx(e,t)}Ei(){}di(e){return Wg.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Wg.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Wg.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Og.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Wg.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Wg.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Wg.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Wg.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uy(e.data.value)),t}br(e,t,n){return Wg.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Wg.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ux{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=_w(),r=_w();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ux(e,t.fromCache,n,r)}}class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=ou()?8:Kg(nu())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Vx;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Hm()<=ku.DEBUG&&Wm("QueryEngine","SDK will not create cache indexes for query:",lw(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Wg.resolve()):(Hm()<=ku.DEBUG&&Wm("QueryEngine","Query:",lw(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Hm()<=ku.DEBUG&&Wm("QueryEngine","The SDK decides to create cache indexes for query:",lw(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nw(t))):Wg.resolve())}ys(e,t){if(Zy(t))return Wg.resolve(null);let n=nw(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ow(t,null,"F"),n=nw(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=_w(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,ow(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return Zy(t)||r.isEqual(Og.min())?Wg.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?Wg.resolve(null):(Hm()<=ku.DEBUG&&Wm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lw(t)),this.vs(e,o,t,Fg(r,Mg)).next(e=>e))})}Ds(e,t){let n=new Av(dw(e));return t.forEach((t,r)=>{cw(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Hm()<=ku.DEBUG&&Wm("QueryEngine","Using full collection scan to execute query:",lw(t)),this.ps.getDocumentsMatchingQuery(e,t,Vg.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Bx="LocalStore";class qx{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Iv(hg),this.xs=new fw(e=>Gy(e),Qy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Hx(e,t,n,r){return new qx(e,t,n,r)}async function Wx(e,t){const n=Jm(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=_w();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function Kx(e){const t=Jm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Gx(e,t,n){let r=_w(),i=_w();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=mw();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Og.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Wm(Bx,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function Qx(e,t){const n=Jm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Yg),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Yx(e,t){const n=Jm(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Wg.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new sx(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Xx(e,t,n){const r=Jm(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Gg(e))throw e;Wm(Bx,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function $x(e,t,n){const r=Jm(e);let i=Og.min(),o=_w();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Jm(e),i=r.xs.get(n);return void 0!==i?Wg.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,nw(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Og.min(),n?o:_w())).next(e=>(Jx(r,uw(t),e),{documents:e,Qs:o})))}function Jx(e,t,n){let r=e.Os.get(t)||Og.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Zx{constructor(){this.activeTargetIds=Tw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eE{constructor(){this.Mo=new Zx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tE{Oo(e){}shutdown(){}}const nE="ConnectivityMonitor";class rE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Wm(nE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Wm(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let iE=null;function oE(){return null===iE?iE=268435456+Math.round(2147483648*Math.random()):iE++,"0x"+iE.toString(16)}const sE="RestConnection",aE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lE{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Yv?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=oE(),s=this.zo(e,t.toUriEncodedString());Wm(sE,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),c=$c(l);return this.Jo(e,s,a,n,c).then(t=>(Wm(sE,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw Gm(sE,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=aE[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class cE{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const uE="WebChannelConnection";class dE extends lE{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=oE();return new Promise((i,s)=>{const a=new Im;a.setWithCredentials(!0),a.listenOnce(Pm.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Am.NO_ERROR:const n=a.getResponseJson();Wm(uE,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case Am.TIMEOUT:Wm(uE,"RPC '".concat(e,"' ").concat(o," timed out")),s(new eg(Zm.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const r=a.getStatus();if(Wm(uE,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Zm).indexOf(t)>=0?t:Zm.UNKNOWN}(n.status);s(new eg(e,n.message))}else s(new eg(Zm.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new eg(Zm.UNAVAILABLE,"Connection failed."));break;default:Ym(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Wm(uE,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);Wm(uE,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=oE(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Mm(),s=Om(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Wm(uE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new cE({Yo:t=>{h?Wm(uE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Wm(uE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Wm(uE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Rm.EventType.OPEN,()=>{h||(Wm(uE,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Rm.EventType.CLOSE,()=>{h||(h=!0,Wm(uE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Rm.EventType.ERROR,t=>{h||(h=!0,Gm(uE,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new eg(Zm.UNAVAILABLE,"The operation could not be completed")))}),p(u,Rm.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];$m(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Wm(uE,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=lb[e];if(void 0!==t)return db(t)}(t),i=s.message;void 0===n&&(n=Zm.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new eg(n,i)),u.close()}else Wm(uE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,Dm.STAT_EVENT,t=>{t.stat===jm.PROXY?Wm(uE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===jm.NOPROXY&&Wm(uE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function hE(){return"undefined"!=typeof document?document:null}function fE(e){return new Pb(e,!0)}class pE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Wm("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mE="PersistentStream";class gE{constructor(e,t,n,r,i,o,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pE(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Zm.RESOURCE_EXHAUSTED?(Km(t.toString()),Km("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Zm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new eg(Zm.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Wm(mE,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Wm(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vE extends gE{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ym(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?($m(void 0===t||"string"==typeof t,58123),Mv.fromBase64String(t||"")):($m(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Mv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Zm.UNKNOWN:db(e.code);return new eg(t,e.message||"")}(s);n=new Sb(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=zb(e,r.document.name),o=Mb(r.document.updateTime),s=r.document.createTime?Mb(r.document.createTime):Og.min(),a=new by({mapValue:{fields:r.document.fields}}),l=Ey.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new xb(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=zb(e,r.document),o=r.readTime?Mb(r.readTime):Og.min(),s=Ey.newNoDocument(i,o),a=r.removedTargetIds||[];n=new xb([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=zb(e,r.document),o=r.removedTargetIds||[];n=new xb([],o,i,null)}else{if(!("filter"in t))return Ym(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new ab(r,i),s=e.targetId;n=new Eb(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Og.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Og.min():t.readTime?Mb(t.readTime):Og.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Hb(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Yy(r)?{documents:Qb(e,r)}:{query:Yb(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Db(e,t.resumeToken);const r=Ab(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Og.min())>0){n.readTime=jb(e,t.snapshotVersion.toTimestamp());const r=Ab(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ym(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Hb(this.serializer),t.removeTarget=e,this.q_(t)}}class yE extends gE{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return $m(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$m(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){$m(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?($m(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Mb(e.updateTime):Mb(t);return n.isEqual(Og.min())&&(n=Mb(t)),new Bw(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Mb(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Hb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Gb(this.serializer,e))};this.q_(t)}}class wE{}class bE extends wE{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new eg(Zm.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,Fb(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new eg(Zm.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,Fb(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new eg(Zm.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Km(t),this.aa=!1):Wm("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const EE="RemoteStore";class SE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{AE(this)&&(Wm(EE,"Restarting streams for network reachability change."),await async function(e){const t=Jm(e);t.Ea.add(4),await kE(t),t.Ra.set("Unknown"),t.Ea.delete(4),await _E(t)}(this))})}),this.Ra=new xE(n,r)}}async function _E(e){if(AE(e))for(const t of e.da)await t(!0)}async function kE(e){for(const t of e.da)await t(!1)}function TE(e,t){const n=Jm(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),PE(n)?RE(n):$E(n).O_()&&NE(n,t))}function CE(e,t){const n=Jm(e),r=$E(n);n.Ia.delete(t),r.O_()&&IE(n,t),0===n.Ia.size&&(r.O_()?r.L_():AE(n)&&n.Ra.set("Unknown"))}function NE(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Og.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$E(e).Y_(t)}function IE(e,t){e.Va.Ue(t),$E(e).Z_(t)}function RE(e){e.Va=new kb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),$E(e).start(),e.Ra.ua()}function PE(e){return AE(e)&&!$E(e).x_()&&e.Ia.size>0}function AE(e){return 0===Jm(e).Ea.size}function jE(e){e.Va=void 0}async function DE(e){e.Ra.set("Online")}async function OE(e){e.Ia.forEach((t,n)=>{NE(e,t)})}async function ME(e,t){jE(e),PE(e)?(e.Ra.ha(t),RE(e)):e.Ra.set("Unknown")}async function LE(e,t,n){if(e.Ra.set("Online"),t instanceof Sb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Wm(EE,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await FE(e,n)}else if(t instanceof xb?e.Va.Ze(t):t instanceof Eb?e.Va.st(t):e.Va.tt(t),!n.isEqual(Og.min()))try{const t=await Kx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Mv.EMPTY_BYTE_STRING,r.snapshotVersion)),IE(e,t);const i=new sx(r.target,t,n,r.sequenceNumber);NE(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Wm(EE,"Failed to raise snapshot:",t),await FE(e,t)}}async function FE(e,t,n){if(!Gg(t))throw t;e.Ea.add(1),await kE(e),e.Ra.set("Offline"),n||(n=()=>Kx(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Wm(EE,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await _E(e)})}function UE(e,t){return t().catch(n=>FE(e,n,t))}async function VE(e){const t=Jm(e),n=JE(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Yg;for(;zE(t);)try{const e=await Qx(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,BE(t,e)}catch(e){await FE(t,e)}qE(t)&&HE(t)}function zE(e){return AE(e)&&e.Ta.length<10}function BE(e,t){e.Ta.push(t);const n=JE(e);n.O_()&&n.X_&&n.ea(t.mutations)}function qE(e){return AE(e)&&!JE(e).x_()&&e.Ta.length>0}function HE(e){JE(e).start()}async function WE(e){JE(e).ra()}async function KE(e){const t=JE(e);for(const n of e.Ta)t.ea(n.mutations)}async function GE(e,t,n){const r=e.Ta.shift(),i=ob.from(r,t,n);await UE(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await VE(e)}async function QE(e,t){t&&JE(e).X_&&await async function(e,t){if(function(e){return ub(e)&&e!==Zm.ABORTED}(t.code)){const n=e.Ta.shift();JE(e).B_(),await UE(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await VE(e)}}(e,t),qE(e)&&HE(e)}async function YE(e,t){const n=Jm(e);n.asyncQueue.verifyOperationInProgress(),Wm(EE,"RemoteStore received new credentials");const r=AE(n);n.Ea.add(3),await kE(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _E(n)}async function XE(e,t){const n=Jm(e);t?(n.Ea.delete(2),await _E(n)):t||(n.Ea.add(2),await kE(n),n.Ra.set("Unknown"))}function $E(e){return e.ma||(e.ma=function(e,t,n){const r=Jm(e);return r.sa(),new vE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:DE.bind(null,e),t_:OE.bind(null,e),r_:ME.bind(null,e),H_:LE.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),PE(e)?RE(e):e.Ra.set("Unknown")):(await e.ma.stop(),jE(e))})),e.ma}function JE(e){return e.fa||(e.fa=function(e,t,n){const r=Jm(e);return r.sa(),new yE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:WE.bind(null,e),r_:QE.bind(null,e),ta:KE.bind(null,e),na:GE.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await VE(e)):(await e.fa.stop(),e.Ta.length>0&&(Wm(EE,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class ZE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new ZE(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new eg(Zm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eS(e,t){if(Km("AsyncQueue","".concat(t,": ").concat(e)),Gg(e))return new eg(Zm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class tS{static emptySet(e){return new tS(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Sg.comparator(t.key,n.key):(e,t)=>Sg.comparator(e.key,t.key),this.keyedMap=vw(),this.sortedSet=new Iv(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new tS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class nS{constructor(){this.ga=new Iv(Sg.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ym(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class rS{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new rS(e,t,tS.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class iS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class oS{constructor(){this.queries=sS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Jm(e),r=n.queries;n.queries=sS(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new eg(Zm.ABORTED,"Firestore shutting down"))}}function sS(){return new fw(e=>aw(e),sw)}async function aS(e,t){const n=Jm(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new iS,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=eS(e,"Initialization of query '".concat(lw(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&dS(n)}async function lS(e,t){const n=Jm(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cS(e,t){const n=Jm(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&dS(n)}function uS(e,t,n){const r=Jm(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function dS(e){e.Ca.forEach(e=>{e.next()})}var hS,fS;(fS=hS||(hS={})).Ma="default",fS.Cache="cache";class pS{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=rS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hS.Cache}}class mS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class vS{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_w(),this.mutatedKeys=_w(),this.eu=dw(e),this.tu=new tS(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new nS,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=cw(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ym(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new rS(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_w(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new gS(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new mS(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=_w();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rS.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const yS="SyncEngine";class wS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bS{constructor(e){this.key=e,this.hu=!1}}class xS{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new fw(e=>aw(e),sw),this.Iu=new Map,this.Eu=new Set,this.du=new Iv(Sg.comparator),this.Au=new Map,this.Ru=new Ix,this.Vu={},this.mu=new Map,this.fu=mx.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function ES(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qS(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await _S(r,t,n,!0),i}async function SS(e,t){const n=qS(e);await _S(n,t,!0,!1)}async function _S(e,t,n,r){const i=await Yx(e.localStore,nw(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await kS(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&TE(e.remoteStore,i),a}async function kS(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await $x(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return LS(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const o=await $x(e.localStore,t,!0),s=new vS(t,o.Qs),a=s.ru(o.documents),l=bb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);LS(e,n,c.au);const u=new wS(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function TS(e,t,n){const r=Jm(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!sw(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&CE(r.remoteStore,i.targetId),OS(r,i.targetId)}).catch(Hg)):(OS(r,i.targetId),await Xx(r.localStore,i.targetId,!0))}async function CS(e,t){const n=Jm(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),CE(n.remoteStore,r.targetId))}async function NS(e,t){const n=Jm(e);try{const e=await function(e,t){const n=Jm(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Mv.EMPTY_BYTE_STRING,Og.min()).withLastLimboFreeSnapshotVersion(Og.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Pi.updateTargetData(e,c))});let a=mw(),l=_w();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Gx(e,o,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(Og.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Wg.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&($m(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?$m(r.hu,14607):e.removedDocuments.size>0&&($m(r.hu,42227),r.hu=!1))}),await VS(n,e,t)}catch(e){await Hg(e)}}function IS(e,t,n){const r=Jm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Jm(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&dS(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function RS(e,t,n){const r=Jm(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new Iv(Sg.comparator);e=e.insert(o,Ey.newNoDocument(o,Og.min()));const n=_w().add(o),i=new wb(Og.min(),new Map,new Iv(hg),e,n);await NS(r,i),r.du=r.du.remove(o),r.Au.delete(t),US(r)}else await Xx(r.localStore,t,!1).then(()=>OS(r,t,n)).catch(Hg)}async function PS(e,t){const n=Jm(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Jm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Wg.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);$m(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_w();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);DS(n,r,null),jS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await VS(n,e)}catch(e){await Hg(e)}}async function AS(e,t,n){const r=Jm(e);try{const e=await function(e,t){const n=Jm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>($m(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);DS(r,t,n),jS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await VS(r,e)}catch(n){await Hg(n)}}function jS(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function DS(e,t,n){const r=Jm(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function OS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||MS(e,t)})}function MS(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(CE(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),US(e))}function LS(e,t,n){for(const r of n)r instanceof mS?(e.Ru.addReference(r.key,t),FS(e,r)):r instanceof gS?(Wm(yS,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||MS(e,r.key)):Ym(19791,{wu:r})}function FS(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Wm(yS,"New document in limbo: "+n),e.Eu.add(r),US(e))}function US(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Sg(bg.fromString(t)),r=e.fu.next();e.Au.set(r,new bS(n)),e.du=e.du.insert(n,r),TE(e.remoteStore,new sx(nw(Jy(n.path)),r,"TargetPurposeLimboResolution",Qg.ce))}}async function VS(e,t,n){const r=Jm(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ux.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=Jm(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Wg.forEach(t,t=>Wg.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Wg.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Gg(e))throw e;Wm(Bx,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function zS(e,t){const n=Jm(e);if(!n.currentUser.isEqual(t)){Wm(yS,"User change. New user:",t.toKey());const e=await Wx(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new eg(Zm.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await VS(n,e.Ls)}}function BS(e,t){const n=Jm(e),r=n.Au.get(t);if(r&&r.hu)return _w().add(r.key);{let e=_w();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function qS(e){const t=Jm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RS.bind(null,t),t.Pu.H_=cS.bind(null,t.eventManager),t.Pu.yu=uS.bind(null,t.eventManager),t}function HS(e){const t=Jm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AS.bind(null,t),t}class WS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fE(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Hx(this.persistence,new zx,e.initialUser,this.serializer)}Cu(e){return new Ox(Lx.mi,this.serializer)}Du(e){return new eE}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}WS.provider={build:()=>new WS};class KS extends WS{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$m(this.persistence.referenceDelegate instanceof Fx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new bx(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?px.withCacheSize(this.cacheSizeBytes):px.DEFAULT;return new Ox(e=>Fx.mi(e,t),this.serializer)}}class GS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>IS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=zS.bind(null,this.syncEngine),await XE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new oS}createDatastore(e){const t=fE(e.databaseInfo.databaseId),n=function(e){return new dE(e)}(e.databaseInfo);return function(e,t,n,r){return new bE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new SE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>IS(this.syncEngine,e,0),rE.v()?new rE:new tE)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new xS(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Jm(e);Wm(EE,"RemoteStore shutting down."),t.Ea.add(5),await kE(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}GS.provider={build:()=>new GS};class QS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Km("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const YS="FirestoreClient";class XS{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zm.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Wm(YS,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Wm(YS,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=eS(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $S(e,t){e.asyncQueue.verifyOperationInProgress(),Wm(YS,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Wx(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function JS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ZS(e);Wm(YS,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>YE(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>YE(t.remoteStore,n)),e._onlineComponents=t}async function ZS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Wm(YS,"Using user provided OfflineComponentProvider");try{await $S(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Zm.FAILED_PRECONDITION||e.code===Zm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Gm("Error using user provided cache. Falling back to memory cache: "+n),await $S(e,new WS)}}else Wm(YS,"Using default OfflineComponentProvider"),await $S(e,new KS(void 0));return e._offlineComponents}async function e_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Wm(YS,"Using user provided OnlineComponentProvider"),await JS(e,e._uninitializedComponentsProvider._online)):(Wm(YS,"Using default OnlineComponentProvider"),await JS(e,new GS))),e._onlineComponents}function t_(e){return e_(e).then(e=>e.syncEngine)}async function n_(e){const t=await e_(e),n=t.eventManager;return n.onListen=ES.bind(null,t.syncEngine),n.onUnlisten=TS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CS.bind(null,t.syncEngine),n}function r_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new tg;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new QS({next:a=>{o.Nu(),t.enqueueAndForget(()=>lS(e,s));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new eg(Zm.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new eg(Zm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new pS(Jy(n.path),o,{includeMetadataChanges:!0,qa:!0});return aS(e,s)}(await n_(e),e.asyncQueue,t,n,r)),r.promise}function i_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new tg;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new QS({next:n=>{o.Nu(),t.enqueueAndForget(()=>lS(e,s)),n.fromCache&&"server"===r.source?i.reject(new eg(Zm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new pS(n,o,{includeMetadataChanges:!0,qa:!0});return aS(e,s)}(await n_(e),e.asyncQueue,t,n,r)),r.promise}function o_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const s_=new Map,a_="firestore.googleapis.com",l_=!0;class c_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new eg(Zm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a_,this.ssl=l_}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:l_;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=fx;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<vx)throw new eg(Zm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new eg(Zm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new eg(Zm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new eg(Zm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new eg(Zm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class u_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new eg(Zm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new eg(Zm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new rg;switch(e.type){case"firstParty":return new ag(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new eg(Zm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=s_.get(e);t&&(Wm("ComponentProvider","Removing Datastore"),s_.delete(e),t.terminate())}(this),Promise.resolve()}}function d_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ig(e,u_);const i=$c(t),o=e._getSettings(),s=l(l({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(Jc("https://".concat(a)),tu("Firestore",!0)),o.host!==a_&&o.host!==a&&Gm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=l(l({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!du(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=zm.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=l({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qc(JSON.stringify({alg:"none",type:"JWT"})),qc(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new eg(Zm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new zm(i)}e._authCredentials=new ig(new ng(t,n))}}class h_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new h_(this.firestore,e,this._query)}}class f_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new p_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new f_(this.firestore,e,this._key)}toJSON(){return{type:f_._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Pg(t,f_._jsonSchema))return new f_(e,n||null,new Sg(bg.fromString(t.referencePath)))}}f_._jsonSchemaVersion="firestore/documentReference/1.0",f_._jsonSchema={type:Rg("string",f_._jsonSchemaVersion),referencePath:Rg("string")};class p_ extends h_{constructor(e,t,n){super(e,t,Jy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new f_(this.firestore,null,new Sg(e))}withConverter(e){return new p_(this.firestore,e,this._path)}}function m_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wu(e),_g("collection","path",t),e instanceof u_){const n=bg.fromString(t,...r);return Tg(n),new p_(e,null,n)}{if(!(e instanceof f_||e instanceof p_))throw new eg(Zm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bg.fromString(t,...r));return Tg(n),new p_(e.firestore,null,n)}}function g_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wu(e),1===arguments.length&&(t=dg.newId()),_g("doc","path",t),e instanceof u_){const n=bg.fromString(t,...r);return kg(n),new f_(e,null,new Sg(n))}{if(!(e instanceof f_||e instanceof p_))throw new eg(Zm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bg.fromString(t,...r));return kg(n),new f_(e.firestore,e instanceof p_?e.converter:null,new Sg(n))}}const v_="AsyncQueue";class y_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pE(this,"async_queue_retry"),this._c=()=>{const e=hE();e&&Wm(v_,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=hE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new tg;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(cj){if(!Gg(cj))throw cj;Wm(v_,"Operation failed with retryable error: "+cj)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Km("INTERNAL UNHANDLED ERROR: ",w_(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=ZE.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Ym(47125,{Pc:w_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function w_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class b_ extends u_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new y_,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function x_(e){if(e._terminated)throw new eg(Zm.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||E_(e),e._firestoreClient}function E_(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Qv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,o_(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new XS(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class S_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new S_(Mv.fromBase64String(e))}catch(e){throw new eg(Zm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new S_(Mv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:S_._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pg(e,S_._jsonSchema))return S_.fromBase64String(e.bytes)}}S_._jsonSchemaVersion="firestore/bytes/1.0",S_._jsonSchema={type:Rg("string",S_._jsonSchemaVersion),bytes:Rg("string")};class __{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new eg(Zm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class k_{constructor(e){this._methodName=e}}class T_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new eg(Zm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new eg(Zm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return hg(this._lat,e._lat)||hg(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:T_._jsonSchemaVersion}}static fromJSON(e){if(Pg(e,T_._jsonSchema))return new T_(e.latitude,e.longitude)}}T_._jsonSchemaVersion="firestore/geoPoint/1.0",T_._jsonSchema={type:Rg("string",T_._jsonSchemaVersion),latitude:Rg("number"),longitude:Rg("number")};class C_{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:C_._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pg(e,C_._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new C_(e.vectorValues);throw new eg(Zm.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}C_._jsonSchemaVersion="firestore/vectorValue/1.0",C_._jsonSchema={type:Rg("string",C_._jsonSchemaVersion),vectorValues:Rg("object")};const N_=/^__.*__$/;class I_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Jw(e,this.data,this.fieldMask,t,this.fieldTransforms):new $w(e,this.data,t,this.fieldTransforms)}}class R_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Jw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function P_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ym(40011,{Ac:e})}}class A_{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new A_(l(l({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return G_(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(P_(this.Ac)&&N_.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class j_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fE(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new A_({Ac:e,methodName:t,Dc:n,path:Eg.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D_(e){const t=e._freezeSettings(),n=fE(e._databaseId);return new j_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function O_(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);q_("Data must be an object, but it was:",s,r);const a=z_(r,s);let l,c;if(o.merge)l=new Dv(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=H_(t,r,n);if(!s.contains(i))throw new eg(Zm.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Q_(e,i)||e.push(i)}l=new Dv(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new I_(new by(a),l,c)}class M_ extends k_{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof M_}}function L_(e,t,n,r){const i=e.Cc(1,t,n);q_("Data must be an object, but it was:",i,r);const o=[],s=by.empty();Cv(r,(e,r)=>{const a=K_(t,e,n);r=wu(r);const l=i.yc(a);if(r instanceof M_)o.push(a);else{const e=V_(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new Dv(o);return new R_(s,a,i.fieldTransforms)}function F_(e,t,n,r,i,o){const s=e.Cc(1,t,n),a=[H_(t,r,n)],l=[i];if(o.length%2!=0)throw new eg(Zm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(H_(t,o[h])),l.push(o[h+1]);const c=[],u=by.empty();for(let h=a.length-1;h>=0;--h)if(!Q_(c,a[h])){const e=a[h];let t=l[h];t=wu(t);const n=s.yc(e);if(t instanceof M_)c.push(e);else{const r=V_(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Dv(c);return new R_(u,d,s.fieldTransforms)}function U_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return V_(n,e.Cc(r?4:3,t))}function V_(e,t){if(B_(e=wu(e)))return q_("Unsupported field value:",t,e),z_(e,t);if(e instanceof k_)return function(e,t){if(!P_(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=V_(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=wu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Iw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dg.fromDate(e);return{timestampValue:jb(t.serializer,n)}}if(e instanceof Dg){const n=new Dg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jb(t.serializer,n)}}if(e instanceof T_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof S_)return{bytesValue:Db(t.serializer,e._byteString)};if(e instanceof f_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Lb(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof C_)return function(e,t){return{mapValue:{fields:{[$v]:{stringValue:ey},[ty]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Cw(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Ng(e)))}(e,t)}function z_(e,t){const n={};return Nv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cv(e,(e,r)=>{const i=V_(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function B_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dg||e instanceof T_||e instanceof S_||e instanceof f_||e instanceof k_||e instanceof C_)}function q_(e,t,n){if(!B_(n)||!Cg(n)){const r=Ng(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function H_(e,t,n){if((t=wu(t))instanceof __)return t._internalPath;if("string"==typeof t)return K_(e,t);throw G_("Field path arguments must be of type string or ",e,!1,void 0,n)}const W_=new RegExp("[~\\*/\\[\\]]");function K_(e,t,n){if(t.search(W_)>=0)throw G_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new __(...t.split("."))._internalPath}catch(xt){throw G_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function G_(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new eg(Zm.INVALID_ARGUMENT,a+e+l)}function Q_(e,t){return e.some(e=>e.isEqual(t))}class Y_{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new f_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new X_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class X_ extends Y_{data(){return super.data()}}function $_(e,t){return"string"==typeof t?K_(e,t):t instanceof __?t._internalPath:t._delegate._internalPath}function J_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new eg(Zm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z_{}class ek extends Z_{}function tk(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Z_&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof ik).length,n=e.filter(e=>e instanceof nk).length;if(t>1||t>0&&n>0)throw new eg(Zm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class nk extends ek{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nk(e,t,n)}_apply(e){const t=this._parse(e);return ak(e._query,t),new h_(e.firestore,e.converter,iw(e._query,t))}_parse(e){const t=D_(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new eg(Zm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){sk(s,o);const t=[];for(const n of s)t.push(ok(r,e,n));a={arrayValue:{values:t}}}else a=ok(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||sk(s,o),a=U_(n,t,s,"in"===o||"not-in"===o);return Iy.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function rk(e,t,n){const r=t,i=$_("where",e);return nk._create(i,r,n)}class ik extends Z_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ik(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ry.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ak(n,i),n=iw(n,i)}(e._query,t),new h_(e.firestore,e.converter,iw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function ok(e,t,n){if("string"==typeof(n=wu(n))){if(""===n)throw new eg(Zm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ew(t)&&-1!==n.indexOf("/"))throw new eg(Zm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(bg.fromString(n));if(!Sg.isDocumentKey(r))throw new eg(Zm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return dy(e,new Sg(r))}if(n instanceof f_)return dy(e,n._key);throw new eg(Zm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ng(n),"."))}function sk(e,t){if(!Array.isArray(e)||0===e.length)throw new eg(Zm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ak(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new eg(Zm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new eg(Zm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class lk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ny(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ym(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Cv(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[ty].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Uv(e.doubleValue));return new C_(n)}convertGeoPoint(e){return new T_(Uv(e.latitude),Uv(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Kv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gv(e));default:return null}}convertTimestamp(e){const t=Fv(e);return new Dg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bg.fromString(e);$m(ox(n),9688,{name:e});const r=new Xv(n.get(1),n.get(3)),i=new Sg(n.popFirst(5));return r.isEqual(t)||Km("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ck(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class uk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dk extends Y_{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new hk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field($_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new eg(Zm.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=dk._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}dk._jsonSchemaVersion="firestore/documentSnapshot/1.0",dk._jsonSchema={type:Rg("string",dk._jsonSchemaVersion),bundleSource:Rg("string","DocumentSnapshot"),bundleName:Rg("string"),bundle:Rg("string")};class hk extends dk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class fk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new uk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new hk(this._firestore,this._userDataWriter,n.key,n,new uk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new eg(Zm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new hk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new uk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new hk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:pk(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new eg(Zm.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fk._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ym(61501,{type:e})}}function mk(e){e=Ig(e,f_);const t=Ig(e.firestore,b_);return r_(x_(t),e._key).then(n=>xk(t,e,n))}fk._jsonSchemaVersion="firestore/querySnapshot/1.0",fk._jsonSchema={type:Rg("string",fk._jsonSchemaVersion),bundleSource:Rg("string","QuerySnapshot"),bundleName:Rg("string"),bundle:Rg("string")};class gk extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new S_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new f_(this.firestore,null,t)}}function vk(e){e=Ig(e,h_);const t=Ig(e.firestore,b_),n=x_(t),r=new gk(t);return J_(e._query),i_(n,e._query).then(n=>new fk(t,r,e,n))}function yk(e,t,n){e=Ig(e,f_);const r=Ig(e.firestore,b_),i=ck(e.converter,t,n);return bk(r,[O_(D_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qw.none())])}function wk(e,t,n){e=Ig(e,f_);const r=Ig(e.firestore,b_),i=D_(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=wu(t))||t instanceof __?F_(i,"updateDoc",e._key,t,n,a):L_(i,"updateDoc",e._key,t),bk(r,[o.toMutation(e._key,qw.exists(!0))])}function bk(e,t){return function(e,t){const n=new tg;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=HS(e);try{const e=await function(e,t){const n=Jm(e),r=Dg.now(),i=t.reduce((e,t)=>e.add(t.key),_w());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=mw(),l=_w();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=Yw(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Jw(e.key,t,xy(t.value.mapValue),qw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:yw(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Iv(hg)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await VS(r,e.changes),await VE(r.remoteStore)}catch(e){const t=eS(e,"Failed to persist write");n.reject(t)}}(await t_(e),t,n)),n.promise}(x_(e),t)}function xk(e,t,n){const r=n.docs.get(t._key),i=new gk(e);return new dk(e,i,t._key,r,new uk(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bm=e}(Od),Rd(new bu("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new b_(new og(e.getProvider("auth-internal")),new cg(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new eg(Zm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xv(e.options.projectId,t)}(o,r),o);return i=l({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Fd(Um,Vm,e),Fd(Um,Vm,"esm2020")}();Fd("firebase","12.4.0","app");const Ek="@firebase/installations",Sk="0.6.19",_k=1e4,kk="w:".concat(Sk),Tk="FIS_v2",Ck=36e5,Nk=new cu("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ik(e){return e instanceof lu&&e.code.includes("request-failed")}function Rk(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Pk(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Ak(e,t){const n=(await t.json()).error;return Nk.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function jk(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Dk(e,t){let{refreshToken:n}=t;const r=jk(e);return r.append("Authorization",function(e){return"".concat(Tk," ").concat(e)}(n)),r}async function Ok(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Mk(e){return new Promise(t=>{setTimeout(t,e)})}const Lk=/^[cdef][\w-]{21}$/;function Fk(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Lk.test(t)?t:""}catch(e){return""}}function Uk(e){return"".concat(e.appName,"!").concat(e.appId)}const Vk=new Map;function zk(e,t){const n=Uk(e);Bk(n,t),function(e,t){const n=Hk();n&&n.postMessage({key:e,fid:t});Wk()}(n,t)}function Bk(e,t){const n=Vk.get(e);if(n)for(const r of n)r(t)}let qk=null;function Hk(){return!qk&&"BroadcastChannel"in self&&(qk=new BroadcastChannel("[Firebase] FID Change"),qk.onmessage=e=>{Bk(e.data.key,e.data.fid)}),qk}function Wk(){0===Vk.size&&qk&&(qk.close(),qk=null)}const Kk="firebase-installations-store";let Gk=null;function Qk(){return Gk||(Gk=qu("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Kk)}})),Gk}async function Yk(e,t){const n=Uk(e),r=(await Qk()).transaction(Kk,"readwrite"),i=r.objectStore(Kk),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||zk(e,t.fid),t}async function Xk(e){const t=Uk(e),n=(await Qk()).transaction(Kk,"readwrite");await n.objectStore(Kk).delete(t),await n.done}async function $k(e,t){const n=Uk(e),r=(await Qk()).transaction(Kk,"readwrite"),i=r.objectStore(Kk),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||zk(e,s.fid),s}async function Jk(e){let t;const n=await $k(e.appConfig,n=>{const r=function(e){const t=e||{fid:Fk(),registrationStatus:0};return tT(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Nk.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Rk(n),s=jk(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Tk,appId:n.appId,sdkVersion:kk},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Ok(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Pk(e.authToken)}}throw await Ak("Create Installation",u)}(e,t);return Yk(e.appConfig,n)}catch(cj){throw Ik(cj)&&409===cj.customData.serverCode?await Xk(e.appConfig):await Yk(e.appConfig,{fid:t.fid,registrationStatus:0}),cj}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Zk(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Zk(e){let t=await eT(e.appConfig);for(;1===t.registrationStatus;)await Mk(100),t=await eT(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Jk(e);return n||t}return t}function eT(e){return $k(e,e=>{if(!e)throw Nk.create("installation-not-found");return tT(e)})}function tT(e){return 1===(t=e).registrationStatus&&t.registrationTime+_k<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function nT(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Rk(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Dk(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:kk,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await Ok(()=>fetch(i,l));if(c.ok){return Pk(await c.json())}throw await Ak("Generate Auth Token",c)}async function rT(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await $k(e.appConfig,r=>{if(!oT(r))throw Nk.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ck}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await iT(e.appConfig);for(;1===n.authToken.requestStatus;)await Mk(100),n=await iT(e.appConfig);const r=n.authToken;return 0===r.requestStatus?rT(e,t):r}(e,n),r;{if(!navigator.onLine)throw Nk.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return l(l({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await nT(e,t),r=l(l({},t),{},{authToken:n});return await Yk(e.appConfig,r),n}catch(cj){if(!Ik(cj)||401!==cj.customData.serverCode&&404!==cj.customData.serverCode){const n=l(l({},t),{},{authToken:{requestStatus:0}});await Yk(e.appConfig,n)}else await Xk(e.appConfig);throw cj}}(e,n),n}});return t?await t:r.authToken}function iT(e){return $k(e,e=>{if(!oT(e))throw Nk.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+_k<Date.now()?l(l({},e),{},{authToken:{requestStatus:0}}):e;var n})}function oT(e){return void 0!==e&&2===e.registrationStatus}async function sT(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Jk(e);t&&await t}(n);return(await rT(n,t)).token}function aT(e){return Nk.create("missing-app-config-values",{valueName:e})}const lT="installations",cT=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw aT("App Configuration");if(!e.name)throw aT("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw aT(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Pd(t,"heartbeat"),_delete:()=>Promise.resolve()}},uT=e=>{const t=Pd(e.getProvider("app").getImmediate(),lT).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Jk(t);return r?r.catch(console.error):rT(t).catch(console.error),n.fid}(t),getToken:e=>sT(t,e)}};Rd(new bu(lT,cT,"PUBLIC")),Rd(new bu("installations-internal",uT,"PRIVATE")),Fd(Ek,Sk),Fd(Ek,Sk,"esm2020");const dT="analytics",hT="https://www.googletagmanager.com/gtag/js",fT=new Ru("@firebase/analytics"),pT=new cu("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mT(e){if(!e.startsWith(hT)){const t=pT.create("invalid-gtag-resource",{gtagURL:e});return fT.warn(t.message),""}return e}function gT(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function vT(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:mT}),r=document.createElement("script"),i="".concat(hT,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function yT(e,t,n,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await gT(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(cj){fT.error(cj)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=s;await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await gT(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(cj){fT.error(cj)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(cj){fT.error(cj)}}}const wT=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function bT(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function xT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wT,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw pT.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw pT.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ST;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),ET({appId:r,apiKey:i,measurementId:o},s,a,t)}async function ET(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wT;const{appId:s,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(pT.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(cj){if(a)return fT.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===cj||void 0===cj?void 0:cj.message,"]")),{appId:s,measurementId:a};throw cj}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:bT(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),o=await fetch(i,r);if(200!==o.status&&304!==o.status){let e="";try{var s;const t=await o.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(a){}throw pT.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return o.deleteThrottleMetadata(s),t}catch(cj){var l;const r=cj;if(!function(e){if(!(e instanceof lu)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(s),a)return fT.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(a)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:s,measurementId:a};throw cj}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?yu(i,o.intervalMillis,30):yu(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(s,u),fT.debug("Calling attemptFetch again in ".concat(c," millis")),ET(e,u,n,o)}}class ST{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let _T,kT;function TT(e){kT=e}function CT(e){_T=e}async function NT(e,t,n,r,i,o,s){var a;const l=xT(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&fT.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>fT.error(e)),t.push(l);const c=async function(){if(!su())return fT.warn(pT.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await au()}catch(cj){return fT.warn(pT.create("indexeddb-unavailable",{errorInfo:null===cj||void 0===cj?void 0:cj.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(hT)&&n.src.includes(e))return n;return null})(o)||vT(o,u.measurementId),kT&&(i("consent","default",kT),TT(void 0)),i("js",new Date);const h=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),_T&&(i("set",_T),CT(void 0)),u.measurementId}class IT{constructor(e){this.app=e}_delete(){return delete RT[this.app.options.appId],Promise.resolve()}}let RT={},PT=[];const AT={};let jT,DT,OT="dataLayer",MT="gtag",LT=!1;function FT(){const e=[];if(iu()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=pT.create("invalid-analytics-context",{errorInfo:t});fT.warn(n.message)}}function UT(e,t,n){FT();const r=e.options.appId;if(!r)throw pT.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw pT.create("no-api-key");fT.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=RT[r])throw pT.create("already-exists",{id:r});if(!LT){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(OT);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=yT(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(RT,PT,AT,OT,MT);DT=e,jT=t,LT=!0}RT[r]=NT(e,PT,AT,t,jT,OT,n);return new IT(e)}function VT(e,t,n){e=wu(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(DT,RT[e.app.options.appId],t,n).catch(e=>fT.error(e))}function zT(e,t,n,r){e=wu(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,l(l({},r),{},{send_to:i}))}}(DT,RT[e.app.options.appId],t,n,r).catch(e=>fT.error(e))}const BT="@firebase/analytics",qT="0.10.19";Rd(new bu(dT,(e,t)=>{let{options:n}=t;return UT(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Rd(new bu("analytics-internal",function(e){try{const t=e.getProvider(dT).getImmediate();return{logEvent:(e,n,r)=>zT(t,e,n,r),setUserProperties:(e,n)=>VT(t,e,n)}}catch(cj){throw pT.create("interop-component-reg-failed",{reason:cj})}},"PRIVATE")),Fd(BT,qT),Fd(BT,qT,"esm2020");const HT=Md({apiKey:"AIzaSyCmP1JpjnjF9BxH1kpUaXDJpY2WMi1zOMk",authDomain:"loan-manage-c2f66.firebaseapp.com",projectId:"loan-manage-c2f66",storageBucket:"loan-manage-c2f66.firebasestorage.app",messagingSenderId:"403432314491",appId:"1:403432314491:web:4068d5ffa73638b1e174de",measurementId:"G-F5K0Z6WNQV"}),WT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld();const t=Pd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Pd(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(du(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;rh(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ym,persistence:[Np,lp,fp]}),r=Yc("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Em)return;const r=null===t||void 0===t?void 0:t.token;Sm!==r&&(Sm=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){wu(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){wu(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=Gc("auth");return o&&_f(n,"http://".concat(o)),n}(HT),KT=function(e,t){const n="object"==typeof e?e:Ld(),r="string"==typeof e?e:t||Yv,i=Pd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Gc(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&d_(i,...e)}return i}(HT),GT=("undefined"!==typeof window&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld();e=wu(e);const t=Pd(e,dT);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Pd(e,dT);if(n.isInitialized()){const e=n.getImmediate();if(du(t,n.getOptions()))return e;throw pT.create("already-initialized")}const r=n.initialize({options:t})}(e)}(HT),["className","type"]),QT=d.forwardRef((e,t)=>{let{className:n,type:r}=e,i=c(e,GT);return(0,j.jsx)("input",l({type:r,className:Nn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t},i))});QT.displayName="Input";var YT=d.forwardRef((e,t)=>(0,j.jsx)(Z.label,l(l({},e),{},{ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));YT.displayName="Label";var XT=YT;const $T=["className"],JT=Tt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ZT=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,$T);return(0,j.jsx)(XT,l({ref:t,className:Nn(JT(),n)},r))});function eC(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}ZT.displayName=XT.displayName;var tC=d.createContext(void 0);var nC=0;function rC(){d.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:iC()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:iC()),nC++,()=>{1===nC&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nC--}},[])}function iC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const oC=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var sC="focusScope.autoFocusOnMount",aC="focusScope.autoFocusOnUnmount",lC={bubbles:!1,cancelable:!0},cC=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o}=e,s=c(e,oC),[a,u]=d.useState(null),h=te(i),f=te(o),p=d.useRef(null),m=C(t,e=>u(e)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let e=function(e){if(g.paused||!a)return;const t=e.target;a.contains(t)?p.current=t:fC(p.current,{select:!0})},t=function(e){if(g.paused||!a)return;const t=e.relatedTarget;null!==t&&(a.contains(t)||fC(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&fC(a)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return a&&r.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,a,g.paused]),d.useEffect(()=>{if(a){pC.add(g);const t=document.activeElement;if(!a.contains(t)){const n=new CustomEvent(sC,lC);a.addEventListener(sC,h),a.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(fC(r,{select:t}),document.activeElement!==n)return}((e=uC(a),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&fC(a))}return()=>{a.removeEventListener(sC,h),setTimeout(()=>{const e=new CustomEvent(aC,lC);a.addEventListener(aC,f),a.dispatchEvent(e),e.defaultPrevented||fC(null!==t&&void 0!==t?t:document.body,{select:!0}),a.removeEventListener(aC,f),pC.remove(g)},0)}}var e},[a,h,f,g]);const v=d.useCallback(e=>{if(!n&&!r)return;if(g.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,o]=function(e){const t=uC(e),n=dC(t,e),r=dC(t.reverse(),e);return[n,r]}(t);r&&o?e.shiftKey||i!==o?e.shiftKey&&i===r&&(e.preventDefault(),n&&fC(o,{select:!0})):(e.preventDefault(),n&&fC(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,g.paused]);return(0,j.jsx)(Z.div,l(l({tabIndex:-1},s),{},{ref:m,onKeyDown:v}))});function uC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dC(e,t){for(const n of e)if(!hC(n,{upTo:t}))return n}function hC(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function fC(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}cC.displayName="FocusScope";var pC=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=mC(e,t),e.unshift(t)},remove(t){var n;e=mC(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function mC(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var gC=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},vC=new WeakMap,yC=new WeakMap,wC={},bC=0,xC=function(e){return e&&(e.host||xC(e.parentNode))},EC=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=xC(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);wC[n]||(wC[n]=new WeakMap);var o=wC[n],s=[],a=new Set,l=new Set(i),c=function(e){e&&!a.has(e)&&(a.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(a.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(vC.get(e)||0)+1,c=(o.get(e)||0)+1;vC.set(e,l),o.set(e,c),s.push(e),1===l&&i&&yC.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(cj){console.error("aria-hidden: cannot operate on ",e,cj)}})};return u(t),a.clear(),bC++,function(){s.forEach(function(e){var t=vC.get(e)-1,i=o.get(e)-1;vC.set(e,t),o.set(e,i),t||(yC.has(e)||e.removeAttribute(r),yC.delete(e)),i||e.removeAttribute(n)}),--bC||(vC=new WeakMap,vC=new WeakMap,yC=new WeakMap,wC={})}},SC=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||gC(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),EC(r,i,n,"aria-hidden")):function(){return null}};var _C=function(){return _C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_C.apply(this,arguments)};function kC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function TC(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var CC="right-scroll-bar-position",NC="width-before-scroll-bar";function IC(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var RC="undefined"!==typeof window?d.useLayoutEffect:d.useEffect,PC=new WeakMap;function AC(e,t){var n=function(e,t){var n=(0,d.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}(t||null,function(t){return e.forEach(function(e){return IC(e,t)})});return RC(function(){var t=PC.get(n);if(t){var r=new Set(t),i=new Set(e),o=n.current;r.forEach(function(e){i.has(e)||IC(e,null)}),i.forEach(function(e){r.has(e)||IC(e,o)})}PC.set(n,e)},[e]),n}function jC(e){return e}function DC(e,t){void 0===t&&(t=jC);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}};return i}var OC=function(e){void 0===e&&(e={});var t=DC(null);return t.options=_C({async:!0,ssr:!1},e),t}(),MC=function(){},LC=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:MC,onWheelCapture:MC,onTouchMoveCapture:MC}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,w=void 0===y?"div":y,b=e.gapMode,x=kC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,S=AC([n,t]),_=_C(_C({},x),i);return d.createElement(d.Fragment,null,u&&d.createElement(E,{sideCar:OC,removeScrollBar:c,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:b}),s?d.cloneElement(d.Children.only(a),_C(_C({},_),{ref:S})):d.createElement(w,_C({},_,{className:l,ref:S}),a))});LC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},LC.classNames={fullWidth:NC,zeroRight:CC};var FC,UC=function(e){var t=e.sideCar,n=kC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,_C({},n))};UC.isSideCarExport=!0;function VC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FC||n.nc;return t&&e.setAttribute("nonce",t),e}var zC=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=VC())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BC=function(){var e=function(){var e=zC();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},qC={left:0,top:0,right:0,gap:0},HC=function(e){return parseInt(e||"",10)||0},WC=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return qC;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[HC(n),HC(r),HC(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},KC=BC(),GC="data-scroll-locked",QC=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(GC,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(CC," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(NC," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(CC," .").concat(CC," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(NC," .").concat(NC," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(GC,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},YC=function(){var e=parseInt(document.body.getAttribute(GC)||"0",10);return isFinite(e)?e:0},XC=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;d.useEffect(function(){return document.body.setAttribute(GC,(YC()+1).toString()),function(){var e=YC()-1;e<=0?document.body.removeAttribute(GC):document.body.setAttribute(GC,e.toString())}},[]);var o=d.useMemo(function(){return WC(i)},[i]);return d.createElement(KC,{styles:QC(o,!t,i,n?"":"!important")})},$C=!1;if("undefined"!==typeof window)try{var JC=Object.defineProperty({},"passive",{get:function(){return $C=!0,!0}});window.addEventListener("test",JC,JC),window.removeEventListener("test",JC,JC)}catch(uj){$C=!1}var ZC=!!$C&&{passive:!1},eN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},tN=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),nN(e,r)){var i=rN(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nN=function(e,t){return"v"===e?function(e){return eN(e,"overflowY")}(t):function(e){return eN(e,"overflowX")}(t)},rN=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},iN=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oN=function(e){return[e.deltaX,e.deltaY]},sN=function(e){return e&&"current"in e?e.current:e},aN=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},lN=0,cN=[];function uN(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dN=(hN=function(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),i=d.useState(lN++)[0],o=d.useState(BC)[0],s=d.useRef(e);d.useEffect(function(){s.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=TC([e.lockRef.current],(e.shards||[]).map(sN),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=d.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,o=iN(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=tN(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=tN(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),c=!1,u=s>0,d=0,h=0;do{if(!a)break;var f=rN(e,a),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&nN(e,a)&&(d+=m,h+=p);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(i&&Math.abs(d)<1||!i&&s>d)||!u&&(i&&Math.abs(h)<1||!i&&-s>h))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)},[]),l=d.useCallback(function(e){var n=e;if(cN.length&&cN[cN.length-1]===o){var r="deltaY"in n?oN(n):iN(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(s.current.shards||[]).map(sN).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?a(n,l[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=d.useCallback(function(e,n,r,i){var o={name:e,delta:n,target:r,should:i,shadowParent:uN(r)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),u=d.useCallback(function(e){n.current=iN(e),r.current=void 0},[]),h=d.useCallback(function(t){c(t.type,oN(t),t.target,a(t,e.lockRef.current))},[]),f=d.useCallback(function(t){c(t.type,iN(t),t.target,a(t,e.lockRef.current))},[]);d.useEffect(function(){return cN.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ZC),document.addEventListener("touchmove",l,ZC),document.addEventListener("touchstart",u,ZC),function(){cN=cN.filter(function(e){return e!==o}),document.removeEventListener("wheel",l,ZC),document.removeEventListener("touchmove",l,ZC),document.removeEventListener("touchstart",u,ZC)}},[]);var p=e.removeScrollBar,m=e.inert;return d.createElement(d.Fragment,null,m?d.createElement(o,{styles:aN(i)}):null,p?d.createElement(XC,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},OC.useMedium(hN),UC);var hN,fN=d.forwardRef(function(e,t){return d.createElement(LC,_C({},e,{ref:t,sideCar:dN}))});fN.classNames=LC.classNames;const pN=fN,mN=["__scopeSelect","disabled"],gN=["__scopeSelect","className","style","children","placeholder"],vN=["__scopeSelect","children"],yN=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],wN=["__scopeSelect","onPlaced"],bN=["__scopeSelect","align","collisionPadding"],xN=["__scopeSelect","nonce"],EN=["__scopeSelect"],SN=["__scopeSelect"],_N=["__scopeSelect","value","disabled","textValue"],kN=["__scopeSelect","className","style"],TN=["__scopeSelect"],CN=["__scopeSelect","onAutoScroll"],NN=["__scopeSelect"],IN=["__scopeSelect"],RN=["__scopeSelect","value"];var PN=[" ","Enter","ArrowUp","ArrowDown"],AN=[" ","Enter"],jN="Select",[DN,ON,MN]=Q(jN),[LN,FN]=M(jN,[MN,wo]),UN=wo(),[VN,zN]=LN(jN),[BN,qN]=LN(jN),HN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:p,required:m,form:g}=e,v=UN(t),[y,w]=d.useState(null),[b,x]=d.useState(null),[E,S]=d.useState(!1),_=function(e){const t=d.useContext(tC);return e||t||"ltr"}(u),[k,T]=be({prop:r,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:jN}),[C,N]=be({prop:s,defaultProp:a,onChange:c,caller:jN}),I=d.useRef(null),R=!y||(g||!!y.closest("form")),[P,A]=d.useState(new Set),D=Array.from(P).map(e=>e.props.value).join(";");return(0,j.jsx)(Oo,l(l({},v),{},{children:(0,j.jsxs)(VN,{required:m,scope:t,trigger:y,onTriggerChange:w,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:vr(),value:C,onValueChange:N,open:k,onOpenChange:T,dir:_,triggerPointerDownPosRef:I,disabled:p,children:[(0,j.jsx)(DN.Provider,{scope:t,children:(0,j.jsx)(BN,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:d.useCallback(e=>{A(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),R?(0,j.jsxs)(AI,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:e=>N(e.target.value),disabled:p,form:g,children:[void 0===C?(0,j.jsx)("option",{value:""}):null,Array.from(P)]},D):null]})}))};HN.displayName=jN;var WN="SelectTrigger",KN=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1}=e,i=c(e,mN),o=UN(n),s=zN(WN,n),a=s.disabled||r,u=C(t,s.onTriggerChange),h=ON(n),f=d.useRef("touch"),[p,m,g]=DI(e=>{const t=h().filter(e=>!e.disabled),n=t.find(e=>e.value===s.value),r=OI(t,e,n);void 0!==r&&s.onValueChange(r.value)}),v=e=>{a||(s.onOpenChange(!0),g()),e&&(s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,j.jsx)(Mo,l(l({asChild:!0},o),{},{children:(0,j.jsx)(Z.button,l(l({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":jI(s.value)?"":void 0},i),{},{ref:u,onClick:_(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&v(e)}),onPointerDown:_(i.onPointerDown,e=>{f.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:_(i.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||PN.includes(e.key)&&(v(),e.preventDefault())})}))}))});KN.displayName=WN;var GN="SelectValue",QN=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s=""}=e,a=c(e,gN),u=zN(GN,n),{onValueNodeHasChildrenChange:d}=u,h=void 0!==o,f=C(t,u.onValueNodeChange);return pe(()=>{d(h)},[d,h]),(0,j.jsx)(Z.span,l(l({},a),{},{ref:f,style:{pointerEvents:"none"},children:jI(u.value)?(0,j.jsx)(j.Fragment,{children:s}):o}))});QN.displayName=GN;var YN=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r}=e,i=c(e,vN);return(0,j.jsx)(Z.span,l(l({"aria-hidden":!0},i),{},{ref:t,children:r||"\u25bc"}))});YN.displayName="SelectIcon";var XN=e=>(0,j.jsx)(ge,l({asChild:!0},e));XN.displayName="SelectPortal";var $N="SelectContent",JN=d.forwardRef((e,t)=>{const n=zN($N,e.__scopeSelect),[r,i]=d.useState();if(pe(()=>{i(new DocumentFragment)},[]),!n.open){const t=r;return t?E.createPortal((0,j.jsx)(eI,{scope:e.__scopeSelect,children:(0,j.jsx)(DN.Slot,{scope:e.__scopeSelect,children:(0,j.jsx)("div",{children:e.children})})}),t):null}return(0,j.jsx)(rI,l(l({},e),{},{ref:t}))});JN.displayName=$N;var ZN=10,[eI,tI]=LN($N),nI=V("SelectContent.RemoveScroll"),rI=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w}=e,b=c(e,yN),x=zN($N,n),[E,S]=d.useState(null),[k,T]=d.useState(null),N=C(t,e=>S(e)),[I,R]=d.useState(null),[P,A]=d.useState(null),D=ON(n),[O,M]=d.useState(!1),L=d.useRef(!1);d.useEffect(()=>{if(E)return SC(E)},[E]),rC();const F=d.useCallback(e=>{const[t,...n]=D().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(const o of e){if(o===i)return;if(null===o||void 0===o||o.scrollIntoView({block:"nearest"}),o===t&&k&&(k.scrollTop=0),o===r&&k&&(k.scrollTop=k.scrollHeight),null===o||void 0===o||o.focus(),document.activeElement!==i)return}},[D,k]),U=d.useCallback(()=>F([I,E]),[F,I,E]);d.useEffect(()=>{O&&U()},[O,U]);const{onOpenChange:V,triggerPointerDownPosRef:z}=x;d.useEffect(()=>{if(E){let e={x:0,y:0};const t=t=>{var n,r,i,o;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=z.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(o=z.current)||void 0===o?void 0:o.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():E.contains(n.target)||V(!1),document.removeEventListener("pointermove",t),z.current=null};return null!==z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[E,V,z]),d.useEffect(()=>{const e=()=>V(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[V]);const[B,q]=DI(e=>{const t=D().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=OI(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),H=d.useCallback((e,t,n)=>{const r=!L.current&&!n;(void 0!==x.value&&x.value===t||r)&&(R(e),r&&(L.current=!0))},[x.value]),W=d.useCallback(()=>null===E||void 0===E?void 0:E.focus(),[E]),K=d.useCallback((e,t,n)=>{const r=!L.current&&!n;(void 0!==x.value&&x.value===t||r)&&A(e)},[x.value]),G="popper"===r?oI:iI,Q=G===oI?{side:a,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:w}:{};return(0,j.jsx)(eI,{scope:n,content:E,viewport:k,onViewportChange:T,itemRefCallback:H,selectedItem:I,onItemLeave:W,itemTextRefCallback:K,focusSelectedItem:U,selectedItemText:P,position:r,isPositioned:O,searchRef:B,children:(0,j.jsx)(pN,{as:nI,allowPinchZoom:!0,children:(0,j.jsx)(cC,{asChild:!0,trapped:x.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:_(i,e=>{var t;null===(t=x.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,j.jsx)(le,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:(0,j.jsx)(G,l(l(l({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:e=>e.preventDefault()},b),Q),{},{onPlaced:()=>M(!0),ref:N,style:l({display:"flex",flexDirection:"column",outline:"none"},b.style),onKeyDown:_(b.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>F(t)),e.preventDefault()}})}))})})})})});rI.displayName="SelectContentImpl";var iI=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r}=e,i=c(e,wN),o=zN($N,n),s=tI($N,n),[a,u]=d.useState(null),[h,f]=d.useState(null),p=C(t,e=>f(e)),m=ON(n),g=d.useRef(!1),v=d.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:b,focusSelectedItem:x}=s,E=d.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&h&&y&&w&&b){const e=o.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),i=b.getBoundingClientRect();if("rtl"!==o.dir){const r=i.left-t.left,o=n.left-r,s=e.left-o,l=e.width+s,c=Math.max(l,t.width),u=window.innerWidth-ZN,d=eC(o,[ZN,Math.max(ZN,u-c)]);a.style.minWidth=l+"px",a.style.left=d+"px"}else{const r=t.right-i.right,o=window.innerWidth-n.right-r,s=window.innerWidth-e.right-o,l=e.width+s,c=Math.max(l,t.width),u=window.innerWidth-ZN,d=eC(o,[ZN,Math.max(ZN,u-c)]);a.style.minWidth=l+"px",a.style.right=d+"px"}const s=m(),l=window.innerHeight-2*ZN,c=y.scrollHeight,u=window.getComputedStyle(h),d=parseInt(u.borderTopWidth,10),f=parseInt(u.paddingTop,10),p=parseInt(u.borderBottomWidth,10),v=d+f+c+parseInt(u.paddingBottom,10)+p,x=Math.min(5*w.offsetHeight,v),E=window.getComputedStyle(y),S=parseInt(E.paddingTop,10),_=parseInt(E.paddingBottom,10),k=e.top+e.height/2-ZN,T=l-k,C=w.offsetHeight/2,N=d+f+(w.offsetTop+C),I=v-N;if(N<=k){const e=s.length>0&&w===s[s.length-1].ref.current;a.style.bottom="0px";const t=h.clientHeight-y.offsetTop-y.offsetHeight,n=N+Math.max(T,C+(e?_:0)+t+p);a.style.height=n+"px"}else{const e=s.length>0&&w===s[0].ref.current;a.style.top="0px";const t=Math.max(k,d+y.offsetTop+(e?S:0)+C)+I;a.style.height=t+"px",y.scrollTop=N-k+y.offsetTop}a.style.margin="".concat(ZN,"px 0"),a.style.minHeight=x+"px",a.style.maxHeight=l+"px",null===r||void 0===r||r(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,a,h,y,w,b,o.dir,r]);pe(()=>E(),[E]);const[S,_]=d.useState();pe(()=>{h&&_(window.getComputedStyle(h).zIndex)},[h]);const k=d.useCallback(e=>{e&&!0===v.current&&(E(),null===x||void 0===x||x(),v.current=!1)},[E,x]);return(0,j.jsx)(sI,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:k,children:(0,j.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:(0,j.jsx)(Z.div,l(l({},i),{},{ref:p,style:l({boxSizing:"border-box",maxHeight:"100%"},i.style)}))})})});iI.displayName="SelectItemAlignedPosition";var oI=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ZN}=e,o=c(e,bN),s=UN(n);return(0,j.jsx)(Lo,l(l(l({},s),o),{},{ref:t,align:r,collisionPadding:i,style:l(l({boxSizing:"border-box"},o.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});oI.displayName="SelectPopperPosition";var[sI,aI]=LN($N,{}),lI="SelectViewport",cI=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r}=e,i=c(e,xN),o=tI(lI,n),s=aI(lI,n),a=C(t,o.onViewportChange),u=d.useRef(0);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,j.jsx)(DN.Slot,{scope:n,children:(0,j.jsx)(Z.div,l(l({"data-radix-select-viewport":"",role:"presentation"},i),{},{ref:a,style:l({position:"relative",flex:1,overflow:"hidden auto"},i.style),onScroll:_(i.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=s;if(null!==r&&void 0!==r&&r.current&&n){const e=Math.abs(u.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*ZN,i=parseFloat(n.style.minHeight),o=parseFloat(n.style.height),s=Math.max(i,o);if(s<r){const i=s+e,o=Math.min(r,i),a=i-o;n.style.height=o+"px","0px"===n.style.bottom&&(t.scrollTop=a>0?a:0,n.style.justifyContent="flex-end")}}}u.current=t.scrollTop})}))})]})});cI.displayName=lI;var uI="SelectGroup",[dI,hI]=LN(uI),fI=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,EN),i=vr();return(0,j.jsx)(dI,{scope:n,id:i,children:(0,j.jsx)(Z.div,l(l({role:"group","aria-labelledby":i},r),{},{ref:t}))})});fI.displayName=uI;var pI="SelectLabel",mI=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,SN),i=hI(pI,n);return(0,j.jsx)(Z.div,l(l({id:i.id},r),{},{ref:t}))});mI.displayName=pI;var gI="SelectItem",[vI,yI]=LN(gI),wI=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o}=e,s=c(e,_N),a=zN(gI,n),u=tI(gI,n),h=a.value===r,[f,p]=d.useState(null!==o&&void 0!==o?o:""),[m,g]=d.useState(!1),v=C(t,e=>{var t;return null===(t=u.itemRefCallback)||void 0===t?void 0:t.call(u,e,r,i)}),y=vr(),w=d.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,j.jsx)(vI,{scope:n,value:r,disabled:i,textId:y,isSelected:h,onItemTextChange:d.useCallback(e=>{p(t=>{var n;return t||(null!==(n=null===e||void 0===e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:(0,j.jsx)(DN.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:(0,j.jsx)(Z.div,l(l({role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":h&&m,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s),{},{ref:v,onFocus:_(s.onFocus,()=>g(!0)),onBlur:_(s.onBlur,()=>g(!1)),onClick:_(s.onClick,()=>{"mouse"!==w.current&&b()}),onPointerUp:_(s.onPointerUp,()=>{"mouse"===w.current&&b()}),onPointerDown:_(s.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:_(s.onPointerMove,e=>{var t;(w.current=e.pointerType,i)?null===(t=u.onItemLeave)||void 0===t||t.call(u):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_(s.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=u.onItemLeave)||void 0===t||t.call(u))}),onKeyDown:_(s.onKeyDown,e=>{var t;""!==(null===(t=u.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(AN.includes(e.key)&&b()," "===e.key&&e.preventDefault())})}))})})});wI.displayName=gI;var bI="SelectItemText",xI=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i}=e,o=c(e,kN),s=zN(bI,n),a=tI(bI,n),u=yI(bI,n),h=qN(bI,n),[f,p]=d.useState(null),m=C(t,e=>p(e),u.onItemTextChange,e=>{var t;return null===(t=a.itemTextRefCallback)||void 0===t?void 0:t.call(a,e,u.value,u.disabled)}),g=null===f||void 0===f?void 0:f.textContent,v=d.useMemo(()=>(0,j.jsx)("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=h;return pe(()=>(y(v),()=>w(v)),[y,w,v]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Z.span,l(l({id:u.textId},o),{},{ref:m})),u.isSelected&&s.valueNode&&!s.valueNodeHasChildren?E.createPortal(o.children,s.valueNode):null]})});xI.displayName=bI;var EI="SelectItemIndicator",SI=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,TN);return yI(EI,n).isSelected?(0,j.jsx)(Z.span,l(l({"aria-hidden":!0},r),{},{ref:t})):null});SI.displayName=EI;var _I="SelectScrollUpButton",kI=d.forwardRef((e,t)=>{const n=tI(_I,e.__scopeSelect),r=aI(_I,e.__scopeSelect),[i,o]=d.useState(!1),s=C(t,r.onScrollButtonChange);return pe(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,j.jsx)(NI,l(l({},e),{},{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});kI.displayName=_I;var TI="SelectScrollDownButton",CI=d.forwardRef((e,t)=>{const n=tI(TI,e.__scopeSelect),r=aI(TI,e.__scopeSelect),[i,o]=d.useState(!1),s=C(t,r.onScrollButtonChange);return pe(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;o(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,j.jsx)(NI,l(l({},e),{},{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});CI.displayName=TI;var NI=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r}=e,i=c(e,CN),o=tI("SelectScrollButton",n),s=d.useRef(null),a=ON(n),u=d.useCallback(()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)},[]);return d.useEffect(()=>()=>u(),[u]),pe(()=>{var e;const t=a().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[a]),(0,j.jsx)(Z.div,l(l({"aria-hidden":!0},i),{},{ref:t,style:l({flexShrink:0},i.style),onPointerDown:_(i.onPointerDown,()=>{null===s.current&&(s.current=window.setInterval(r,50))}),onPointerMove:_(i.onPointerMove,()=>{var e;null===(e=o.onItemLeave)||void 0===e||e.call(o),null===s.current&&(s.current=window.setInterval(r,50))}),onPointerLeave:_(i.onPointerLeave,()=>{u()})}))}),II=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,NN);return(0,j.jsx)(Z.div,l(l({"aria-hidden":!0},r),{},{ref:t}))});II.displayName="SelectSeparator";var RI="SelectArrow",PI=d.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=c(e,IN),i=UN(n),o=zN(RI,n),s=tI(RI,n);return o.open&&"popper"===s.position?(0,j.jsx)(Fo,l(l(l({},i),r),{},{ref:t})):null});PI.displayName=RI;var AI=d.forwardRef((e,t)=>{let{__scopeSelect:n,value:r}=e,i=c(e,RN);const o=d.useRef(null),s=C(t,o),a=function(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return d.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(a!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}},[a,r]),(0,j.jsx)(Z.select,l(l({},i),{},{style:l(l({},xe),i.style),ref:s,defaultValue:r}))});function jI(e){return""===e||void 0===e}function DI(e){const t=te(e),n=d.useRef(""),r=d.useRef(0),i=d.useCallback(e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),o=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function OI(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=(s=e,a=Math.max(i,0),s.map((e,t)=>s[(a+t)%s.length]));var s,a;1===r.length&&(o=o.filter(e=>e!==n));const l=o.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}AI.displayName="SelectBubbleInput";var MI=HN,LI=KN,FI=QN,UI=YN,VI=XN,zI=JN,BI=cI,qI=mI,HI=wI,WI=xI,KI=SI,GI=kI,QI=CI,YI=II;const XI=At("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$I=At("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),JI=At("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ZI=["className","children"],eR=["className"],tR=["className"],nR=["className","children","position"],rR=["className"],iR=["className","children"],oR=["className"],sR=MI,aR=FI,lR=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,ZI);return(0,j.jsxs)(LI,l(l({ref:t,className:Nn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n)},i),{},{children:[r,(0,j.jsx)(UI,{asChild:!0,children:(0,j.jsx)(XI,{className:"h-4 w-4 opacity-50"})})]}))});lR.displayName=LI.displayName;const cR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,eR);return(0,j.jsx)(GI,l(l({ref:t,className:Nn("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,j.jsx)($I,{className:"h-4 w-4"})}))});cR.displayName=GI.displayName;const uR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,tR);return(0,j.jsx)(QI,l(l({ref:t,className:Nn("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,j.jsx)(XI,{className:"h-4 w-4"})}))});uR.displayName=QI.displayName;const dR=d.forwardRef((e,t)=>{let{className:n,children:r,position:i="popper"}=e,o=c(e,nR);return(0,j.jsx)(VI,{children:(0,j.jsxs)(zI,l(l({ref:t,className:Nn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i},o),{},{children:[(0,j.jsx)(cR,{}),(0,j.jsx)(BI,{className:Nn("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,j.jsx)(uR,{})]}))})});dR.displayName=zI.displayName;d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,rR);return(0,j.jsx)(qI,l({ref:t,className:Nn("py-1.5 pl-8 pr-2 text-sm font-semibold",n)},r))}).displayName=qI.displayName;const hR=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,iR);return(0,j.jsxs)(HI,l(l({ref:t,className:Nn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n)},i),{},{children:[(0,j.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,j.jsx)(KI,{children:(0,j.jsx)(JI,{className:"h-4 w-4"})})}),(0,j.jsx)(WI,{children:r})]}))});hR.displayName=HI.displayName;d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,oR);return(0,j.jsx)(YI,l({ref:t,className:Nn("-mx-1 my-1 h-px bg-muted",n)},r))}).displayName=YI.displayName;const fR=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,o]=(0,d.useState)(""),[s,a]=(0,d.useState)(""),[l,c]=(0,d.useState)("5"),[u,h]=(0,d.useState)("7"),[f,p]=(0,d.useState)("10"),[m,g]=(0,d.useState)("admin"),[v,y]=(0,d.useState)(!1),w=jl(),{toast:b}=x();return(0,j.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,j.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"Company Registration"}),(0,j.jsx)(xc,{children:"Create your company account"})]}),(0,j.jsx)(Ec,{children:(0,j.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),y(!0);try{const t=await ep(WT,n,i);await yk(g_(KT,"companies",t.user.uid),{name:e,email:n,balance:parseFloat(s),interestRates:{3:parseFloat(l),6:parseFloat(u),12:parseFloat(f)},role:m,createdAt:(new Date).toISOString()}),b({title:"Success",description:"Company registered successfully"}),w("/company/login")}catch(r){b({title:"Error",description:r.message,variant:"destructive"})}finally{y(!1)}},className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"name",children:"Company Name"}),(0,j.jsx)(QT,{id:"name",type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"email",children:"Email"}),(0,j.jsx)(QT,{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"password",children:"Password"}),(0,j.jsx)(QT,{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"balance",children:"Balance"}),(0,j.jsx)(QT,{id:"balance",type:"number",step:"0.01",value:s,onChange:e=>a(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{children:"Interest Rates by Repayment Term"}),(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"rate3",className:"text-xs",children:"3 Months (%)"}),(0,j.jsx)(QT,{id:"rate3",type:"number",step:"0.1",min:"0",max:"50",value:l,onChange:e=>c(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"rate6",className:"text-xs",children:"6 Months (%)"}),(0,j.jsx)(QT,{id:"rate6",type:"number",step:"0.1",min:"0",max:"50",value:u,onChange:e=>h(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"rate12",className:"text-xs",children:"12 Months (%)"}),(0,j.jsx)(QT,{id:"rate12",type:"number",step:"0.1",min:"0",max:"50",value:f,onChange:e=>p(e.target.value),required:!0})]})]}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Set different rates for each repayment term (e.g., 5% for 3 months, 10% for 12 months)"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"role",children:"Role"}),(0,j.jsxs)(sR,{value:m,onValueChange:e=>g(e),children:[(0,j.jsx)(lR,{id:"role",children:(0,j.jsx)(aR,{})}),(0,j.jsxs)(dR,{children:[(0,j.jsx)(hR,{value:"admin",children:"Admin (Full Access)"}),(0,j.jsx)(hR,{value:"manager",children:"Manager (Approve/Reject Loans)"}),(0,j.jsx)(hR,{value:"hr",children:"HR (View Employees Only)"})]})]}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Admin has full access to all features"})]}),(0,j.jsx)(dc,{type:"submit",className:"w-full",disabled:v,children:v?"Registering...":"Register"}),(0,j.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",(0,j.jsx)(sc,{to:"/company/login",className:"text-primary hover:underline",children:"Login"})]})]})})]})})},pR=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,o]=(0,d.useState)(!1),s=jl(),{toast:a}=x();(0,d.useEffect)(()=>{const e=np(WT,e=>{e&&s("/company/dashboard")});return()=>e()},[s]);return(0,j.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,j.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"Company Login"}),(0,j.jsx)(xc,{children:"Sign in to your company account"})]}),(0,j.jsx)(Ec,{children:(0,j.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0);try{await tp(WT,e,n),a({title:"Success",description:"Logged in successfully"}),s("/company/dashboard")}catch(r){a({title:"Error",description:r.message,variant:"destructive"})}finally{o(!1)}},className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"email",children:"Email"}),(0,j.jsx)(QT,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"password",children:"Password"}),(0,j.jsx)(QT,{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,j.jsx)(dc,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login"}),(0,j.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",(0,j.jsx)(sc,{to:"/company/register",className:"text-primary hover:underline",children:"Register"})]})]})})]})})},mR=["className"],gR=["className"],vR=["className"],yR=["className"],wR=["className"],bR=["className"],xR=["className"],ER=["className"],SR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,mR);return(0,j.jsx)("div",{className:"relative w-full overflow-auto",children:(0,j.jsx)("table",l({ref:t,className:Nn("w-full caption-bottom text-sm",n)},r))})});SR.displayName="Table";const _R=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,gR);return(0,j.jsx)("thead",l({ref:t,className:Nn("[&_tr]:border-b",n)},r))});_R.displayName="TableHeader";const kR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,vR);return(0,j.jsx)("tbody",l({ref:t,className:Nn("[&_tr:last-child]:border-0",n)},r))});kR.displayName="TableBody";d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,yR);return(0,j.jsx)("tfoot",l({ref:t,className:Nn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n)},r))}).displayName="TableFooter";const TR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,wR);return(0,j.jsx)("tr",l({ref:t,className:Nn("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",n)},r))});TR.displayName="TableRow";const CR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,bR);return(0,j.jsx)("th",l({ref:t,className:Nn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n)},r))});CR.displayName="TableHead";const NR=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,xR);return(0,j.jsx)("td",l({ref:t,className:Nn("p-4 align-middle [&:has([role=checkbox])]:pr-0",n)},r))});NR.displayName="TableCell";d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,ER);return(0,j.jsx)("caption",l({ref:t,className:Nn("mt-4 text-sm text-muted-foreground",n)},r))}).displayName="TableCaption";const IR=["className"];function RR(e){let{className:t}=e,n=c(e,IR);return(0,j.jsx)("div",l({className:Nn("animate-pulse rounded-md bg-muted",t)},n))}const PR=(e,t,n)=>{const r=e*t*n/1200,i=e+r;return{totalInterest:r,totalAmount:i,monthlyPayment:i/n}},AR=["__scopeDialog"],jR=["forceMount"],DR=["__scopeDialog"],OR=["forceMount"],MR=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],LR=["__scopeDialog"],FR=["__scopeDialog"],UR=["__scopeDialog"];var VR="Dialog",[zR,BR]=M(VR),[qR,HR]=zR(VR),WR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=d.useRef(null),l=d.useRef(null),[c,u]=be({prop:r,defaultProp:null!==i&&void 0!==i&&i,onChange:o,caller:VR});return(0,j.jsx)(qR,{scope:t,triggerRef:a,contentRef:l,contentId:vr(),titleId:vr(),descriptionId:vr(),open:c,onOpenChange:u,onOpenToggle:d.useCallback(()=>u(e=>!e),[u]),modal:s,children:n})};WR.displayName=VR;var KR="DialogTrigger",GR=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,AR),i=HR(KR,n),o=C(t,i.triggerRef);return(0,j.jsx)(Z.button,l(l({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fP(i.open)},r),{},{ref:o,onClick:_(e.onClick,i.onOpenToggle)}))});GR.displayName=KR;var QR="DialogPortal",[YR,XR]=zR(QR,{forceMount:void 0}),$R=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=HR(QR,t);return(0,j.jsx)(YR,{scope:t,forceMount:n,children:d.Children.map(r,e=>(0,j.jsx)(ve,{present:n||o.open,children:(0,j.jsx)(ge,{asChild:!0,container:i,children:e})}))})};$R.displayName=QR;var JR="DialogOverlay",ZR=d.forwardRef((e,t)=>{const n=XR(JR,e.__scopeDialog),{forceMount:r=n.forceMount}=e,i=c(e,jR),o=HR(JR,e.__scopeDialog);return o.modal?(0,j.jsx)(ve,{present:r||o.open,children:(0,j.jsx)(tP,l(l({},i),{},{ref:t}))}):null});ZR.displayName=JR;var eP=V("DialogOverlay.RemoveScroll"),tP=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,DR),i=HR(JR,n);return(0,j.jsx)(pN,{as:eP,allowPinchZoom:!0,shards:[i.contentRef],children:(0,j.jsx)(Z.div,l(l({"data-state":fP(i.open)},r),{},{ref:t,style:l({pointerEvents:"auto"},r.style)}))})}),nP="DialogContent",rP=d.forwardRef((e,t)=>{const n=XR(nP,e.__scopeDialog),{forceMount:r=n.forceMount}=e,i=c(e,OR),o=HR(nP,e.__scopeDialog);return(0,j.jsx)(ve,{present:r||o.open,children:o.modal?(0,j.jsx)(iP,l(l({},i),{},{ref:t})):(0,j.jsx)(oP,l(l({},i),{},{ref:t}))})});rP.displayName=nP;var iP=d.forwardRef((e,t)=>{const n=HR(nP,e.__scopeDialog),r=d.useRef(null),i=C(t,n.contentRef,r);return d.useEffect(()=>{const e=r.current;if(e)return SC(e)},[]),(0,j.jsx)(sP,l(l({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:_(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:_(e.onFocusOutside,e=>e.preventDefault())}))}),oP=d.forwardRef((e,t)=>{const n=HR(nP,e.__scopeDialog),r=d.useRef(!1),i=d.useRef(!1);return(0,j.jsx)(sP,l(l({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var o,s;(null===(o=e.onCloseAutoFocus)||void 0===o||o.call(e,t),t.defaultPrevented)||(r.current||null===(s=n.triggerRef.current)||void 0===s||s.focus(),t.preventDefault());r.current=!1,i.current=!1},onInteractOutside:t=>{var o,s;null===(o=e.onInteractOutside)||void 0===o||o.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const a=t.target;(null===(s=n.triggerRef.current)||void 0===s?void 0:s.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),sP=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o}=e,s=c(e,MR),a=HR(nP,n),u=d.useRef(null),h=C(t,u);return rC(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(cC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,j.jsx)(le,l(l({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":fP(a.open)},s),{},{ref:h,onDismiss:()=>a.onOpenChange(!1)}))}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(vP,{titleId:a.titleId}),(0,j.jsx)(yP,{contentRef:u,descriptionId:a.descriptionId})]})]})}),aP="DialogTitle",lP=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,LR),i=HR(aP,n);return(0,j.jsx)(Z.h2,l(l({id:i.titleId},r),{},{ref:t}))});lP.displayName=aP;var cP="DialogDescription",uP=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,FR),i=HR(cP,n);return(0,j.jsx)(Z.p,l(l({id:i.descriptionId},r),{},{ref:t}))});uP.displayName=cP;var dP="DialogClose",hP=d.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=c(e,UR),i=HR(dP,n);return(0,j.jsx)(Z.button,l(l({type:"button"},r),{},{ref:t,onClick:_(e.onClick,()=>i.onOpenChange(!1))}))});function fP(e){return e?"open":"closed"}hP.displayName=dP;var pP="DialogTitleWarning",[mP,gP]=function(e,t){const n=d.createContext(t),r=e=>{const{children:t}=e,r=c(e,D),i=d.useMemo(()=>r,Object.values(r));return(0,j.jsx)(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=d.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error("`".concat(r,"` must be used within `").concat(e,"`"))}]}(pP,{contentName:nP,titleName:aP,docsSlug:"dialog"}),vP=e=>{let{titleId:t}=e;const n=gP(pP),r="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return d.useEffect(()=>{if(t){document.getElementById(t)||console.error(r)}},[r,t]),null},yP=e=>{let{contentRef:t,descriptionId:n}=e;const r=gP("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return d.useEffect(()=>{var e;const r=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(n&&r){document.getElementById(n)||console.warn(i)}},[i,t,n]),null},wP=ZR,bP=rP,xP=lP,EP=uP,SP=hP;const _P=["className"],kP=["className","children"],TP=["className"],CP=["className"],NP=["className"],IP=WR,RP=$R,PP=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,_P);return(0,j.jsx)(wP,l({ref:t,className:Nn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r))});PP.displayName=wP.displayName;const AP=d.forwardRef((e,t)=>{let{className:n,children:r}=e,i=c(e,kP);return(0,j.jsxs)(RP,{children:[(0,j.jsx)(PP,{}),(0,j.jsxs)(bP,l(l({ref:t,className:Nn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n)},i),{},{children:[r,(0,j.jsxs)(SP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,j.jsx)(jt,{className:"h-4 w-4"}),(0,j.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});AP.displayName=bP.displayName;const jP=e=>{let{className:t}=e,n=c(e,TP);return(0,j.jsx)("div",l({className:Nn("flex flex-col space-y-1.5 text-center sm:text-left",t)},n))};jP.displayName="DialogHeader";const DP=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,CP);return(0,j.jsx)(xP,l({ref:t,className:Nn("text-lg font-semibold leading-none tracking-tight",n)},r))});DP.displayName=xP.displayName;const OP=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,NP);return(0,j.jsx)(EP,l({ref:t,className:Nn("text-sm text-muted-foreground",n)},r))});OP.displayName=EP.displayName;const MP=["className"],LP=d.forwardRef((e,t)=>{let{className:n}=e,r=c(e,MP);return(0,j.jsx)("textarea",l({className:Nn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},r))});LP.displayName="Textarea";const FP=["decorative","orientation"];var UP="horizontal",VP=["horizontal","vertical"],zP=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=UP}=e,i=c(e,FP),o=function(e){return VP.includes(e)}(r)?r:UP,s=n?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"};return(0,j.jsx)(Z.div,l(l(l({"data-orientation":o},s),i),{},{ref:t}))});zP.displayName="Separator";var BP=zP;const qP=["className","orientation","decorative"],HP=d.forwardRef((e,t)=>{let{className:n,orientation:r="horizontal",decorative:i=!0}=e,o=c(e,qP);return(0,j.jsx)(BP,l({ref:t,decorative:i,orientation:r,className:Nn("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",n)},o))});HP.displayName=BP.displayName;const WP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function KP(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const GP={date:KP({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:KP({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:KP({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},QP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function YP(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const XP={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:YP({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:YP({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:YP({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:YP({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:YP({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function $P(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,e=>e.test(s)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,e=>e.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}const JP={ordinalNumber:(ZP={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(ZP.matchPattern);if(!n)return null;const r=n[0],i=e.match(ZP.parsePattern);if(!i)return null;let o=ZP.valueCallback?ZP.valueCallback(i[0]):i[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(r.length)}}),era:$P({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:$P({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:$P({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:$P({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:$P({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var ZP;const eA={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=WP[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:GP,formatRelative:(e,t,n,r)=>QP[e],localize:XP,match:JP,options:{weekStartsOn:0,firstWeekContainsDate:1}};let tA={};function nA(){return tA}Math.pow(10,8);const rA=6048e5;function iA(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function oA(e){const t=iA(e);return t.setHours(0,0,0,0),t}function sA(e){const t=iA(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function aA(e,t){const n=oA(e),r=oA(t),i=+n-sA(n),o=+r-sA(r);return Math.round((i-o)/864e5)}function lA(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function cA(e){const t=iA(e),n=lA(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function uA(e){const t=iA(e);return aA(t,cA(t))+1}function dA(e,t){var n,r,i,o,s,a;const l=nA(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=iA(e),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function hA(e){return dA(e,{weekStartsOn:1})}function fA(e){const t=iA(e),n=t.getFullYear(),r=lA(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=hA(r),o=lA(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=hA(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function pA(e){const t=fA(e),n=lA(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),hA(n)}function mA(e){const t=iA(e),n=+hA(t)-+pA(t);return Math.round(n/rA)+1}function gA(e,t){var n,r,i,o,s,a;const l=iA(e),c=l.getFullYear(),u=nA(),d=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(a=u.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,h=lA(e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=dA(h,t),p=lA(e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=dA(p,t);return l.getTime()>=f.getTime()?c+1:l.getTime()>=m.getTime()?c:c-1}function vA(e,t){var n,r,i,o,s,a;const l=nA(),c=null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,u=gA(e,t),d=lA(e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return dA(d,t)}function yA(e,t){const n=iA(e),r=+dA(n,t)-+vA(n,t);return Math.round(r/rA)+1}function wA(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const bA={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return wA("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):wA(n+1,2)},d:(e,t)=>wA(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>wA(e.getHours()%12||12,t.length),H:(e,t)=>wA(e.getHours(),t.length),m:(e,t)=>wA(e.getMinutes(),t.length),s:(e,t)=>wA(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return wA(Math.trunc(r*Math.pow(10,n-3)),t.length)}},xA="midnight",EA="noon",SA="morning",_A="afternoon",kA="evening",TA="night",CA={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return bA.y(e,t)},Y:function(e,t,n,r){const i=gA(e,r),o=i>0?i:1-i;if("YY"===t){return wA(o%100,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):wA(o,t.length)},R:function(e,t){return wA(fA(e),t.length)},u:function(e,t){return wA(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return wA(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return wA(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return bA.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return wA(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=yA(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):wA(i,t.length)},I:function(e,t,n){const r=mA(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):wA(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):bA.d(e,t)},D:function(e,t,n){const r=uA(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):wA(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return wA(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return wA(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return wA(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?EA:0===r?xA:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?kA:r>=12?_A:r>=4?SA:TA,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return bA.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):bA.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):wA(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):wA(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):bA.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):bA.s(e,t)},S:function(e,t){return bA.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return IA(r);case"XXXX":case"XX":return RA(r);default:return RA(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return IA(r);case"xxxx":case"xx":return RA(r);default:return RA(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+NA(r,":");default:return"GMT"+RA(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+NA(r,":");default:return"GMT"+RA(r,":")}},t:function(e,t,n){return wA(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return wA(e.getTime(),t.length)}};function NA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+t+wA(o,2)}function IA(e,t){if(e%60===0){return(e>0?"-":"+")+wA(Math.abs(e)/60,2)}return RA(e,t)}function RA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+wA(Math.trunc(r/60),2)+t+wA(r%60,2)}const PA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},AA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},jA={p:AA,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return PA(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",PA(r,t)).replace("{{time}}",AA(i,t))}},DA=/^D+$/,OA=/^Y+$/,MA=["D","DD","YY","YYYY"];function LA(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function FA(e){if(!LA(e)&&"number"!==typeof e)return!1;const t=iA(e);return!isNaN(Number(t))}const UA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zA=/^'([^]*?)'?$/,BA=/''/g,qA=/[a-zA-Z]/;function HA(e,t,n){var r,i,o,s,a,l,c,u,d,h,f,p,m,g;const v=nA(),y=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:v.locale)&&void 0!==r?r:eA,w=null!==(o=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:v.firstWeekContainsDate)&&void 0!==s?s:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:1,b=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:v.weekStartsOn)&&void 0!==h?h:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,x=iA(e);if(!FA(x))throw new RangeError("Invalid time value");let E=t.match(VA).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,jA[t])(e,y.formatLong)}return e}).join("").match(UA).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:WA(e)};if(CA[t])return{isToken:!0,value:e};if(t.match(qA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});y.localize.preprocessor&&(E=y.localize.preprocessor(x,E));const S={firstWeekContainsDate:w,weekStartsOn:b,locale:y};return E.map(r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return OA.test(e)}(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return DA.test(e)}(i))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),MA.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,CA[i[0]])(x,i,y.localize,S)}).join("")}function WA(e){const t=e.match(zA);return t?t[1].replace(BA,"'"):e}const KA=e=>{var t,n;let{loan:r,open:i,onOpenChange:o,onApprove:s,onReject:a,userRole:l}=e;const[c,u]=(0,d.useState)(""),[h,f]=(0,d.useState)(""),[p,m]=(0,d.useState)(!1);if(!r)return null;return(0,j.jsx)(IP,{open:i,onOpenChange:o,children:(0,j.jsxs)(AP,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,j.jsxs)(jP,{children:[(0,j.jsx)(DP,{children:"Loan Request Details"}),(0,j.jsx)(OP,{children:"Review the complete loan information"})]}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{className:"text-sm font-medium",children:"Status:"}),(0,j.jsx)(kc,{variant:"approved"===r.status?"default":"rejected"===r.status?"destructive":"secondary",children:r.status})]}),(0,j.jsx)(HP,{}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Employee"}),(0,j.jsx)("p",{className:"font-medium",children:r.employeeName})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Requested Amount"}),(0,j.jsxs)("p",{className:"font-medium text-lg",children:["$",r.amount.toFixed(2)]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Request Date"}),(0,j.jsx)("p",{className:"font-medium",children:HA(new Date(r.createdAt),"PPP")})]}),r.updatedAt&&(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Last Updated"}),(0,j.jsx)("p",{className:"font-medium",children:HA(new Date(r.updatedAt),"PPP")})]})]}),void 0!==r.interestRate&&r.repaymentTerm&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(HP,{}),(0,j.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[(0,j.jsx)("h4",{className:"font-semibold",children:"Repayment Details"}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Interest Rate"}),(0,j.jsxs)("p",{className:"font-medium",children:[r.interestRate,"% per year"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Repayment Term"}),(0,j.jsxs)("p",{className:"font-medium",children:[r.repaymentTerm," months"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Total Amount"}),(0,j.jsxs)("p",{className:"font-medium text-lg",children:["$",null===(t=r.totalAmount)||void 0===t?void 0:t.toFixed(2)]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Monthly Payment"}),(0,j.jsxs)("p",{className:"font-medium text-lg",children:["$",null===(n=r.monthlyPayment)||void 0===n?void 0:n.toFixed(2)]})]})]})]})]}),r.purpose&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(HP,{}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Loan Purpose"}),(0,j.jsx)("p",{className:"mt-1 text-sm bg-muted/50 p-3 rounded-md",children:r.purpose})]})]}),r.notes&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(HP,{}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Company Notes"}),(0,j.jsx)("p",{className:"mt-1 text-sm bg-muted/50 p-3 rounded-md",children:r.notes})]})]}),"rejected"===r.status&&r.rejectionReason&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(HP,{}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{className:"text-muted-foreground",children:"Rejection Reason"}),(0,j.jsx)("p",{className:"mt-1 text-sm bg-destructive/10 text-destructive p-3 rounded-md",children:r.rejectionReason})]})]}),"company"===l&&"pending"===r.status&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(HP,{}),p?(0,j.jsxs)("div",{className:"space-y-3",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"rejection",children:"Rejection Reason *"}),(0,j.jsx)(LP,{id:"rejection",placeholder:"Please provide a reason for rejection...",value:h,onChange:e=>f(e.target.value),className:"mt-1",required:!0})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)(dc,{variant:"outline",onClick:()=>{m(!1),f("")},className:"flex-1",children:"Cancel"}),(0,j.jsx)(dc,{variant:"destructive",onClick:()=>{a&&h.trim()&&(a(r.id,h),f(""),m(!1),o(!1))},disabled:!h.trim(),className:"flex-1",children:"Confirm Rejection"})]})]}):(0,j.jsxs)("div",{className:"space-y-3",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"notes",children:"Add Notes (Optional)"}),(0,j.jsx)(LP,{id:"notes",placeholder:"Add any internal notes about this loan...",value:c,onChange:e=>u(e.target.value),className:"mt-1"})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)(dc,{onClick:()=>{s&&(s(r.id,c),u(""),o(!1))},className:"flex-1",children:"Approve Loan"}),(0,j.jsx)(dc,{variant:"destructive",onClick:()=>m(!0),className:"flex-1",children:"Reject Loan"})]})]})]})]})]})})},GA=At("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),QA=e=>{let{searchTerm:t,onSearchChange:n,filterStatus:r,onFilterChange:i,placeholder:o="Search...",showStatusFilter:s=!1}=e;return(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[(0,j.jsxs)("div",{className:"relative flex-1",children:[(0,j.jsx)(GA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,j.jsx)(QT,{placeholder:o,value:t,onChange:e=>n(e.target.value),className:"pl-10"})]}),s&&i&&(0,j.jsxs)(sR,{value:r,onValueChange:i,children:[(0,j.jsx)(lR,{className:"w-full sm:w-[180px]",children:(0,j.jsx)(aR,{placeholder:"Filter by status"})}),(0,j.jsxs)(dR,{children:[(0,j.jsx)(hR,{value:"all",children:"All Status"}),(0,j.jsx)(hR,{value:"pending",children:"Pending"}),(0,j.jsx)(hR,{value:"approved",children:"Approved"}),(0,j.jsx)(hR,{value:"rejected",children:"Rejected"})]})]})]})},YA=At("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),XA=e=>{let{open:t,onOpenChange:n,currentRates:r,onSave:i}=e;const[o,s]=(0,d.useState)(r[3].toString()),[a,l]=(0,d.useState)(r[6].toString()),[c,u]=(0,d.useState)(r[12].toString()),[h,f]=(0,d.useState)(!1);(0,d.useEffect)(()=>{s(r[3].toString()),l(r[6].toString()),u(r[12].toString())},[r]);const p=parseFloat(o)!==r[3]||parseFloat(a)!==r[6]||parseFloat(c)!==r[12];return(0,j.jsx)(IP,{open:t,onOpenChange:n,children:(0,j.jsxs)(AP,{className:"max-w-md",children:[(0,j.jsxs)(jP,{children:[(0,j.jsxs)(DP,{className:"flex items-center gap-2",children:[(0,j.jsx)(Pc,{className:"h-5 w-5 text-primary"}),"Interest Rate Settings"]}),(0,j.jsx)(OP,{children:"Update your interest rates for each repayment term. Changes will apply to all new loan requests."})]}),(0,j.jsxs)("div",{className:"space-y-6 py-4",children:[(0,j.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,j.jsx)("h4",{className:"font-semibold mb-2 text-sm",children:"Current Rates"}),(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"3 months:"}),(0,j.jsxs)("span",{className:"font-semibold ml-1",children:[r[3],"%"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"6 months:"}),(0,j.jsxs)("span",{className:"font-semibold ml-1",children:[r[6],"%"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"12 months:"}),(0,j.jsxs)("span",{className:"font-semibold ml-1",children:[r[12],"%"]})]})]})]}),(0,j.jsx)(HP,{}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsx)("h4",{className:"font-semibold text-sm",children:"New Rates"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"rate3",children:"3 Months Interest Rate (%)"}),(0,j.jsx)(QT,{id:"rate3",type:"number",step:"0.1",min:"0",max:"50",value:o,onChange:e=>s(e.target.value),className:"mt-1"}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Rate for 3-month repayment term"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"rate6",children:"6 Months Interest Rate (%)"}),(0,j.jsx)(QT,{id:"rate6",type:"number",step:"0.1",min:"0",max:"50",value:a,onChange:e=>l(e.target.value),className:"mt-1"}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Rate for 6-month repayment term"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"rate12",children:"12 Months Interest Rate (%)"}),(0,j.jsx)(QT,{id:"rate12",type:"number",step:"0.1",min:"0",max:"50",value:c,onChange:e=>u(e.target.value),className:"mt-1"}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Rate for 12-month repayment term"})]})]}),(0,j.jsx)(HP,{}),p&&(0,j.jsxs)("div",{className:"bg-primary/5 border border-primary/20 p-4 rounded-lg",children:[(0,j.jsxs)("h4",{className:"font-semibold mb-2 text-sm flex items-center gap-2",children:[(0,j.jsx)(Pc,{className:"h-4 w-4"}),"Preview Changes"]}),(0,j.jsxs)("div",{className:"space-y-1 text-sm",children:[parseFloat(o)!==r[3]&&(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{children:"3 months:"}),(0,j.jsxs)("span",{children:[(0,j.jsxs)("span",{className:"text-muted-foreground line-through",children:[r[3],"%"]}),(0,j.jsxs)("span",{className:"text-primary font-semibold ml-2",children:[o,"%"]})]})]}),parseFloat(a)!==r[6]&&(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{children:"6 months:"}),(0,j.jsxs)("span",{children:[(0,j.jsxs)("span",{className:"text-muted-foreground line-through",children:[r[6],"%"]}),(0,j.jsxs)("span",{className:"text-primary font-semibold ml-2",children:[a,"%"]})]})]}),parseFloat(c)!==r[12]&&(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{children:"12 months:"}),(0,j.jsxs)("span",{children:[(0,j.jsxs)("span",{className:"text-muted-foreground line-through",children:[r[12],"%"]}),(0,j.jsxs)("span",{className:"text-primary font-semibold ml-2",children:[c,"%"]})]})]})]})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)(dc,{variant:"outline",onClick:()=>n(!1),className:"flex-1",disabled:h,children:"Cancel"}),(0,j.jsxs)(dc,{onClick:async()=>{f(!0);const e={3:parseFloat(o),6:parseFloat(a),12:parseFloat(c)};await i(e),f(!1),n(!1)},disabled:!p||h,className:"flex-1 gap-2",children:[(0,j.jsx)(YA,{className:"h-4 w-4"}),h?"Saving...":"Save Changes"]})]}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Note: Changes will only affect new loan requests. Existing loans will keep their original rates."})]})]})})},$A=At("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),JA=At("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ZA=At("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ej=()=>{const[e,t]=(0,d.useState)(null),[n,r]=(0,d.useState)([]),[i,o]=(0,d.useState)([]),[s,a]=(0,d.useState)(!0),[c,u]=(0,d.useState)(null),[h,f]=(0,d.useState)(!1),[p,m]=(0,d.useState)(!1),[g,v]=(0,d.useState)("admin"),[y,w]=(0,d.useState)(""),[b,E]=(0,d.useState)(""),[S,_]=(0,d.useState)("all"),k=jl(),{toast:T}=x(),C=(e=>{switch(e){case"admin":return{canApproveLoan:!0,canRejectLoan:!0,canViewAllEmployees:!0,canEditEmployees:!0,canViewFinancials:!0,canManageRoles:!0};case"manager":return{canApproveLoan:!0,canRejectLoan:!0,canViewAllEmployees:!0,canEditEmployees:!1,canViewFinancials:!0,canManageRoles:!1};case"hr":return{canApproveLoan:!1,canRejectLoan:!1,canViewAllEmployees:!0,canEditEmployees:!0,canViewFinancials:!1,canManageRoles:!1};default:return{canApproveLoan:!1,canRejectLoan:!1,canViewAllEmployees:!1,canEditEmployees:!1,canViewFinancials:!1,canManageRoles:!1}}})(g);(0,d.useEffect)(()=>{const e=np(WT,async e=>{if(e)try{const n=await mk(g_(KT,"companies",e.uid));if(n.exists()){const r=n.data();t(r),v(r.role||"admin"),await N(e.uid),await I(e.uid)}}catch(n){T({title:"Error",description:n.message,variant:"destructive"})}finally{a(!1)}else k("/company/login")});return()=>e()},[k,T]);const N=async e=>{const t=tk(m_(KT,"employees"),rk("companyId","==",e)),n=(await vk(t)).docs.map(e=>l({id:e.id},e.data()));r(n)},I=async e=>{const t=tk(m_(KT,"loans"),rk("companyId","==",e)),n=await vk(t),r=await Promise.all(n.docs.map(async e=>{const t=e.data(),n=await mk(g_(KT,"employees",t.employeeId));return l(l({id:e.id},t),{},{employeeName:n.exists()?n.data().name:"Unknown"})}));o(r)},R=e=>{u(e),f(!0)};if(s)return(0,j.jsx)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:(0,j.jsx)("div",{className:"container py-8",children:(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsx)(RR,{className:"h-12 w-64"}),(0,j.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,j.jsx)(RR,{className:"h-32"}),(0,j.jsx)(RR,{className:"h-32"}),(0,j.jsx)(RR,{className:"h-32"})]}),(0,j.jsx)(RR,{className:"h-96"})]})})});const P=i.filter(e=>"pending"===e.status),A=i.filter(e=>"approved"===e.status),D=i.filter(e=>"rejected"===e.status),O=n.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.email.toLowerCase().includes(y.toLowerCase())),M=i.filter(e=>{var t;const n=null===(t=e.employeeName)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()),r="all"===S||e.status===S;return n&&r});return(0,j.jsxs)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:[(0,j.jsxs)("div",{className:"container py-8",children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-8 animate-in fade-in duration-500",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:null===e||void 0===e?void 0:e.name}),(0,j.jsxs)("div",{className:"flex items-center gap-4 mt-1 flex-wrap",children:[(0,j.jsxs)("p",{className:"text-lg text-muted-foreground",children:["Balance: $",null===e||void 0===e?void 0:e.balance.toFixed(2)]}),(0,j.jsx)("span",{className:"text-muted-foreground",children:"\u2022"}),null!==e&&void 0!==e&&e.interestRates?(0,j.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Rates: 3mo-",e.interestRates[3],"% | 6mo-",e.interestRates[6],"% | 12mo-",e.interestRates[12],"%"]}):(0,j.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rates: Not set"}),(0,j.jsxs)(dc,{size:"sm",variant:"ghost",onClick:()=>m(!0),className:"gap-1 h-7 text-xs",children:[(0,j.jsx)($A,{className:"h-3 w-3"}),null!==e&&void 0!==e&&e.interestRates?"Edit Rates":"Set Rates"]})]}),(0,j.jsxs)(kc,{variant:"outline",className:"mt-2",children:[g.toUpperCase()," Role"]})]}),(0,j.jsx)(dc,{onClick:async()=>{try{await rp(WT),k("/company/login")}catch(e){T({title:"Error",description:e.message,variant:"destructive"})}},variant:"outline",children:"Logout"})]}),(0,j.jsxs)("div",{className:"grid gap-6 md:grid-cols-4 mb-8 animate-in slide-in-from-bottom duration-700",children:[(0,j.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,j.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,j.jsx)(bc,{className:"text-sm font-medium",children:"Pending Loans"}),(0,j.jsx)(jc,{className:"h-4 w-4 text-muted-foreground"})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)("div",{className:"text-2xl font-bold",children:P.length}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting approval"})]})]}),(0,j.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,j.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,j.jsx)(bc,{className:"text-sm font-medium",children:"Employees"}),(0,j.jsx)(Dc,{className:"h-4 w-4 text-muted-foreground"})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)("div",{className:"text-2xl font-bold",children:n.length}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total team members"})]})]}),(0,j.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,j.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,j.jsx)(bc,{className:"text-sm font-medium",children:"Approved"}),(0,j.jsx)(Pc,{className:"h-4 w-4 text-green-600"})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-green-600",children:A.length}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Loans approved"})]})]}),(0,j.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,j.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,j.jsx)(bc,{className:"text-sm font-medium",children:"Rejected"}),(0,j.jsx)(JA,{className:"h-4 w-4 text-red-600"})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-red-600",children:D.length}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Loans rejected"})]})]})]}),(0,j.jsxs)(yc,{className:"shadow-lg mb-8 animate-in slide-in-from-bottom duration-700",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"Pending Loan Requests"}),(0,j.jsx)(xc,{children:"Review and approve/reject loan applications"})]}),(0,j.jsx)(Ec,{children:P.length>0?(0,j.jsxs)(SR,{children:[(0,j.jsx)(_R,{children:(0,j.jsxs)(TR,{children:[(0,j.jsx)(CR,{children:"Employee"}),(0,j.jsx)(CR,{children:"Amount"}),(0,j.jsx)(CR,{children:"Date"}),(0,j.jsx)(CR,{children:"Actions"})]})}),(0,j.jsx)(kR,{children:P.map(e=>(0,j.jsxs)(TR,{className:"hover:bg-muted/50 transition-colors",children:[(0,j.jsx)(NR,{className:"font-medium",children:e.employeeName}),(0,j.jsxs)(NR,{className:"font-semibold",children:["$",e.amount.toFixed(2)]}),(0,j.jsx)(NR,{children:new Date(e.createdAt).toLocaleDateString()}),(0,j.jsx)(NR,{children:(0,j.jsx)("div",{className:"flex gap-2",children:(0,j.jsx)(dc,{size:"sm",variant:"ghost",onClick:()=>R(e),children:(0,j.jsx)(ZA,{className:"h-4 w-4"})})})})]},e.id))})]}):(0,j.jsxs)("div",{className:"text-center py-8",children:[(0,j.jsx)(jc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,j.jsx)("p",{className:"text-muted-foreground",children:"No pending loan requests"})]})})]}),C.canViewAllEmployees&&(0,j.jsxs)(yc,{className:"shadow-lg mb-8 animate-in slide-in-from-bottom duration-700",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"Employees"}),(0,j.jsxs)(xc,{children:["Your team members (",n.length," total)"]})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)(QA,{searchTerm:y,onSearchChange:w,placeholder:"Search employees by name or email..."}),O.length>0?(0,j.jsxs)(SR,{children:[(0,j.jsx)(_R,{children:(0,j.jsxs)(TR,{children:[(0,j.jsx)(CR,{children:"Name"}),(0,j.jsx)(CR,{children:"Email"}),(0,j.jsx)(CR,{children:"Salary"})]})}),(0,j.jsx)(kR,{children:O.map(e=>(0,j.jsxs)(TR,{className:"hover:bg-muted/50 transition-colors",children:[(0,j.jsx)(NR,{className:"font-medium",children:e.name}),(0,j.jsx)(NR,{children:e.email}),(0,j.jsxs)(NR,{className:"font-semibold",children:["$",e.salary.toFixed(2)]})]},e.id))})]}):(0,j.jsxs)("div",{className:"text-center py-8",children:[(0,j.jsx)(Dc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,j.jsx)("p",{className:"text-muted-foreground",children:y?"No employees found":"No employees yet"})]})]})]}),(0,j.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-bottom duration-700",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"All Loan Requests"}),(0,j.jsxs)(xc,{children:["Complete loan history (",i.length," total)"]})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)(QA,{searchTerm:b,onSearchChange:E,filterStatus:S,onFilterChange:_,placeholder:"Search loans by employee name...",showStatusFilter:!0}),M.length>0?(0,j.jsxs)(SR,{children:[(0,j.jsx)(_R,{children:(0,j.jsxs)(TR,{children:[(0,j.jsx)(CR,{children:"Employee"}),(0,j.jsx)(CR,{children:"Amount"}),(0,j.jsx)(CR,{children:"Status"}),(0,j.jsx)(CR,{children:"Date"}),(0,j.jsx)(CR,{children:"Actions"})]})}),(0,j.jsx)(kR,{children:M.map(e=>(0,j.jsxs)(TR,{className:"hover:bg-muted/50 transition-colors",children:[(0,j.jsx)(NR,{className:"font-medium",children:e.employeeName}),(0,j.jsxs)(NR,{className:"font-semibold",children:["$",e.amount.toFixed(2)]}),(0,j.jsx)(NR,{children:(0,j.jsx)(kc,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"secondary",children:e.status})}),(0,j.jsx)(NR,{children:new Date(e.createdAt).toLocaleDateString()}),(0,j.jsx)(NR,{children:(0,j.jsx)(dc,{size:"sm",variant:"ghost",onClick:()=>R(e),children:(0,j.jsx)(ZA,{className:"h-4 w-4"})})})]},e.id))})]}):(0,j.jsxs)("div",{className:"text-center py-8",children:[(0,j.jsx)(Lc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,j.jsx)("p",{className:"text-muted-foreground",children:b||"all"!==S?"No loans found":"No loan requests yet"})]})]})]})]}),(0,j.jsx)(KA,{loan:c,open:h,onOpenChange:f,onApprove:async(e,t)=>{if(C.canApproveLoan)try{await wk(g_(KT,"loans",e),{status:"approved",notes:t||"",updatedAt:(new Date).toISOString()}),T({title:"Success",description:"Loan approved successfully"}),WT.currentUser&&await I(WT.currentUser.uid)}catch(n){T({title:"Error",description:n.message,variant:"destructive"})}else T({title:"Permission Denied",description:"You don't have permission to approve loans",variant:"destructive"})},onReject:async(e,t)=>{if(C.canRejectLoan)try{await wk(g_(KT,"loans",e),{status:"rejected",rejectionReason:t,updatedAt:(new Date).toISOString()}),T({title:"Loan Rejected",description:"Loan has been rejected with reason provided"}),WT.currentUser&&await I(WT.currentUser.uid)}catch(n){T({title:"Error",description:n.message,variant:"destructive"})}else T({title:"Permission Denied",description:"You don't have permission to reject loans",variant:"destructive"})},userRole:"company"}),e&&(0,j.jsx)(XA,{open:p,onOpenChange:m,currentRates:e.interestRates||{3:5,6:7,12:10},onSave:async e=>{if(WT.currentUser)try{await wk(g_(KT,"companies",WT.currentUser.uid),{interestRates:e}),T({title:"Success",description:"Interest rates updated successfully"});const n=await mk(g_(KT,"companies",WT.currentUser.uid));n.exists()&&t(n.data())}catch(n){T({title:"Error",description:n.message,variant:"destructive"})}}})]})},tj=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,o]=(0,d.useState)(""),[s,a]=(0,d.useState)(""),[l,c]=(0,d.useState)(""),[u,h]=(0,d.useState)([]),[f,p]=(0,d.useState)(!1),m=jl(),{toast:g}=x();(0,d.useEffect)(()=>{(async()=>{const e=(await vk(m_(KT,"companies"))).docs.map(e=>({id:e.id,name:e.data().name}));h(e)})()},[]);return(0,j.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,j.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"Employee Registration"}),(0,j.jsx)(xc,{children:"Create your employee account"})]}),(0,j.jsx)(Ec,{children:(0,j.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),p(!0);try{const t=await ep(WT,n,i);await yk(g_(KT,"employees",t.user.uid),{name:e,email:n,salary:parseFloat(s),companyId:l,createdAt:(new Date).toISOString()}),g({title:"Success",description:"Employee registered successfully"}),m("/employee/login")}catch(r){g({title:"Error",description:r.message,variant:"destructive"})}finally{p(!1)}},className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"name",children:"Name"}),(0,j.jsx)(QT,{id:"name",type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"email",children:"Email"}),(0,j.jsx)(QT,{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"password",children:"Password"}),(0,j.jsx)(QT,{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"salary",children:"Salary"}),(0,j.jsx)(QT,{id:"salary",type:"number",step:"0.01",value:s,onChange:e=>a(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"company",children:"Company"}),(0,j.jsxs)(sR,{value:l,onValueChange:c,required:!0,children:[(0,j.jsx)(lR,{children:(0,j.jsx)(aR,{placeholder:"Select a company"})}),(0,j.jsx)(dR,{children:u.map(e=>(0,j.jsx)(hR,{value:e.id,children:e.name},e.id))})]})]}),(0,j.jsx)(dc,{type:"submit",className:"w-full",disabled:f,children:f?"Registering...":"Register"}),(0,j.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",(0,j.jsx)(sc,{to:"/employee/login",className:"text-primary hover:underline",children:"Login"})]})]})})]})})},nj=()=>{const[e,t]=(0,d.useState)(""),[n,r]=(0,d.useState)(""),[i,o]=(0,d.useState)(!1),s=jl(),{toast:a}=x();(0,d.useEffect)(()=>{const e=np(WT,e=>{e&&s("/employee/dashboard")});return()=>e()},[s]);return(0,j.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"var(--gradient-primary)"},children:(0,j.jsxs)(yc,{className:"w-full max-w-md shadow-lg",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"Employee Login"}),(0,j.jsx)(xc,{children:"Sign in to your employee account"})]}),(0,j.jsx)(Ec,{children:(0,j.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0);try{await tp(WT,e,n),a({title:"Success",description:"Logged in successfully"}),s("/employee/dashboard")}catch(r){a({title:"Error",description:r.message,variant:"destructive"})}finally{o(!1)}},className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"email",children:"Email"}),(0,j.jsx)(QT,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"password",children:"Password"}),(0,j.jsx)(QT,{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,j.jsx)(dc,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login"}),(0,j.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",(0,j.jsx)(sc,{to:"/employee/register",className:"text-primary hover:underline",children:"Register"})]})]})})]})})},rj=At("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ij=()=>{const[e,t]=(0,d.useState)(null),[n,r]=(0,d.useState)([]),[i,o]=(0,d.useState)(""),[s,a]=(0,d.useState)(""),[c,u]=(0,d.useState)({3:5,6:7,12:10}),[h,f]=(0,d.useState)("6"),[p,m]=(0,d.useState)(!0),[g,v]=(0,d.useState)(null),[y,w]=(0,d.useState)(!1),b=jl(),{toast:E}=x();(0,d.useEffect)(()=>{const e=np(WT,async e=>{if(e)try{const n=await mk(g_(KT,"employees",e.uid));if(n.exists()){const r=n.data();t(r);const i=await mk(g_(KT,"companies",r.companyId));if(i.exists()){const e=i.data();if(e.interestRates)u(e.interestRates);else if(e.defaultInterestRate){const t=e.defaultInterestRate;u({3:t,6:t,12:t})}}await S(e.uid)}}catch(n){E({title:"Error",description:n.message,variant:"destructive"})}finally{m(!1)}else b("/employee/login")});return()=>e()},[b,E]);const S=async e=>{const t=tk(m_(KT,"loans"),rk("employeeId","==",e)),n=(await vk(t)).docs.map(e=>l({id:e.id},e.data()));r(n)};if(p)return(0,j.jsx)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:(0,j.jsx)("div",{className:"container py-8",children:(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsx)(RR,{className:"h-12 w-64"}),(0,j.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,j.jsx)(RR,{className:"h-32"}),(0,j.jsx)(RR,{className:"h-32"}),(0,j.jsx)(RR,{className:"h-32"})]}),(0,j.jsx)(RR,{className:"h-96"})]})})});const _=n.filter(e=>"pending"===e.status),k=n.filter(e=>"approved"===e.status),T=n.filter(e=>"rejected"===e.status),C=c[h],N=i?PR(parseFloat(i)||0,C,parseInt(h)||6):null;return(0,j.jsxs)("div",{className:"min-h-screen",style:{background:"var(--gradient-primary)"},children:[(0,j.jsxs)("div",{className:"container py-8",children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-8 animate-in fade-in duration-500",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:null===e||void 0===e?void 0:e.name}),(0,j.jsxs)("p",{className:"text-lg text-muted-foreground",children:["Salary: $",null===e||void 0===e?void 0:e.salary.toFixed(2)]})]}),(0,j.jsx)(dc,{onClick:async()=>{try{await rp(WT),b("/employee/login")}catch(e){E({title:"Error",description:e.message,variant:"destructive"})}},variant:"outline",children:"Logout"})]}),(0,j.jsxs)("div",{className:"grid gap-6 md:grid-cols-4 mb-8 animate-in slide-in-from-bottom duration-700",children:[(0,j.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,j.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,j.jsx)(bc,{className:"text-sm font-medium",children:"Total Loans"}),(0,j.jsx)(Lc,{className:"h-4 w-4 text-muted-foreground"})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)("div",{className:"text-2xl font-bold",children:n.length}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"All requests"})]})]}),(0,j.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,j.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,j.jsx)(bc,{className:"text-sm font-medium",children:"Pending"}),(0,j.jsx)(Oc,{className:"h-4 w-4 text-yellow-600"})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:_.length}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting review"})]})]}),(0,j.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,j.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,j.jsx)(bc,{className:"text-sm font-medium",children:"Approved"}),(0,j.jsx)(Mc,{className:"h-4 w-4 text-green-600"})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-green-600",children:k.length}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Successful"})]})]}),(0,j.jsxs)(yc,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[(0,j.jsxs)(wc,{className:"flex flex-row items-center justify-between pb-2",children:[(0,j.jsx)(bc,{className:"text-sm font-medium",children:"Rejected"}),(0,j.jsx)(rj,{className:"h-4 w-4 text-red-600"})]}),(0,j.jsxs)(Ec,{children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-red-600",children:T.length}),(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Declined"})]})]})]}),(0,j.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,j.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-left duration-700",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"Request Loan"}),(0,j.jsx)(xc,{children:"Request a loan up to your salary amount"})]}),(0,j.jsx)(Ec,{children:(0,j.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=parseFloat(i),r=c[h],l=parseInt(h);if(e)if(n>e.salary)E({title:"Error",description:"Loan amount cannot exceed your salary",variant:"destructive"});else if(s.trim())try{var u;const t=PR(n,r,l);await function(e,t){const n=Ig(e.firestore,b_),r=g_(e),i=ck(e.converter,t);return bk(n,[O_(D_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qw.exists(!1))]).then(()=>r)}(m_(KT,"loans"),{employeeId:null===(u=WT.currentUser)||void 0===u?void 0:u.uid,companyId:e.companyId,amount:n,purpose:s,interestRate:r,repaymentTerm:l,totalAmount:t.totalAmount,monthlyPayment:t.monthlyPayment,status:"pending",createdAt:(new Date).toISOString()}),E({title:"Success",description:"Loan request submitted successfully"}),o(""),a(""),f("6"),WT.currentUser&&await S(WT.currentUser.uid)}catch(d){E({title:"Error",description:d.message,variant:"destructive"})}else E({title:"Error",description:"Please provide a purpose for the loan",variant:"destructive"})},className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)(ZT,{htmlFor:"amount",children:["Loan Amount (Max: $",null===e||void 0===e?void 0:e.salary.toFixed(2),")"]}),(0,j.jsx)(QT,{id:"amount",type:"number",step:"0.01",max:null===e||void 0===e?void 0:e.salary,value:i,onChange:e=>o(e.target.value),placeholder:"Enter amount",required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"purpose",children:"Loan Purpose *"}),(0,j.jsx)(LP,{id:"purpose",placeholder:"Explain why you need this loan...",value:s,onChange:e=>a(e.target.value),className:"min-h-[80px]",required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(ZT,{htmlFor:"term",children:"Repayment Term"}),(0,j.jsxs)(sR,{value:h,onValueChange:e=>f(e),children:[(0,j.jsx)(lR,{id:"term",children:(0,j.jsx)(aR,{})}),(0,j.jsxs)(dR,{children:[(0,j.jsxs)(hR,{value:"3",children:["3 months - ",c[3],"% interest"]}),(0,j.jsxs)(hR,{value:"6",children:["6 months - ",c[6],"% interest"]}),(0,j.jsxs)(hR,{value:"12",children:["12 months - ",c[12],"% interest"]})]})]}),(0,j.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Interest rate: ",(0,j.jsxs)("span",{className:"font-semibold",children:[C,"%"]})," (set by company)"]})]}),N&&i&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(HP,{}),(0,j.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2 text-sm",children:[(0,j.jsx)("h4",{className:"font-semibold mb-2",children:"Loan Summary"}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"Principal Amount:"}),(0,j.jsxs)("span",{className:"font-medium",children:["$",parseFloat(i).toFixed(2)]})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"Total Interest:"}),(0,j.jsxs)("span",{className:"font-medium",children:["$",N.totalInterest.toFixed(2)]})]}),(0,j.jsx)(HP,{}),(0,j.jsxs)("div",{className:"flex justify-between text-base",children:[(0,j.jsx)("span",{className:"font-semibold",children:"Total Amount:"}),(0,j.jsxs)("span",{className:"font-bold",children:["$",N.totalAmount.toFixed(2)]})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-muted-foreground",children:"Monthly Payment:"}),(0,j.jsxs)("span",{className:"font-semibold text-primary",children:["$",N.monthlyPayment.toFixed(2)]})]})]})]}),(0,j.jsx)(dc,{type:"submit",className:"w-full",children:"Submit Loan Request"})]})})]}),(0,j.jsxs)(yc,{className:"shadow-lg animate-in slide-in-from-right duration-700",children:[(0,j.jsxs)(wc,{children:[(0,j.jsx)(bc,{children:"Loan History"}),(0,j.jsxs)(xc,{children:["Your loan requests and their status (",n.length," total)"]})]}),(0,j.jsx)(Ec,{children:n.length>0?(0,j.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,j.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>(e=>{v(e),w(!0)})(e),children:[(0,j.jsxs)("div",{className:"flex-1",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,j.jsxs)("span",{className:"font-semibold",children:["$",e.amount.toFixed(2)]}),(0,j.jsx)(kc,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"secondary",className:"text-xs",children:e.status})]}),(0,j.jsxs)("p",{className:"text-xs text-muted-foreground",children:[new Date(e.createdAt).toLocaleDateString(),e.repaymentTerm&&" \u2022 ".concat(e.repaymentTerm," months")]}),e.purpose&&(0,j.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:e.purpose})]}),(0,j.jsx)(dc,{size:"sm",variant:"ghost",children:(0,j.jsx)(ZA,{className:"h-4 w-4"})})]},e.id))}):(0,j.jsxs)("div",{className:"text-center py-8",children:[(0,j.jsx)(Lc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),(0,j.jsx)("p",{className:"text-muted-foreground text-sm",children:"No loan history yet"})]})})]})]})]}),(0,j.jsx)(KA,{loan:g,open:y,onOpenChange:w,userRole:"employee"})]})},oj=()=>{const e=Pl(),t=e.pathname.includes("/company/dashboard"),n=e.pathname.includes("/employee/dashboard");return t||n?(0,j.jsx)("header",{className:"border-b bg-gradient-to-r from-primary/10 via-primary/5 to-background backdrop-blur-md shadow-md",children:(0,j.jsx)("div",{className:"container flex items-center justify-between h-16 px-4",children:(0,j.jsxs)(sc,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-foreground hover:opacity-90 transition-all",children:[(0,j.jsx)("img",{src:"/loanhub-logo.png",alt:"LoanHub",className:"h-8 w-8"}),(0,j.jsx)("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"LoanHub"})]})})}):(0,j.jsx)("header",{className:"border-b bg-gradient-to-r from-primary/10 via-primary/5 to-background backdrop-blur-md shadow-md",children:(0,j.jsxs)("div",{className:"container flex items-center justify-between h-16 px-4",children:[(0,j.jsxs)(sc,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-foreground hover:opacity-90 transition-all",children:[(0,j.jsx)("img",{src:"/loanhub-logo.png",alt:"LoanHub",className:"h-8 w-8"}),(0,j.jsx)("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"LoanHub"})]}),(0,j.jsxs)("nav",{className:"flex items-center gap-3",children:[(0,j.jsx)(dc,{variant:"ghost",className:"gap-2 hover:bg-primary/10 transition-all",asChild:!0,children:(0,j.jsxs)(sc,{to:"/company/login",children:[(0,j.jsx)(Cc,{className:"h-4 w-4"}),"Company"]})}),(0,j.jsx)(dc,{variant:"ghost",className:"gap-2 hover:bg-primary/10 transition-all",asChild:!0,children:(0,j.jsxs)(sc,{to:"/employee/login",children:[(0,j.jsx)(Ic,{className:"h-4 w-4"}),"Employee"]})})]})]})})},sj=e=>{let{children:t,redirectTo:n,userType:r}=e;const[i,o]=(0,d.useState)(!0),[s,a]=(0,d.useState)(!1),[l,c]=(0,d.useState)(!1);if((0,d.useEffect)(()=>{const e=np(WT,async e=>{if(!e)return a(!1),void o(!1);if(a(!0),!r)return c(!0),void o(!1);try{const t="company"===r?"companies":"employees",n=await mk(g_(KT,t,e.uid));c(n.exists())}catch(t){console.error("Error checking user type:",t),c(!1)}o(!1)});return()=>e()},[r]),i)return(0,j.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--gradient-primary)"},children:(0,j.jsx)("div",{className:"text-center",children:(0,j.jsx)("div",{className:"text-2xl font-semibold text-foreground",children:"Loading..."})})});if(!s)return(0,j.jsx)(Ql,{to:n,replace:!0});if(!l){const e="company"===r?"/employee/dashboard":"/company/dashboard";return(0,j.jsx)(Ql,{to:e,replace:!0})}return(0,j.jsx)(j.Fragment,{children:t})},aj=new La,lj=()=>(0,j.jsx)(Ua,{client:aj,children:(0,j.jsxs)(ws,{children:[(0,j.jsx)(qn,{}),(0,j.jsx)(pr,{}),(0,j.jsxs)(rc,{children:[(0,j.jsx)(oj,{}),(0,j.jsxs)($l,{children:[(0,j.jsx)(Yl,{path:"/",element:(0,j.jsx)(Fc,{})}),(0,j.jsx)(Yl,{path:"/company/register",element:(0,j.jsx)(fR,{})}),(0,j.jsx)(Yl,{path:"/company/login",element:(0,j.jsx)(pR,{})}),(0,j.jsx)(Yl,{path:"/company/dashboard",element:(0,j.jsx)(sj,{redirectTo:"/company/login",userType:"company",children:(0,j.jsx)(ej,{})})}),(0,j.jsx)(Yl,{path:"/employee/register",element:(0,j.jsx)(tj,{})}),(0,j.jsx)(Yl,{path:"/employee/login",element:(0,j.jsx)(nj,{})}),(0,j.jsx)(Yl,{path:"/employee/dashboard",element:(0,j.jsx)(sj,{redirectTo:"/employee/login",userType:"employee",children:(0,j.jsx)(ij,{})})}),(0,j.jsx)(Yl,{path:"*",element:(0,j.jsx)(Uc,{})})]})]})]})});(0,r.H)(document.getElementById("root")).render((0,j.jsx)(lj,{}))})();
//# sourceMappingURL=main.1fd119ed.js.map